{"version":3,"sources":["webpack:///./src/components/KonnectorInstall.jsx","webpack:///./src/assets/sprites/icon-refund.svg","webpack:///./src/lib/redux-cozy-client/DataAccessFacade.js","webpack:///./src/lib/popup.js","webpack:///./src/assets/sprites/icon-family.svg","webpack:///./src/locales sync ^\\.\\/.*$","webpack:///./src/lib/accounts.js","webpack:///./src/assets/sprites/icon-travelDate.svg","webpack:///./src/assets/sprites/icon-certificate.svg","webpack:///./src/assets/sprites/icon-bankTransactions.svg","webpack:///./src/lib/redux-cozy-client/adapters/CozyStackAdapter.js","webpack:///./src/assets/sprites/icon-files-pen.svg","webpack:///./src/assets/sprites/icon-arrow-left.svg","webpack:///./src/assets/sprites/icon-sync.svg","webpack:///./src/ducks/accounts/index.js","webpack:///./src/components/ReactMarkdownWrapper.jsx","webpack:///./src/styles/konnectorSuccess.styl?7493","webpack:///./src/styles/field.styl?d642","webpack:///./src/ducks/connections/index.js","webpack:///./src/components/ErrorDescriptions.jsx","webpack:///./src/assets/sprites/icon-bloodPressure.svg","webpack:///./src/styles/accountLoginForm.styl?7118","webpack:///./src/components/KonnectorSuccess.jsx","webpack:///./src/assets/sprites/icon-profile.svg","webpack:///./src/assets/sprites/icon-bill.svg","webpack:///./src/lib/konnectors.js","webpack:///./src/styles/konnectorMaintenance.styl?9401","webpack:///./src/lib/redux-cozy-client/authentication/mobile.js","webpack:///./src/assets/sprites/icon-warning.svg","webpack:///./src/lib/redux-cozy-client/CozyProvider.jsx","webpack:///./src/lib/realtime.js","webpack:///./src/components/DescriptionContent.jsx","webpack:///./src/lib/statefulComponent.jsx","webpack:///./src/assets/sprites/icon-call-log.svg","webpack:///./src/assets/sprites/icon-tweet.svg","webpack:///./src/styles/accountConnectionData.styl?6cdd","webpack:///./src/lib/redux-cozy-client/reducer.js","webpack:///./src/lib/redux-cozy-client/helpers.js","webpack:///./src/assets/sprites/icon-appointment.svg","webpack:///./src/components/DataItem.jsx","webpack:///./src/assets/sprites/icon-pin-active.svg","webpack:///./src/assets/sprites/icon-new.svg","webpack:///./src/styles/konnectorInstall.styl?853a","webpack:///./src/assets/sprites/icon-contact.svg","webpack:///./src/assets/sprites/icon-sleepTime.svg","webpack:///./src/components/AccountLogout.jsx","webpack:///./src/assets/sprites/icon-stepsNumber.svg","webpack:///./src/components/KonnectorFolder.jsx","webpack:///./src/lib/CollectStore.js","webpack:///./src/styles/konnectorFolder.styl?437e","webpack:///./src/components/KonnectorMaintenance.jsx","webpack:///./src/styles/accountLogout.styl?f4a6","webpack:///./src/styles/konnectorEdit.styl?7571","webpack:///./src/styles/descriptionContent.styl?1636","webpack:///./src/assets/sprites/icon-check.svg","webpack:///./src/assets/sprites/icon-temperature.svg","webpack:///./src/lib/icons.js","webpack:///./src/assets/sprites/icon-event.svg","webpack:///./src/lib/redux-cozy-client/CozyClient.js","webpack:///./src/assets/sprites/icon-forbidden.svg","webpack:///./src/assets/sprites/icon-contract.svg","webpack:///./src/styles/dataItem.styl?f61a","webpack:///./src/assets/sprites/icon-courseMaterial.svg","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/assets/sprites/icon-pin.svg","webpack:///./src/assets/sprites/icon-home.svg","webpack:///./src/assets/sprites/icon-bankAccounts.svg","webpack:///./src/components/AccountConnectionData.jsx","webpack:///./src/lib/middlewares/konnectorsI18n.js","webpack:///./src/assets/sprites/icon-document.svg","webpack:///./src/assets/sprites/icon-geolocation.svg","webpack:///./src/lib/triggers.js","webpack:///./src/lib/redux-cozy-client/connect.jsx","webpack:///./src/assets/sprites/icon-graduated.svg","webpack:///./src/lib/statefulForm.jsx","webpack:///./src/assets/sprites/icon-dashboard.svg","webpack:///./src/assets/sprites/icon-movies.svg","webpack:///./src/assets/sprites/icon-sinister.svg","webpack:///./src/store/configureStore.js","webpack:///./src/reducers/index.js","webpack:///./src/lib/helpers.js","webpack:///./src/assets/sprites/icon-fallback.svg","webpack:///./src/assets/sprites/icon-activity.svg","webpack:///./src/assets/sprites/icon-consumption.svg","webpack:///./src/components/AccountLoginForm.jsx","webpack:///./src/components/KonnectorHeaderIcon.jsx","webpack:///./src/assets/sprites/icon-waves.svg","webpack:///./src/styles/konnectorHeaderIcon.styl?5067","webpack:///./src/styles/accountConnection.styl?c5cc","webpack:///./src/assets/sprites/icon-videostream.svg","webpack:///./src/assets/sprites/icon-weight.svg","webpack:///./src/assets/sprites sync ^\\.\\/icon\\-.*\\.svg$","webpack:///./src/lib/redux-cozy-client/adapters/PouchdbAdapter.js","webpack:///./src/lib/jobs.js","webpack:///./src/assets/sprites/icon-categories.svg","webpack:///./src/assets/sprites/icon-phonecommunicationlog.svg","webpack:///./src/lib/redux-cozy-client/index.js","webpack:///./src/components/KonnectorEdit.jsx","webpack:///./src/components/appEntryPoint.jsx","webpack:///./src/assets/sprites/icon-categories-active.svg","webpack:///./node_modules/date-fns/locale sync ^\\.\\/.*\\/index$","webpack:///./src/lib/redux-cozy-client/utils.js","webpack:///./src/lib/daytime.js","webpack:///./src/lib/redux-cozy-client/slices/sharings.js","webpack:///./src/assets/sprites/icon-commit.svg","webpack:///./src/ducks/triggers/index.js","webpack:///./src/components/KonnectorSync.jsx","webpack:///./src/styles/KonnectorSync.styl?340a","webpack:///./src/ducks/jobs/index.js","webpack:///./src/lib/redux-cozy-client/slices/synchronization.js","webpack:///./src/assets/sprites/icon-geopoint.svg","webpack:///./src/assets/sprites/icon-podcast.svg","webpack:///./src/assets/sprites/icon-heartbeat.svg","webpack:///./src/ducks/konnectors/index.js","webpack:///./src/assets/images/connecting-data-in-progress.svg","webpack:///./src/assets/sprites/icon-money.svg","webpack:///./src/lib/redux-cozy-client/middleware.js","webpack:///./src/containers/AccountConnection.jsx","webpack:///./src/components/Field.jsx","webpack:///./src/assets/sprites/icon-calendar.svg"],"names":["KonnectorInstall","t","props","account","connector","disableSuccessTimeout","error","fields","handleConnectionSuccess","queued","isUnloading","oAuthTerminated","onCancel","onDone","onSubmit","submitting","success","successMessage","successMessages","trigger","allRequiredFieldsAreFilled","displayAdvanced","toggleAdvanced","isFetching","isValid","dirty","successButtonLabel","maintenance","lang","hasLoginError","isKonnectorLoginError","hasErrorExceptLogin","isRunningInQueue","styles","ErrorDescription","name","getKonnectorMessage","longTerm","slug","oauth","message","folder_to_save","translate","DataAccessFacade","stackAdapter","CozyStackAdapter","PouchDB","pouchAdapter","PouchdbAdapter","strategy","PouchFirstStrategy","StackOnlyStrategy","cozyUrl","options","config","cozyURL","cozy","client","init","offline","registerDoctypes","doctypes","doctype","getAdapter","dispatch","sync","SYNC_BIDIRECTIONAL","SYNC_TO","SYNC_FROM","getDatabase","undefined","popupCenter","url","title","w","h","dualScreenLeft","window","screenLeft","screen","left","dualScreenTop","screenTop","top","width","innerWidth","document","documentElement","clientWidth","height","innerHeight","clientHeight","newWindow","open","location","href","focus","waitForClosedPopup","popup","accountType","Promise","resolve","reject","cb","messageEvent","data","OAuthStateKey","state","localStorage","getItem","JSON","parse","removeItem","key","addEventListener","monitorOAuthClosing","closed","removeEventListener","Error","setTimeout","ACCOUNTS_DOCTYPE","ACCOUNT_ERRORS","LOGIN_FAILED","MAINTENANCE","NOT_EXISTING_DIRECTORY","SUCCESS_TIMEOUT","USER_ACTION_NEEDED","probableLoginFieldNames","ignorePassword","auth","sanitized","password","sanitizeAccountAuthForUpdate","credentials_encrypted","update","newAccount","updateAttributes","_id","_delete","delete","FILES_DOCTYPE","FETCH_LIMIT","SHARED_BY_LINK","SHARED_WITH_ME","SHARED_WITH_OTHERS","skip","fetchJSON","processJSONAPI","meta","next","count","resp","rows","filter","row","doc","hasOwnProperty","docs","map","Object","assign","id","_type","total_rows","offset","match","index","sort","f","queryOptions","limit","wholeResponse","files","query","response","attributes","find","normalized","create","created","job","updated","_rev","defineIndex","path","statByPath","file","normalizeFile","dirID","trashById","fetchReferencedFiles","included","konnector","worker","ids","addReferencedFiles","removeReferencedFiles","fetchPermissions","sharingType","byMe","byLink","withMe","permissions","contactIds","description","desc","recipients","recipient","contactId","type","sharing_type","sharingId","clientId","permission","DOCTYPE","accountCollectionKey","createAccount","createDocument","updateCollections","fetchAccounts","fetchCollection","fetchAccount","fetchDocument","collection","getAccount","documents","getIds","keys","reactMarkdownRendererOptions","Link","children","ReactMarkdownWrapper","source","ACCOUNT_DOCTYPE","TRIGGERS_DOCTYPE","JOBS_DOCTYPE","DEFAULT_QUEUE_DELAY","CREATE_CONNECTION","CONNECTION_DELETED","DELETE_CONNECTION","DELETE_CONNECTION_FAILURE","ENQUEUE_CONNECTION","LAUNCH_TRIGGER","PURGE_QUEUE","RECEIVE_DATA","RECEIVE_NEW_DOCUMENT","UPDATE_CONNECTION_RUNNING_STATUS","UPDATE_CONNECTION_ERROR","START_CONNECTION_CREATION","END_CONNECTION_CREATION","getTriggerKonnectorSlug","isKonnectorTrigger","isKonnectorJob","deleteAccount","status","syncedAccount","reducer","action","konnectorReducer","length","reduce","newState","isTrigger","isJob","konnectorSlug","triggerId","trigger_id","currentStatus","current_state","last_error","buildKonnectorError","lastSyncDate","last_execution","queued_at","triggers","hasError","isRunning","includes","isConnected","konnectors","creation","isAccount","combineReducers","triggersReducer","isDeleting","deleted","isEnqueued","createConnection","folder","enqueueConnection","purgeQueue","updateConnectionError","startConnectionCreation","endConnectionCreation","deleteConnection","getState","getTriggerAccount","then","catch","launchTriggerAndQueue","delay","isConnectionRunning","connections","launchTrigger","getConnectionsByKonnector","validAccounts","validKonnectors","konnectorIsValid","konnectorHasConnections","values","getFirstError","firstTriggerHavingError","getFirstUserError","firstTriggerHavingUserError","isKonnectorUserError","getLastSyncDate","lastExecutions","dateA","dateB","momentA","moment","utc","momentB","isAfter","isBefore","getTriggerQueueStatus","getQueue","queuedConnections","concat","queuedTriggers","label","getConnectionError","getTriggerState","getCreatedAccount","getTriggerIdByKonnectorAndAccount","getTriggerLastSuccess","lastJob","getTriggerLastJob","lastJobIsSuccess","started_at","last_success","isCreatingConnection","isConnectionConnected","isConnectionDeleting","isConnectionEnqueued","getErrorTitle","getMostAccurateErrorKey","getErrorDescription","link","vendor_link","KnownErrorDescription","GlobalErrorDescription","isKonnectorKnownError","supportLink","KonnectorSuccess","context","store","folderId","messages","driveUrl","banksUrl","displayDriveUrl","Array","isArray","data_types","displayBanksUrl","hasLinks","connectingIllu","intents","redirect","event","preventDefault","Component","ERROR_TYPES","CHALLENGE_ASKED","VENDOR_DOWN","DISK_QUOTA_EXCEEDED","KONNECTORS_DOCTYPE","KONNECTOR_RESULT_STATE","ERRORED","CONNECTED","subscribeAll","realtime","patchFolderPermission","saveFolder","encodeURIComponent","addFolderPermission","split","code","checkLocale","getKey","errorSegments","tested","fullKey","join","slice","legacyMessages","terms","getLocaleFn","hasDescriptions","providesMessage","providesLegacyMessage","hasCordovaPlugin","cordova","InAppBrowser","REGISTRATION_ABORT","authenticateWithCordova","target","inAppBrowser","removeListener","onLoadStart","onExit","accessCode","test","close","token","prompt","CozyProvider","PropTypes","shape","subscribe","func","isRequired","object","element","cozySocket","WEBSOCKET_STATE","OPEN","KEEPALIVE","INTERVAL","METHOD_NAME","NUM_RETRIES","RETRY_BASE_DELAY","subscribeWhenReady","socket","readyState","send","stringify","method","payload","console","warn","getWebsocketProtocol","protocol","keepAlive","interval","keepAliveInterval","setInterval","clearInterval","connectWebSocket","onmessage","onclose","numRetries","retryDelay","WebSocket","_url","onopen","_token","windowUnloadHandler","onerror","getCozySocket","listeners","onSocketMessage","eventType","toLowerCase","isPingError","realtimeError","errorFields","forEach","property","listener","onSocketClose","wasClean","reason","unsubscribe","l","docListenerCurried","syncedDoc","onCreate","subscription","onUpdate","onDelete","parseCurried","createListener","updateListener","deleteListener","DescriptionContent","cssClassesObject","centerTitle","classNames","m","statefulComponent","initialState","eventHandlers","handlers","setState","bind","APPS_DOCTYPE","FETCH_DOCUMENT","FETCH_COLLECTION","RECEIVE_ERROR","CREATE_DOCUMENT","UPDATE_DOCUMENT","DELETE_DOCUMENT","RECEIVE_APP","RECEIVE_UPDATED_DOCUMENT","RECEIVE_DELETED_DOCUMENT","FETCH_REFERENCED_FILES","ADD_REFERENCED_FILES","REMOVE_REFERENCED_FILES","apps","objectifyDocumentsArray","dataDoctype","getArrayDoctype","removeObjectProperty","updateFilesReferences","removeFilesReferences","obj","updateFileReference","relationships","referenced_by","newlyReferencedIds","removeFileReferences","rel","removedIds","getDoctype","collectionInitialState","fetchStatus","lastFetch","hasMore","Date","now","indexOf","collections","applyUpdate","updateAction","sharings","synchronization","fetchApps","types","promise","fetchTriggers","fetchKonnectors","actionOptions","createTrigger","updateDocument","deleteDocument","deleteTrigger","createFile","trashFile","makeActionCreator","makeFetchMoreAction","applySelectorForAction","getCollection","getDocument","FETCH_SHARINGS","getSharingDetails","getSharings","enhancePropsForActions","fetchActions","mapValues","propName","dataObject","fetchMore","mapDocumentsToIds","isCollectionFetched","slugify","text","toString","replace","forceFileDownload","filename","createElement","setAttribute","style","display","body","appendChild","click","removeChild","downloadArchive","notSecureFilename","fileIds","getArchiveLinkByIds","fullpath","downloadFile","downloadById","blob","URL","createObjectURL","DataItem","dataType","icon","require","default","AccountLogout","deleting","KonnectorFolder","isModalOpen","folderUpdateStatus","newProps","UNSAFE_componentWillReceiveProps","React","CONNECTION_STATUS","RUNNING","normalize","dbObject","CollectStore","categories","initializeRealtime","jobs","updateUnfinishedJob","realtimeTriggers","item","links","related","err","findAll","folders","result","a","b","folderPath","createDirectoryByPath","connection","isOAuth","createDirectoryIfNecessary","account_type","createKonnectorTrigger","startDate","randomDayTime","timeInterval","defaultTriggerTimeInterval","loginDelay","previousAccount","accounts","updateAttributesById","namePath","dir_id","updateAccount","intent","createService","KonnectorMaintenance","konnectorName","root","querySelector","dataset","domain","cozyDomain","secure","appIconProps","SHARINGS_DOCTYPE","CozyClient","indexes","specialDirectories","facade","setup","onRegistered","authorize","clientInfos","getClient","startSync","startReplicationTo","startReplicationFrom","selector","getCollectionIndex","queryDocuments","fetchDocuments","fetchFile","fetchSharingPermissions","sharingIds","p","source_id","all","fetchSharing","createSharing","revokeSharing","revokeSharingForClient","createSharingLink","revokeSharingLink","dir","value","getUniqueIndex","existingDocs","createIndex","getIndexFields","i","arr","AccountConnectionData","hasDataTypes","serviceMessage","ClassNames","extendI18nWithKonnector","langs","locales","hasLangs","providesLang","actualLang","localeKeys","providesLocales","extendI18n","konnectorsI18nMiddleware","connect","mapDocumentsToProps","mapActionsToProps","Wrapper","makeMapStateToProps","initialOwnProps","initialProps","isAction","filterValues","prop","otherProps","mapStateToProps","reduxConnect","hasDateInputSupport","hasSupport","input","notADateValue","statefulForm","mapPropsToFormConfig","wrapForm","WrappedForm","StatefulForm","configureFields","_","collectConfig","defaultDateFormat","onOAuth","isValidButPasswords","allRequiredFilledButPasswords","nextProps","assignValues","errors","assignErrors","prevState","defaultAccountNamePlaceholder","dateFormat","configFields","accountNamePlaceholder","accountName","placeholder","accountNameField","advanced","fieldsFromConfig","advancedFields","fieldName","defaut","field","pattern","maxLength","max","minLength","min","format","onInput","handleChange","onChange","onBlur","handleBlur","checked","calendar","stateFields","isDate","localeFormat","patternRx","RegExp","push","validationMessage","invalidFields","invalidPasswords","isErrored","accountNameUpdate","login","identifier","shouldChangeNamePlaceholder","stateUpdate","unfilled","unfilledPasswords","isRequiredAndEmpty","getData","configureStore","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE","compose","reduxStore","createStore","getReducers","applyMiddleware","apply","cozyMiddleware","thunkMiddleware","createLogger","getInstalledKonnectors","fromKonnectors","fromConnections","fromAccounts","getConnectionsQueue","getCreatedConnectionAccount","getKonnectorTriggersCount","fromTriggers","getKonnectorsInMaintenance","getTriggerByKonnectorAndAccount","getAccountName","getAccountLogin","email","getRandomKeyString","Math","random","substring","renderers","date","checkbox","dropdown","hydrateFieldValue","identity","x","FieldDescription","hasLegacyDescription","hasDescription","descriptionKey","AccountLoginForm","submitEnabled","editing","forceEnabled","connectorSlug","isSuccess","alreadyFocused","fieldSpecs","fieldSpec","visibleFields","isHidden","grouped","groupBy","isAdvanced","editableFields","hasEditableFields","canHandleEnterKey","onEnterKey","renderField","disabled","giveFocus","readonly","hydrate","invalid","fieldStyles","cloneElement","KonnectorHeaderIcon","center","REPLICATION_INTERVAL","plugin","pouchdbFind","instances","basic","credentials","toBasicAuth","info","update_seq","direction","getReplicationBaseUrl","baseUrl","getSeqNumber","seqNumber","startDoctypeSync","syncDoctype","replicationUrl","db","syncHandler","replicate","to","from","on","syncDoctypeOk","scheduleNextSync","refreshToken","saveCredentials","newToken","syncDoctypeError","allDocs","include_docs","k","get","revs_info","post","rev","safeDoc","put","remove","decode","KonnectorEdit","lastSuccess","closeModal","onForceConnection","warningIcon","warningSvg","frequency","fetchKonnectorJobs","appEntryPoint","WrappedComponent","selectData","cozyConnect","transform","randomize","start","end","r","hours","floor","minutes","RECEIVE_SHARINGS_DATA","RECEIVE_FETCH_SHARINGS_ERROR","CREATE_SHARING","RECEIVE_NEW_SHARING","CREATE_SHARING_LINK","RECEIVE_NEW_SHARING_LINK","REVOKE_SHARING_LINK","RECEIVE_SHARING_LINK_REVOKE","REVOKE_SHARING","RECEIVE_SHARING_REVOKE","removeRecipient","recipientId","idx","findIndex","s","sharing_id","sharing","loneRecipient","revoked","doctypePermsetInitialState","rule0","fetchSharings","share","sharingDesc","createContact","c","recipientIds","trackSharingByEmail","unshare","getSharingForRecipient","Client","client_id","leave","getDocumentActiveSharings","owner","shareByLink","trackSharingByLink","revokeLink","perm","getSharingLinkPermission","getPermissionsFor","fetchContacts","contact","address","primary","publicLink","verbs","isFile","getSharing","getContact","getDoctypePermissions","getSharingLink","buildSharingLink","codes","perms","getSharingStatus","shared","some","sharingLink","sharer","readOnly","getSharingRecipients","sharecode","origin","track","tracker","getTracker","HOURLY_FREQUENCY","DAILY_FREQUENCY","WEEKLY_FREQUENCY","MONTHLY_FREQUENCY","VALID_FREQUENCIES","DEFAULT_FREQUENCY","triggersCollectionKey","fromCozyClient","buildKonnectorTrigger","parseFrequency","buildTriggerFrequencyOptions","frequencyOptions","dayOfWeek","getDay","dayOfMonth","getDate","isInteger","parseInt","workerArguments","arguments","worker_arguments","getKonnectorTriggers","existingAccountIds","getTrigger","getDateLabel","DateFns","months","dows","humanCron","cronSpec","minute","hour","month","timePart","monthPart","dowPart","e","KonnectorSync","lastSuccessDate","lastSyncMessage","lastestJob","currentJob","isJobRunning","START_SYNC","START_DOCTYPE_SYNC","SYNC_DOCTYPE_OK","SYNC_DOCTYPE_ERROR","doctypeSyncInitialState","syncStatus","lastSync","doctypeSync","infos","isFirstSync","seqNumbers","every","number","isSynced","timestamps","ts","konnectorsCollectionKey","fetchKonnectorsInMaintenance","receiveInstalledKonnector","getKonnector","getKonnectorsByCategory","category","getIndexedKonnectors","indexed","getSlugs","rest","REQUEST","SUCCESS","FAILURE","log","sanitizeDate","sanitizedFormat","isAlreadySanitized","momentDate","sanitizeDates","sanitizedValues","AccountConnection","valuesToSubmit","connectAccountOAuth","scope","connectAccount","handleError","existingAccount","accountHasJustBeenCreated","runConnection","oAuthError","OAuthState","setItem","newTab","terminateOAuth","accountID","accountValues","connectionError","runAccount","handleDeleteSuccess","alertDeleteSuccess","additionnalSuccessMessage","createdAccount","displayAccountsCount","forceConnection","buildSuccessMessages","cancel","ownProps","mapDispatchToProps","accountId","withRouter","Field","inputs","Children","toArray","child","selected","className","noAutoFill","autoFill","FieldWrapperComponent","ev","which","keyCode","thisNode","ReactDOM","findDOMNode","inputNode","hasErrored","handleKeyUp","FieldWrapper","PasswordField","visible","toggleVisibility","DropdownField","valueInOptions","dropdownFieldOptions","optionValue","CheckboxField","hidden"],"mappings":"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;AACA;AACA;AACA,CAAC;AACD,aAAa,qFAAM;AACJ,qE;;;;;;;ACTf;AACA,kBAAkB,8G;;;;;;;;;;;;;;;ACDlB;AAAA;AAAA;AAAA;AAAA;AAA4D;AACQ;AACpE,iBAAiB,uEAAY;AAC7B;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa,qFAAM;AACJ,qE;;;;;;;ACTf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;AC7HA;AAAA;AAAA;AAAA;AAAO,IAAMjV,YAAY,SAAZA,SAAY,CAACzI,MAAD,EAAS8d,SAAT,EAAuB;AAC9C,MAAI1R,SAAS,EAAb;;AACA,OAAK,IAAM1f,GAAX,IAAkBsT,MAAlB,EAA0B;AACxBoM,WAAO1f,GAAP,IAAcoxB,UAAU9d,OAAOtT,GAAP,CAAV,EAAuBA,GAAvB,CAAd;AACD;;AACD,SAAO0f,MAAP;AACD,CANM;AAQA,IAAM2F,eAAe,SAAfA,YAAe,CAAC/R,MAAD,EAAS9Q,MAAT,EAAoB;AAC9C,MAAIkd,SAAS,EAAb;;AACA,OAAK,IAAM1f,GAAX,IAAkBsT,MAAlB,EAA0B;AACxB,QAAI9Q,OAAO8Q,OAAOtT,GAAP,CAAP,EAAoBA,GAApB,CAAJ,EAA8B;AAC5B0f,aAAO1f,GAAP,IAAcsT,OAAOtT,GAAP,CAAd;AACD;AACF;;AACD,SAAO0f,MAAP;AACD,CARM;AAUA,IAAMzG,uBAAuB,SAAvBA,oBAAuB,CAACG,GAAD,EAAMkM,IAAN,EAAe;AACjD,SAAOxiB,OAAOoE,IAAP,CAAYkS,GAAZ,EAAiBjQ,MAAjB,CAAwB,UAACuW,MAAD,EAAS1f,GAAT,EAAiB;AAC9C,QAAIA,QAAQslB,IAAZ,EAAkB;AAChB5F,aAAO1f,GAAP,IAAcoZ,IAAIpZ,GAAJ,CAAd;AACD;;AACD,WAAO0f,MAAP;AACD,GALM,EAKJ,EALI,CAAP;AAMD,CAPM,C;;;;;;;;;;;;;;;;;;AClBP;AACA;AACA;AACA;AACA;AACO,IAAMW,gBAAgB,SAAhBA,aAAgB,GAGxB;AAAA,MAFHzL,QAEG,uEAFQ,CAAC,CAAD,EAAI,CAAJ,CAER;AAAA,MADHyc,SACG,uEADS,UAACrJ,GAAD,EAAMF,GAAN;AAAA,WAAcwD,KAAKC,MAAL,MAAiBzD,MAAME,GAAvB,IAA8BA,GAA5C;AAAA,GACT;AACH,MAAI,CAACpT,QAAL,EAAe,MAAM,IAAIvU,KAAJ,CAAU,4BAAV,CAAN;AACf,MAAI,CAACgxB,SAAL,EAAgB,MAAM,IAAIhxB,KAAJ,CAAU,6BAAV,CAAN;AAEhB,MAAI,CAACoP,MAAMC,OAAN,CAAckF,QAAd,CAAL,EAA8B,MAAM,IAAIvU,KAAJ,CAAU,2BAAV,CAAN;AAC9B,MAAIuU,SAAS1L,MAAT,KAAoB,CAAxB,EAA2B,MAAM,IAAI7I,KAAJ,CAAU,kCAAV,CAAN;AAC3B,MAAI,OAAOgxB,SAAP,KAAqB,UAAzB,EACE,MAAM,IAAIhxB,KAAJ,CAAU,8BAAV,CAAN;;AAPC,iCASkBuU,QATlB;AAAA,MASI0c,KATJ;AAAA,MASWC,GATX;;AAWH,MAAID,QAAQ,CAAR,IAAaC,MAAM,EAAvB,EAA2B,MAAM,IAAIlxB,KAAJ,CAAU,iCAAV,CAAN;AAE3B,MAAMmxB,IAAIH,UAAUC,KAAV,EAAiBC,GAAjB,CAAV;AACA,MAAME,QAAQnG,KAAKoG,KAAL,CAAWF,CAAX,CAAd;AACA,MAAMG,UAAUrG,KAAKoG,KAAL,CAAW,CAACF,IAAIC,KAAL,IAAc,EAAzB,CAAhB;AAEA,MAAIA,QAAQ,CAAR,IAAaA,QAAQ,EAAzB,EACE,MAAM,IAAIpxB,KAAJ,CAAU,oDAAV,CAAN;AACF,MAAIsxB,UAAU,CAAV,IAAeA,UAAU,EAA7B,EACE,MAAM,IAAItxB,KAAJ,CAAU,sDAAV,CAAN;AAEF,SAAO;AAAEoxB,gBAAF;AAASE;AAAT,GAAP;AACD,CA1BM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLP;AACA;AACA;AAEO,IAAMjW,iBAAiB,gBAAvB;AACP,IAAMkW,wBAAwB,uBAA9B;AACA,IAAMC,+BAA+B,8BAArC;AACA,IAAMC,iBAAiB,gBAAvB;AACA,IAAMC,sBAAsB,qBAA5B;AACA,IAAMC,sBAAsB,qBAA5B;AACA,IAAMC,2BAA2B,0BAAjC;AACA,IAAMC,sBAAsB,qBAA5B;AACA,IAAMC,8BAA8B,6BAApC;AACA,IAAMC,iBAAiB,gBAAvB;AACA,IAAMC,yBAAyB,wBAA/B;AACA,IAAMla,gBAAgB,eAAtB;;AAEA,IAAMma,kBAAkB,SAAlBA,eAAkB,CAACzsB,UAAD,EAAa0sB,WAAb,EAA6B;AACnD,MAAMC,MAAM3sB,WAAW4sB,SAAX,CAAqB;AAAA,WAAKjB,EAAE1rB,SAAF,CAAY9C,EAAZ,KAAmBuvB,WAAxB;AAAA,GAArB,CAAZ;AACA,4BAAW1sB,WAAW6L,KAAX,CAAiB,CAAjB,EAAoB8gB,GAApB,CAAX,4BAAwC3sB,WAAW6L,KAAX,CAAiB8gB,MAAM,CAAvB,CAAxC;AACD,CAHD;;AAKA,IAAMxrB,YAAY,SAAZA,SAAY,GAAwB;AAAA,MAAvBtH,KAAuB,uEAAf,EAAe;AAAA,MAAXsJ,MAAW;;AACxC,UAAQA,OAAOhD,IAAf;AACE,SAAK4rB,qBAAL;AACE,aAAO5oB,OAAOnF,QAAP,CAAgB0W,QAAvB;;AACF,SAAKwX,mBAAL;AACE,gCAAWryB,KAAX,UAAkBsJ,OAAOnF,QAAzB;;AACF,SAAKwuB,sBAAL;AAA6B;AAC3B,YAAMG,MAAM9yB,MAAM+yB,SAAN,CACV;AAAA,iBAAKC,EAAE5uB,UAAF,CAAa6uB,UAAb,KAA4B3pB,OAAO9C,SAAxC;AAAA,SADU,CAAZ;AAGA,YAAIssB,QAAQ,CAAC,CAAb,EAAgB,OAAO9yB,KAAP;AAChB,YAAMkzB,UAAUlzB,MAAM8yB,GAAN,CAAhB;AACA,YAAMK,gBACJD,QAAQ9uB,UAAR,CAAmB+B,UAAnB,KAAkCxI,SAAlC,IAA+C;AAC/Cu1B,gBAAQ9uB,UAAR,CAAmB+B,UAAnB,CAA8BqD,MAA9B,KAAyC,CAF3C;AAGA,YAAME,WAAWypB,kCACRD,OADQ;AACC9uB,wCAAiB8uB,QAAQ9uB,UAAzB;AAAqCgvB,qBAAS;AAA9C;AADD,+BAGRF,OAHQ;AAIX9uB,wCACK8uB,QAAQ9uB,UADb;AAEE+B,wBAAYysB,gBACVM,QAAQ9uB,UAAR,CAAmB+B,UADT,EAEVmD,OAAOupB,WAFG;AAFd;AAJW,UAAjB;AAYA,kCAAW7yB,MAAMgS,KAAN,CAAY,CAAZ,EAAe8gB,GAAf,CAAX,UAAgCppB,QAAhC,sBAA6C1J,MAAMgS,KAAN,CAAY8gB,MAAM,CAAlB,CAA7C;AACD;;AACD;AACE,aAAO9yB,KAAP;AA7BJ;AA+BD,CAhCD;;AAkCA,IAAMqzB,6BAA6B;AACjCjZ,eAAa,SADoB;AAEjCxU,QAAM,EAF2B;AAGjCC,UAAQ,EAHyB;AAIjCC,UAAQ;AAJyB,CAAnC;;AAOA,IAAMC,cAAc,SAAdA,WAAc,GAAwB;AAAA,MAAvB/F,KAAuB,uEAAf,EAAe;AAAA,MAAXsJ,MAAW;AAC1C,MAAIwpB,GAAJ;;AACA,UAAQxpB,OAAOhD,IAAf;AACE,SAAK0V,cAAL;AACE,UAAIhc,MAAMsJ,OAAOnM,OAAb,CAAJ,EAA2B;AACzB,iCACK6C,KADL,sBAEGsJ,OAAOnM,OAFV,oBAEyB6C,MAAMsJ,OAAOnM,OAAb,CAFzB;AAEgDid,uBAAa;AAF7D;AAID;;AACD,+BAAYpa,KAAZ,sBAAoBsJ,OAAOnM,OAA3B,EAAqCk2B,0BAArC;;AACF,SAAKnB,qBAAL;AACE,+BACKlyB,KADL,sBAEGsJ,OAAOnM,OAFV;AAGIid,qBAAa;AAHjB,SAIO9Q,OAAOnF,QAAP,CAAgB4B,WAJvB;;AAOF,SAAKosB,4BAAL;AACE,+BAAYnyB,KAAZ,sBAAoBsJ,OAAOnM,OAA3B,EAAqC;AAAEid,qBAAa;AAAf,OAArC;;AACF,SAAKiY,mBAAL;AACE,+BACKryB,KADL,sBAEGsJ,OAAOnM,OAFV,oBAGO6C,MAAMsJ,OAAOnM,OAAb,CAHP;AAIIyI,iCACK5F,MAAMsJ,OAAOnM,OAAb,EAAsByI,IAD3B,UAEE;AACExB,sBAAY;AACV2B,yBAAa;AACXutB,qBAAO;AAAEhtB,sBAAMgD,OAAOnM,OAAf;AAAwBuP,wBAAQ,CAACpD,OAAOhG,EAAR;AAAhC;AADI,aADH;AAIV+f,uBAAW/Z,OAAOnF,QAAP,CAAgBC,UAAhB,CAA2B6uB,UAJ5B;AAKV3sB,kBAAM;AALI;AADd,SAFF;AAJJ;;AAkBF,SAAKisB,wBAAL;AACE,+BACKvyB,KADL,sBAEGsJ,OAAOnM,OAFV,oBAGO6C,MAAMsJ,OAAOnM,OAAb,CAHP;AAII0I,mCAAY7F,MAAMsJ,OAAOnM,OAAb,EAAsB0I,MAAlC,UAA0CyD,OAAOnF,QAAjD;AAJJ;;AAOF,SAAKquB,mBAAL;AACEM,YAAM9yB,MAAMsJ,OAAOnM,OAAb,EAAsB0I,MAAtB,CAA6BktB,SAA7B,CACJ;AAAA,eAAKzpB,OAAO5C,UAAP,CAAkB5E,GAAlB,KAA0BshB,EAAEthB,GAAjC;AAAA,OADI,CAAN;AAGA,UAAIgxB,QAAQ,CAAC,CAAb,EAAgB,OAAO9yB,KAAP;AAChB,+BACKA,KADL,sBAEGsJ,OAAOnM,OAFV,oBAGO6C,MAAMsJ,OAAOnM,OAAb,CAHP;AAII0I,mCACK7F,MAAMsJ,OAAOnM,OAAb,EAAsB0I,MAAtB,CAA6BmM,KAA7B,CAAmC,CAAnC,EAAsC8gB,GAAtC,CADL,4BAEK9yB,MAAMsJ,OAAOnM,OAAb,EAAsB0I,MAAtB,CAA6BmM,KAA7B,CAAmC8gB,MAAM,CAAzC,CAFL;AAJJ;;AAUF;AACE,aAAO9yB,KAAP;AA9DJ;AAgED,CAlED;;AAoEe+K,4HAAeA,CAAC;AAAEzD,sBAAF;AAAavB;AAAb,CAAhB,CAAf,E,CAEA;;AACO,IAAMwtB,gBAAgB,SAAhBA,aAAgB,CAACp2B,OAAD;AAAA,MAAUmG,EAAV,uEAAe,IAAf;AAAA,MAAqB5G,OAArB,uEAA+B,EAA/B;AAAA,SAAuC;AAClEse,WAAO,CAACgB,cAAD,EAAiBkW,qBAAjB,EAAwCC,4BAAxC,CAD2D;AAElEh1B,oBAFkE;AAGlEmG,UAHkE;AAIlE5G,oBAJkE;AAKlEue,aAAS;AAAA,aAAUne,OAAOy2B,aAAP,CAAqBp2B,OAArB,CAAV;AAAA;AALyD,GAAvC;AAAA,CAAtB;AAQA,IAAMq2B,QAAQ,SAARA,KAAQ,CACnB70B,QADmB,EAEnBwH,UAFmB,EAGnBR,WAHmB,EAInB8tB,WAJmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EAKhB,iBAAMp2B,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACwBoC,QAAQ6jB,GAAR,CACzBnd,WAAWhD,GAAX,CACE;AAAA,yBACEiD,UAAU9C,EAAV,IACAjG,SAASq2B,cAActtB,SAAd,CAAT,EAAmC0F,IAAnC,CAAwC;AAAA,2BAAK6nB,EAAE7zB,IAAF,CAAO,CAAP,EAAUwD,EAAf;AAAA,mBAAxC,CAFF;AAAA,iBADF,CADyB,CADxB;;AAAA;AACGswB,4BADH;AAQHC,oCAAoBl1B,QAApB;AARG,iDASItB,SACLmmB,cAAc7kB,QAAd,EAAwBi1B,YAAxB,EAAsCjuB,WAAtC,EAAmD8tB,WAAnD,CADK,CATJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OALgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAd;AAmBA,IAAMK,UAAU,SAAVA,OAAU,CAACn1B,QAAD,EAAWyH,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EAAyB,kBAAO/I,QAAP,EAAiBuO,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACxCsnB,uBADwC,GAC9Ba,uBAAuBnoB,UAAvB,EAAmCjN,QAAnC,EAA6CyH,SAA7C,CAD8B;AAExC+sB,6BAFwC,GAExBD,QAAQ9uB,UAAR,CAAmB+B,UAAnB,CAA8BqD,MAA9B,KAAyC,CAFjB;AAAA,kDAGvCnM,SAAS;AACd2d,yBAAO,CAAC0X,cAAD,EAAiBC,sBAAjB,EAAyCla,aAAzC,CADO;AAEdtb,2BAASwB,SAAS4E,KAFJ;AAGdD,sBAAI3E,SAASmD,GAHC;AAId0E,6BAAW0sB,QAAQ9uB,UAAR,CAAmB6uB,UAJhB;AAKdJ,+BAAazsB,UAAUtE,GALT;AAMdmZ,2BAAS;AAAA,2BACPkY,gBACIr2B,OAAO2mB,aAAP,CAAqByP,QAAQ9uB,UAAR,CAAmB6uB,UAAxC,CADJ,GAEIn2B,OAAO4mB,sBAAP,CACEwP,QAAQ9uB,UAAR,CAAmB6uB,UADrB,EAEEC,QAAQ9uB,UAAR,CAAmB+B,UAAnB,CAA8B9B,IAA9B,CACE;AAAA,6BAAKytB,EAAE1rB,SAAF,CAAY9C,EAAZ,KAAmB8C,UAAUtE,GAAlC;AAAA,qBADF,EAEEkyB,MAFF,CAESC,SAJX,CAHG;AAAA;AANK,iBAAT,CAHuC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAzB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;AAqBA,IAAMC,QAAQ,SAARA,KAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EAAY,kBAAO72B,QAAP,EAAiBuO,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACzBiP,wBADyB,GACdsZ,0BACfvoB,UADe,EAEfjN,SAAS4E,KAFM,EAGf5E,SAASmD,GAHM,CADc;AAMzBoxB,uBANyB,GAMfrY,SAASxW,IAAT,CAAc;AAAA,yBAAK2uB,EAAE5uB,UAAF,CAAagwB,KAAb,KAAuB,KAA5B;AAAA,iBAAd,CANe;AAAA,kDAOxB/2B,SAAS;AACd2d,yBAAO,CAAC0X,cAAD,EAAiBC,sBAAjB,EAAyCla,aAAzC,CADO;AAEdtb,2BAASwB,SAAS4E,KAFJ;AAGdD,sBAAI3E,SAASmD,GAHC;AAId0E,6BAAW0sB,QAAQ9uB,UAAR,CAAmB6uB,UAJhB;AAKdhY,2BAAS;AAAA,2BAAUne,OAAO2mB,aAAP,CAAqByP,QAAQ9uB,UAAR,CAAmB6uB,UAAxC,CAAV;AAAA;AALK,iBAAT,CAPwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAZ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAd;AAgBA,IAAMoB,cAAc,SAAdA,WAAc,WAAY;AACrCC,qBAAmB31B,QAAnB;AACA,SAAOglB,kBAAkBhlB,QAAlB,CAAP;AACD,CAHM;AAKA,IAAM41B,aAAa,SAAbA,UAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EAAY,kBAAOl3B,QAAP,EAAiBuO,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAC9B4oB,oBAD8B,GACvBC,yBACX7oB,UADW,EAEXjN,SAAS4E,KAFE,EAGX5E,SAASmD,GAHE,CADuB;AAAA,kDAM7BzE,SAAS;AACd2d,yBAAO,CAACwX,mBAAD,EAAsBC,2BAAtB,EAAmDha,aAAnD,CADO;AAEdtb,2BAASwB,SAAS4E,KAFJ;AAGdD,sBAAI3E,SAASmD,GAHC;AAId4E,8BAAY8tB,IAJE;AAKdvZ,2BAAS;AAAA,2BAAUne,OAAO8mB,iBAAP,CAAyB4Q,IAAzB,CAAV;AAAA;AALK,iBAAT,CAN6B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAZ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB;;AAeP,IAAMhR,gBAAgB,SAAhBA,aAAgB,CACpB7kB,QADoB,EAEpBqH,UAFoB;AAAA,MAGpBL,WAHoB,uEAGN,cAHM;AAAA,MAIpBM,WAJoB,uEAIN,EAJM;AAAA,SAKhB;AACJ+U,WAAO,CAACoX,cAAD,EAAiBC,mBAAjB,EAAsC5Z,aAAtC,CADH;AAEJtb,aAASwB,SAAS4E,KAFd;AAGJD,QAAI3E,SAASmD,GAHT;AAIJmZ,aAAS;AAAA,aACPne,OAAO0mB,aAAP,CACEkR,kBAAkB/1B,QAAlB,CADF,EAEEqH,UAFF,EAGEL,WAHF,EAIEM,WAJF,CADO;AAAA;AAJL,GALgB;AAAA,CAAtB;;AAkBA,IAAM0d,oBAAoB,SAApBA,iBAAoB;AAAA,SAAa;AACrC3I,WAAO,CAACsX,mBAAD,EAAsBC,wBAAtB,EAAgD9Z,aAAhD,CAD8B;AAErCtb,aAASwB,SAAS4E,KAFmB;AAGrCD,QAAI3E,SAASmD,GAHwB;AAIrCmZ,aAAS;AAAA,aAAUne,OAAO6mB,iBAAP,CAAyB+Q,kBAAkB/1B,QAAlB,EAA4B,IAA5B,CAAzB,CAAV;AAAA;AAJ4B,GAAb;AAAA,CAA1B,C,CAOA;AACA;AACA;AACA;AACA;;;AACO,IAAMg2B,gBAAgB,SAAhBA,aAAgB,GAAM;AACjC,MAAMrrB,SAASrC,gEAAeA,CAAC,UAAhB,EAA4B,kBAA5B,CAAf;;AACAqC,SAAO2R,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA,2EAAiB,kBAAMne,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACQA,OAAOmK,eAAP,CACrB,UADqB,EAErB,kBAFqB,CADR;;AAAA;AACT9C,sBADS;AAAA;AAAA,qBAKI1E,QAAQ6jB,GAAR,CACjBnf,SAASrE,IAAT,CAAcqD,GAAd,CAAkB,mBAAW;AAC3B,uBAAO,OAAOyxB,QAAQlJ,KAAf,KAAyB,QAAzB,GACHkJ,OADG,GAEH93B,OACGwe,cADH,mBAEOsZ,OAFP;AAGIlJ,yBAAO,CACL;AACEmJ,6BAASD,QAAQlJ,KADnB;AAEEoJ,6BAAS;AAFX,mBADK;AAHX,oBAUGhpB,IAVH,CAUQ;AAAA,yBAAQlJ,KAAK9C,IAAL,CAAU,CAAV,CAAR;AAAA,iBAVR,CAFJ;AAaD,eAdD,CADiB,CALJ;;AAAA;AAKTA,kBALS;AAAA,kEAuBHqE,QAvBG;AAuBOrE;AAvBP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAjB;;AAAA;AAAA;AAAA;AAAA;;AAyBA,SAAOwJ,MAAP;AACD,CA5BM;;AA8BP,IAAMoqB,gBAAgB,SAAhBA,aAAgB;AAAA,MAAGhI,KAAH,SAAGA,KAAH;AAAA,SACpB5kB,+DAAcA,CAAC,kBAAf,EAAmC;AACjC4kB,WAAO,CAAC;AAAEmJ,eAASnJ,KAAX;AAAkBoJ,eAAS;AAA3B,KAAD;AAD0B,GAAnC,CADoB;AAAA,CAAtB;;AAKA,IAAMJ,oBAAoB,SAApBA,iBAAoB,CAAC/1B,QAAD,EAAkC;AAAA,MAAvBo2B,UAAuB,uEAAV,KAAU;AAAA,MAClDjzB,GADkD,GACnCnD,QADmC,CAClDmD,GADkD;AAAA,MAC7CyB,KAD6C,GACnC5E,QADmC,CAC7C4E,KAD6C;AAE1D,MAAMyxB,QAAQD,aAAa,CAAC,KAAD,CAAb,GAAuB,CAAC,KAAD,CAArC,CAF0D,CAG1D;AACA;;AACA,SAAOE,OAAOt2B,QAAP,IACH;AACEsF,WAAO;AACLqC,YAAM,eADD;AAEL0uB,kBAFK;AAGLtoB,cAAQ,CAAC5K,GAAD;AAHH;AADT,GADG,GAQH;AACEsF,gBAAY;AACVd,YAAM/C,KADI;AAEVyxB,kBAFU;AAGVtoB,cAAQ,CAAC5K,GAAD;AAHE,KADd;AAMEmC,WAAO;AACLqC,YAAM,eADD;AAEL0uB,kBAFK;AAGLtoB,cAAQ,WAAInJ,KAAJ,cAAazB,GAAb,EAHH;AAIL+gB,gBAAU;AAJL;AANT,GARJ;AAqBD,CA1BD,C,CA4BA;;;AACA,IAAMqS,aAAa,SAAbA,UAAa,CAACl1B,KAAD,EAAQsD,EAAR;AAAA,SACjBtD,MAAMnD,IAAN,CAAWge,QAAX,CAAoBvT,SAApB,CAA8BjD,IAA9B,CAAmC;AAAA,WAAK2uB,EAAE5uB,UAAF,CAAa6uB,UAAb,KAA4B3vB,EAAjC;AAAA,GAAnC,CADiB;AAAA,CAAnB;;AAEA,IAAM6xB,aAAa,SAAbA,UAAa,CAACn1B,KAAD,EAAQsD,EAAR;AAAA,SAAeyY,4DAAWA,CAAC/b,KAAZ,EAAmB,kBAAnB,EAAuCsD,EAAvC,CAAf;AAAA,CAAnB;;AACA,IAAM8xB,wBAAwB,SAAxBA,qBAAwB,CAACp1B,KAAD,EAAQ7C,OAAR,EAAoB;AAChD,MAAI6C,MAAMnD,IAAN,CAAWge,QAAX,CAAoB9U,WAApB,CAAgC5I,OAAhC,CAAJ,EAA8C;AAC5C,WAAO6C,MAAMnD,IAAN,CAAWge,QAAX,CAAoB9U,WAApB,CAAgC5I,OAAhC,CAAP;AACD;;AACD,SAAOk2B,0BAAP;AACD,CALD;;AAOA,IAAMgC,iBAAiB,SAAjBA,cAAiB,CAACr1B,KAAD,EAAQ7C,OAAR,EAAiBmG,EAAjB,EAAwB;AAC7C,MAAMkxB,OAAOC,yBAAyBz0B,KAAzB,EAAgC7C,OAAhC,EAAyCmG,EAAzC,CAAb;AACA,SAAOkxB,OACHc,iBAAiBhyB,EAAjB,EAAqBnG,OAArB,EAA8Bq3B,KAAKpwB,UAAL,CAAgBmxB,KAAhB,CAAsB7J,KAApD,CADG,GAEH,IAFJ;AAGD,CALD;;AAOA,IAAM+I,2BAA2B,SAA3BA,wBAA2B,CAACz0B,KAAD,EAAQ7C,OAAR,EAAiBmG,EAAjB,EAAwB;AACvD,MAAMkyB,QAAQJ,sBAAsBp1B,KAAtB,EAA6B7C,OAA7B,CAAd;AACA,MAAMmJ,OAAO2uB,OAAO;AAAE1xB,WAAOpG;AAAT,GAAP,IAA6B,OAA7B,GAAuC,YAApD;AACA,SAAOq4B,MAAM3vB,MAAN,CAAaxB,IAAb,CACL;AAAA,WAAK+e,EAAEhf,UAAF,CAAa2B,WAAb,CAAyBO,IAAzB,EAA+BoG,MAA/B,CAAsC+N,OAAtC,CAA8CnX,EAA9C,MAAsD,CAAC,CAA5D;AAAA,GADK,CAAP;AAGD,CAND;;AAQA,IAAMywB,yBAAyB,SAAzBA,sBAAyB,CAAC/zB,KAAD,EAAQrB,QAAR,EAAkByH,SAAlB,EAAgC;AAC7D,MAAMyU,WAAWsZ,0BACfn0B,KADe,EAEfrB,SAAS4E,KAFM,EAGf5E,SAASmD,GAHM,CAAjB;AAKA,SAAO+Y,SAASxW,IAAT,CAAc;AAAA,WACnB2uB,EAAE5uB,UAAF,CAAa+B,UAAb,CAAwB9B,IAAxB,CAA6B;AAAA,aAAKytB,EAAE1rB,SAAF,CAAY9C,EAAZ,KAAmB8C,UAAUtE,GAAlC;AAAA,KAA7B,CADmB;AAAA,GAAd,CAAP;AAGD,CATD;;AAWA,IAAMqyB,4BAA4B,SAA5BA,yBAA4B,CAACn0B,KAAD,EAAQ7C,OAAR,EAAiBmG,EAAjB,EAAwB;AACxD,MAAMkyB,QAAQJ,sBAAsBp1B,KAAtB,EAA6B7C,OAA7B,CAAd;AACA,SAAO,mBACFq4B,MAAM5vB,IAAN,CAAW9C,MAAX,CACD;AAAA,WAAQ0xB,KAAKpwB,UAAL,CAAgB2B,WAAhB,CAA4B,OAA5B,EAAqC2G,MAArC,CAA4C+N,OAA5C,CAAoDnX,EAApD,MAA4D,CAAC,CAArE;AAAA,GADC,CADE,4BAIFkyB,MAAM1vB,MAAN,CAAahD,MAAb,CACD;AAAA,WAAQ0xB,KAAKpwB,UAAL,CAAgB2B,WAAhB,CAA4B,OAA5B,EAAqC2G,MAArC,CAA4C+N,OAA5C,CAAoDnX,EAApD,MAA4D,CAAC,CAArE;AAAA,GADC,CAJE,GAQJH,GARI,CAQA;AAAA,WAAK+xB,WAAWl1B,KAAX,EAAkBojB,EAAEhf,UAAF,CAAaif,SAA/B,CAAL;AAAA,GARA,EASJvgB,MATI,CASG;AAAA,WAAK,CAACkwB,EAAE5uB,UAAF,CAAagvB,OAAnB;AAAA,GATH,CAAP;AAUD,CAZD;;AAcO,IAAMlX,cAAc,SAAdA,WAAc,CAAClc,KAAD,EAAQ7C,OAAR,EAAoB;AAC7C,MAAMq4B,QAAQJ,sBAAsBp1B,KAAtB,EAA6B7C,OAA7B,CAAd;AACA,MAAMmJ,OAAOnJ,YAAY,eAAZ,GAA8B,OAA9B,GAAwC,YAArD;AACA,SAAO;AACLyI,UAAM4vB,MAAM5vB,IAAN,CAAWzC,GAAX,CAAe;AAAA,aAAKigB,EAAEhf,UAAF,CAAa2B,WAAb,CAAyB,OAAzB,EAAkC2G,MAAlC,CAAyC,CAAzC,CAAL;AAAA,KAAf,CADD;AAEL5G,YAAQ0vB,MAAM1vB,MAAN,CAAa3C,GAAb,CAAiB;AAAA,aAAKigB,EAAEhf,UAAF,CAAa2B,WAAb,CAAyB,OAAzB,EAAkC2G,MAAlC,CAAyC,CAAzC,CAAL;AAAA,KAAjB,CAFH;AAGL7G,YAAQ2vB,MAAM3vB,MAAN,CAAa1C,GAAb,CAAiB;AAAA,aAAKigB,EAAEhf,UAAF,CAAa2B,WAAb,CAAyBO,IAAzB,EAA+BoG,MAA/B,CAAsC,CAAtC,CAAL;AAAA,KAAjB;AAHH,GAAP;AAKD,CARM;AAUA,IAAM+oB,mBAAmB,SAAnBA,gBAAmB,CAACz1B,KAAD,EAAQ7C,OAAR,EAAiBmG,EAAjB,EAAwB;AACtD,MAAMuX,WAAWsZ,0BAA0Bn0B,KAA1B,EAAiC7C,OAAjC,EAA0CmG,EAA1C,CAAjB;AACA,SAAO;AACLoyB,YAAQ7a,SAASrR,MAAT,KAAoB,CADvB;AAEL4qB,WACEvZ,SAASrR,MAAT,KAAoB,CAApB,IAAyBqR,SAAS8a,IAAT,CAAc;AAAA,aAAK3C,EAAE5uB,UAAF,CAAagwB,KAAb,KAAuB,IAA5B;AAAA,KAAd,CAHtB;AAILzuB,iBAAakV,SAAS8a,IAAT,CACX;AAAA,aAAK3C,EAAE5uB,UAAF,CAAamC,YAAb,KAA8B,eAAnC;AAAA,KADW,IAGT,eAHS,GAIT,cARC;AASLsU;AATK,GAAP;AAWD,CAbM;AAeA,IAAMoB,oBAAoB,SAApBA,iBAAoB,CAACjc,KAAD,EAAQ7C,OAAR,EAAiBmG,EAAjB,EAAwB;AAAA,0BACNmyB,iBAC/Cz1B,KAD+C,EAE/C7C,OAF+C,EAG/CmG,EAH+C,CADM;AAAA,MAC/CoyB,MAD+C,qBAC/CA,MAD+C;AAAA,MACvCtB,KADuC,qBACvCA,KADuC;AAAA,MAChCzuB,WADgC,qBAChCA,WADgC;AAAA,MACnBkV,QADmB,qBACnBA,QADmB;;AAMvD,MAAM+a,cAAcP,eAAer1B,KAAf,EAAsB7C,OAAtB,EAA+BmG,EAA/B,CAApB;AACA,SAAO;AACLoyB,kBADK;AAELtB,gBAFK;AAGLzuB,4BAHK;AAILiwB,4BAJK;AAKLC,YACEH,UAAU,CAACtB,KAAX,GACI;AAAE54B,YAAM,UAAR;AAAoBqC,WAAKgd,SAAS,CAAT,EAAYzW,UAAZ,CAAuByxB,MAAvB,CAA8Bh4B;AAAvD,KADJ,GAEI,IARD;AASLi4B,cAAU,CAAC1B,KAAD,IAAUzuB,gBAAgB,cAT/B;AAULQ,gBAAYuvB,UAAUtB,KAAV,GAAkB2B,qBAAqB/1B,KAArB,EAA4B6a,QAA5B,CAAlB,GAA0D,EAVjE;AAWLjV,UAAM8vB,UAAUtB,UAAU,IAXrB;AAYLtuB,YAAQ4vB,UAAU,CAACtB,KAZd;AAaLvuB,YAAQ,CAAC,CAAC+vB;AAbL,GAAP;AAeD,CAtBM;;AAwBP,IAAMG,uBAAuB,SAAvBA,oBAAuB,CAAC/1B,KAAD,EAAQ6a,QAAR;AAAA,SAC3BA,SACG/X,MADH,CACU;AAAA,WAAWowB,QAAQ9uB,UAAR,CAAmB+B,UAA9B;AAAA,GADV,EAEGhD,GAFH,CAEO;AAAA,WACH+vB,QAAQ9uB,UAAR,CAAmB+B,UAAnB,CAA8BhD,GAA9B,CAAkC;AAAA,aAAS;AACzCyxB,iBAASO,WAAWn1B,KAAX,EAAkB6uB,KAAKzoB,SAAL,CAAe9C,EAAjC,CADgC;AAEzC6F,gBAAQ0lB,KAAK1lB,MAF4B;AAGzC7C,cAAM4sB,QAAQ9uB,UAAR,CAAmBmC;AAHgB,OAAT;AAAA,KAAlC,CADG;AAAA,GAFP,EASGkD,MATH,CASU,UAACwW,CAAD,EAAIC,CAAJ;AAAA,WAAUD,EAAEpS,MAAF,CAASqS,CAAT,CAAV;AAAA,GATV,EASiC,EATjC,CAD2B;AAAA,CAA7B;;AAYA,IAAMoV,mBAAmB,SAAnBA,gBAAmB,CAAChyB,EAAD,EAAKnG,OAAL,EAAc64B,SAAd;AAAA,mBACpB93B,OAAOiB,QAAP,CAAgB82B,MADI,+BACuBD,SADvB,iBACuC1yB,EADvC,SAErBnG,YAAY,MAAZ,GAAqB,iBAArB,GAAyC,EAFpB;AAAA,CAAzB,C,CAKA;;;AACA,IAAM83B,SAAS,SAATA,MAAS;AAAA,MAAG1xB,KAAH,SAAGA,KAAH;AAAA,MAAU+C,IAAV,SAAUA,IAAV;AAAA,SACb/C,UAAU,eAAV,IAA6B+C,SAAS,WAAtC,IAAqDA,SAAS,MADjD;AAAA,CAAf;;AAGA,IAAM4vB,QAAQ,SAARA,KAAQ,CAACv3B,QAAD,EAAW2K,MAAX,EAAsB;AAClC,MAAM6sB,UAAUC,gFAAUA,EAA1B;;AACA,MAAI,CAACD,OAAL,EAAc;AACZ;AACD;;AACDA,UAAQ/M,IAAR,CAAa,CACX,YADW,EAEX6L,OAAOt2B,QAAP,IAAmB,OAAnB,GAA6B,QAFlB,EAGX2K,MAHW,YAIRA,MAJQ,SAIC2rB,OAAOt2B,QAAP,IAAmB,MAAnB,GAA4B,OAJ7B,EAAb;AAMD,CAXD;;AAYA,IAAM21B,qBAAqB,SAArBA,kBAAqB;AAAA,SAAY4B,MAAMv3B,QAAN,EAAgB,aAAhB,CAAZ;AAAA,CAA3B;;AACA,IAAMk1B,sBAAsB,SAAtBA,mBAAsB;AAAA,SAAYqC,MAAMv3B,QAAN,EAAgB,cAAhB,CAAZ;AAAA,CAA5B,C;;;;;;;;;;;;;;;AC7bA;AAAA;AAAA;AAAA;AAAA;AAA4D;AACQ;AACpE,iBAAiB,uEAAY;AAC7B;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa,qFAAM;AACJ,qE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTf;AAEO,IAAMgI,UAAU,kBAAhB;AACP,IAAM0vB,mBAAmB,QAAzB;AACA,IAAMC,kBAAkB,OAAxB;AACA,IAAMC,mBAAmB,QAAzB;AACA,IAAMC,oBAAoB,SAA1B;AACA,IAAMC,oBAAoB,CACxBJ,gBADwB,EAExBC,eAFwB,EAGxBC,gBAHwB,EAIxBC,iBAJwB,CAA1B;AAMA,IAAME,oBAAoBH,gBAA1B;AAEA,IAAMI,wBAAwB,UAA9B,C,CAEA;;AAEO,IAAMzb,gBAAgB,SAAhBA,aAAgB;AAAA,SAC3B0b,+DAAA,CAA6BD,qBAA7B,EAAoD,WAApD,CAD2B;AAAA,CAAtB;AAGA,IAAMlW,yBAAyB,SAAzBA,sBAAyB,CACpCpb,SADoC,EAEpC7L,OAFoC,EAGpC6R,MAHoC;AAAA,MAIpC3O,OAJoC,uEAI1B,EAJ0B;AAAA,SAMpCk6B,+DAAA,CACEC,sBAAsBxxB,SAAtB,EAAiC7L,OAAjC,EAA0C6R,MAA1C,EAAkD3O,OAAlD,CADF,EAEE;AACEqK,uBAAmB,CAAC4vB,qBAAD;AADrB,GAFF,CANoC;AAAA,CAA/B;AAaA,IAAMvqB,gBAAgB,SAAhBA,aAAgB;AAAA,SAAWwqB,+DAAA,CAA6Bp8B,OAA7B,CAAX;AAAA,CAAtB,C,CAEP;;AAEA,IAAMs8B,iBAAiB,SAAjBA,cAAiB;AAAA,SACrB1F,aAAaqF,kBAAkB/rB,QAAlB,CAA2B0mB,SAA3B,CAAb,GACIA,SADJ,GAEIsF,iBAHiB;AAAA,CAAvB;;AAKO,IAAMK,+BAA+B,SAA/BA,4BAA+B,CAAC1xB,SAAD,EAAY3I,OAAZ,EAAwB;AAAA,MAC1DgkB,SAD0D,GAC5BhkB,OAD4B,CAC1DgkB,SAD0D;AAAA,MAC/CqR,KAD+C,GAC5Br1B,OAD4B,CAC/Cq1B,KAD+C;AAAA,MACxCE,OADwC,GAC5Bv1B,OAD4B,CACxCu1B,OADwC;AAGlE,MAAM+E,mBAAmB;AACvB/E,oBADuB;AAEvBb,eAAW0F,eAAezxB,UAAU+rB,SAAzB;AAFY,GAAzB;;AAKA,MAAI4F,iBAAiB5F,SAAjB,KAA+BkF,eAAnC,EAAoD;AAClD,6BACKU,gBADL;AAEEjF;AAFF;AAID;;AAED,MAAIiF,iBAAiB5F,SAAjB,KAA+BmF,gBAAnC,EAAqD;AACnD,6BACKS,gBADL;AAEEjF,kBAFF;AAGEkF,iBAAWvW,UAAUwW,MAAV;AAHb;AAKD;;AAED,MAAIF,iBAAiB5F,SAAjB,KAA+BoF,iBAAnC,EAAsD;AACpD,6BACKQ,gBADL;AAEEjF,kBAFF;AAGEoF,kBAAYzW,UAAU0W,OAAV;AAHd;AAKD;;AAED,SAAOJ,gBAAP;AACD,CAhCM;;AAkCP,SAASK,SAAT,CAAmBvT,KAAnB,EAA0B;AACxB,SACE,OAAOA,KAAP,KAAiB,QAAjB,IACA8H,KAAKoG,KAAL,CAAWlO,KAAX,MAAsBA,KADtB,IAEAwT,SAASxT,KAAT,EAAgB,EAAhB,MAAwBA,KAH1B;AAKD;;AAEM,SAAS+S,qBAAT,CACLxxB,SADK,EAEL7L,OAFK,EAGL6R,MAHK,EAKL;AAAA,MADA3O,OACA,uEADU,EACV;;AAAA,8BAMIq6B,6BAA6B1xB,SAA7B,EAAwC3I,OAAxC,CANJ;AAAA,MAEEy6B,UAFF,yBAEEA,UAFF;AAAA,MAGEF,SAHF,yBAGEA,SAHF;AAAA,MAIElF,KAJF,yBAIEA,KAJF;AAAA,MAKEE,OALF,yBAKEA,OALF;;AAQA,MAAIsF,kBAAkB;AACpBlyB,eAAWA,UAAU1J,IAAV,IAAkB0J,UAAUjB,UAAV,CAAqBzI,IAD9B;AAEpBnC,aAASA,QAAQsI;AAFG,GAAtB;;AAKA,MAAIuJ,MAAJ,EAAY;AACVksB,oBAAgB,gBAAhB,IAAoClsB,OAAOvJ,GAA3C;AACD;;AAED,SAAO;AACLyB,WAAOoD,OADF;AAELvC,gBAAY;AACVkC,YAAM,OADI;AAEVkxB,6BAAgBH,UAAUpF,OAAV,IAAqBA,OAArB,GAA+B,CAA/C,cACEoF,UAAUtF,KAAV,IAAmBA,KAAnB,GAA2B,GAD7B,cAEIsF,UAAUF,UAAV,IAAwBA,UAAxB,GAAqC,GAFzC,gBAGEE,UAAUJ,SAAV,IAAuBA,SAAvB,GAAmC,GAHrC,CAFU;AAOV3xB,cAAQ,WAPE;AAQVmyB,wBAAkBF;AARR;AAFP,GAAP;AAaD,C,CAED;;AACO,IAAMG,uBAAuB,SAAvBA,oBAAuB,CAClC13B,KADkC,EAElCqF,SAFkC,EAI/B;AAAA,MADHsyB,kBACG,uEADkB,EAClB;AACH,SACG,CAAC,CAAC33B,MAAMsH,SAAN,CAAgBX,OAAhB,CAAF,IACCvD,OAAOsJ,MAAP,CAAc1M,MAAMsH,SAAN,CAAgBX,OAAhB,CAAd,EAAwC7D,MAAxC,CAA+C,mBAAW;AACxD,WACEtI,QAAQ8K,MAAR,KAAmB,WAAnB,IACA9K,QAAQqB,OADR,IAEArB,QAAQqB,OAAR,CAAgBwJ,SAAhB,KAA8BA,UAAU1J,IAFxC,IAGAnB,QAAQqB,OAAR,CAAgBrC,OAHhB,IAIAm+B,mBAAmBjtB,QAAnB,CAA4BlQ,QAAQqB,OAAR,CAAgBrC,OAA5C,CALF;AAOD,GARD,CADF,IAUA,EAXF;AAaD,CAlBM;AAoBA,IAAMo+B,aAAa,SAAbA,UAAa,CAAC53B,KAAD,EAAQsD,EAAR;AAAA,SACxB,CAAC,CAACtD,MAAMsH,SAAR,IACA,CAAC,CAACtH,MAAMsH,SAAN,CAAgBX,OAAhB,CADF,IAEA3G,MAAMsH,SAAN,CAAgBX,OAAhB,EAAyBrD,EAAzB,CAHwB;AAAA,CAAnB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChJP;AAEA;AACA;AACA;AACA;AAEA;;AAEA,SAASu0B,YAAT,OAAsC;AAAA,MAAd7L,IAAc,QAAdA,IAAc;AAAA,MAAR1yB,CAAQ,QAARA,CAAQ;AAAA,MAALuK,CAAK,QAALA,CAAK;AACpC,SAAOA,EAAEi0B,+CAAOA,CAAC13B,KAAR,CAAc4rB,IAAd,CAAF,EAAuB1yB,EAAE,oCAAF,CAAvB,CAAP;AACD;;AAED,IAAMy+B,SAAS,CACb,KADa,EAEb,KAFa,EAGb,KAHa,EAIb,KAJa,EAKb,KALa,EAMb,KANa,EAOb,KAPa,EAQb,KARa,EASb,KATa,EAUb,KAVa,EAWb,KAXa,EAYb,KAZa,CAAf;AAcA,IAAMC,OAAO,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CAAb;;AAEA,IAAMC,YAAY,SAAZA,SAAY,WAAY;AAC5B,MAAI;AAAA,0BAC2CC,SAAS1mB,KAAT,CAAe,GAAf,CAD3C;AAAA;AAAA,QACO2mB,MADP;AAAA,QACeC,IADf;AAAA,QACuBC,KADvB;AAAA,QAC8BpB,SAD9B;;AAEF,QAAMqB,WACJF,SAAS,GAAT,IAAgBD,WAAW,GAA3B,gBACUC,IADV,cACkBD,MADlB,IAEIC,SAAS,GAAT,aACKA,IADL,+BAEiBD,MAFjB,WAHN;AAMA,QAAMI,YAAYF,UAAU,GAAV,oBAA0BN,OAAOM,KAAP,CAA1B,IAA4C,EAA9D;AACA,QAAMG,UAAUvB,cAAc,GAAd,gBAA0Be,KAAKf,SAAL,CAA1B,IAA8C,EAA9D;AACA,WAAO,CAACqB,QAAD,EAAWC,SAAX,EAAsBC,OAAtB,EAA+BzmB,IAA/B,CAAoC,GAApC,CAAP;AACD,GAXD,CAWE,OAAO0mB,CAAP,EAAU;AACV,WAAOt4B,KAAKuU,SAAL,CAAe+jB,CAAf,CAAP;AACD;AACF,CAfD;;AAiBO,IAAMC,gBAAgB,SAAhBA,aAAgB,QASvB;AAAA,MARJp/B,CAQI,SARJA,CAQI;AAAA,MAPJuK,CAOI,SAPJA,CAOI;AAAA,MANJutB,SAMI,SANJA,SAMI;AAAA,MALJuH,eAKI,SALJA,eAKI;AAAA,MAJJ39B,WAII,SAJJA,WAII;AAAA,MAHJZ,UAGI,SAHJA,UAGI;AAAA,MAFJ62B,iBAEI,SAFJA,iBAEI;AAAA,MADJz2B,OACI,SADJA,OACI;AACJ,MAAMo+B,kBACHx+B,cAAcd,EAAE,gCAAF,CAAf,IACC,CAACq/B,eAAD,IAAoBr/B,EAAE,gCAAF,CADrB,IAECq/B,mBAAmBd,aAAa;AAAE7L,UAAM2M,eAAR;AAAyBr/B,QAAzB;AAA4BuK;AAA5B,GAAb,CAFpB,IAGA,IAJF;AAKA,SACE;AAAK,2CAAgCo0B,UAAUz9B,QAAQg9B,SAAlB,CAAhC;AAAL,KAEI,2DAAC,2DAAD;AACE,WAAOl+B,EAAE,8BAAF,CADT;AAEE,cAAU,CACRs/B,kBACIt/B,EAAE,kCAAF,EAAsC;AAAE0yB,YAAM4M;AAAR,KAAtC,CADJ,GAEI,EAHI,EAIRt/B,EAAE,6BAAF,EAAiC;AAC/B83B,iBAAW93B,wCAAiC83B,SAAjC;AADoB,KAAjC,CAJQ;AAFZ,IAFJ,EAcG,CAACp2B,WAAD,IACC;AACE,eACEZ,aACI0d,iDAAUA,CACRxc,4DAAMA,CAAC,yBAAP,CADF,EAEEA,4DAAMA,CAAC,YAAP,CAFF,CADJ,GAKIwc,iDAAUA,CAACxc,4DAAMA,CAAC,yBAAP,CAAX,CAPR;AASE,cAAUlB,UATZ;AAUE,iBAAWA,UAVb;AAWE,aAAS62B;AAXX,KAaG33B,EAAE,yBAAF,CAbH,CAfJ,CADF;AAkCD,CAjDM;AAmDQyC,mIAASA,GAAG28B,aAAZ,CAAf,E;;;;;;;ACjGA;AACA,kBAAkB,kH;;;;;;;;ACDlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,IAAM/xB,UAAU,cAAhB,C,CAEA;;AAEO,IAAM0qB,qBAAqB,SAArBA,kBAAqB,GAAM,CAAE,CAAnC,C,CAEP;;AAEO,IAAM/iB,oBAAoB,SAApBA,iBAAoB,CAACtO,KAAD,EAAQxF,OAAR,EAAoB;AACnD;AACA,MAAI,CAACwF,MAAMsH,SAAP,IAAoB,CAACtH,MAAMsH,SAAN,CAAgBX,OAAhB,CAArB,IAAiD,CAACnM,OAAtD,EAA+D,OAAO,IAAP;AAC/D,SAAO4I,OAAOsJ,MAAP,CAAc1M,MAAMsH,SAAN,CAAgBX,OAAhB,CAAd,EAAwC8C,MAAxC,CACL,UAACovB,UAAD,EAAaC,UAAb,EAA4B;AAC1B,QAAIA,WAAW/uB,UAAX,KAA0BvP,QAAQsH,GAAtC,EAA2C,OAAO+2B,UAAP;AAC3C,QAAI,CAACA,UAAL,EAAiB,OAAOC,UAAP;AACjB,WAAOhB,+CAAOA,CAACtqB,OAAR,CAAgBsrB,WAAWtqB,UAA3B,EAAuCqqB,WAAWrqB,UAAlD,IACHsqB,UADG,GAEHD,UAFJ;AAGD,GAPI,EAQL,IARK,CAAP;AAUD,CAbM;AAeA,IAAME,eAAe,SAAfA,YAAe,CAAC/4B,KAAD,EAAQyE,GAAR;AAAA,SAC1B,CAAC,CAACA,GAAF,IAAS,CAAC,QAAD,EAAW,SAAX,EAAsBiG,QAAtB,CAA+BjG,IAAIzE,KAAnC,CADiB;AAAA,CAArB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBP,IAAMg5B,aAAa,YAAnB;AACA,IAAMC,qBAAqB,oBAA3B;AACA,IAAMC,kBAAkB,iBAAxB;AACA,IAAMC,qBAAqB,oBAA3B;AAEA,IAAMC,0BAA0B;AAC9BC,cAAY,SADkB;AAE9BC,YAAU,IAFoB;AAG9BnK,aAAW;AAHmB,CAAhC;;AAMA,IAAMoK,cAAc,SAAdA,WAAc,GAA6C;AAAA,MAA5Cv5B,KAA4C,uEAApCo5B,uBAAoC;AAAA,MAAX9vB,MAAW;;AAC/D,UAAQA,OAAOhD,IAAf;AACE,SAAK2yB,kBAAL;AACE,+BACKj5B,KADL;AAEEq5B,oBAAY,SAFd;AAGElK,mBAAW7lB,OAAO6lB;AAHpB;;AAKF,SAAK+J,eAAL;AACE,+BACKl5B,KADL;AAEEq5B,oBAAY,MAFd;AAGEC,kBAAU/e,KAAKC,GAAL;AAHZ;;AAKF,SAAK2e,kBAAL;AACE,+BACKn5B,KADL;AAEEq5B,oBAAY,OAFd;AAGEC,kBAAU/e,KAAKC,GAAL;AAHZ;;AAKF;AACE,aAAOxa,KAAP;AApBJ;AAsBD,CAvBD;;AAyBA,IAAM8a,kBAAkB,SAAlBA,eAAkB,GAAwB;AAAA,MAAvB9a,KAAuB,uEAAf,EAAe;AAAA,MAAXsJ,MAAW;;AAC9C,UAAQA,OAAOhD,IAAf;AACE,SAAK2yB,kBAAL;AACA,SAAKC,eAAL;AACA,SAAKC,kBAAL;AACE,+BACKn5B,KADL,sBAEGsJ,OAAOnM,OAFV,EAEoBo8B,YAAYv5B,MAAMsJ,OAAOnM,OAAb,CAAZ,EAAmCmM,MAAnC,CAFpB;;AAIF;AACE,aAAOtJ,KAAP;AATJ;AAWD,CAZD;;AAce8a,8EAAf;AAEO,IAAM4H,YAAY,SAAZA,SAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EAAM,iBAAMrlB,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA,iDACtBA,SAAS;AACdiJ,wBAAM0yB,UADQ;AAEd/d,2BAAS;AAAA,2BAAUne,OAAO4lB,SAAP,CAAiBrlB,QAAjB,CAAV;AAAA;AAFK,iBAAT,CADsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAlB;AAOA,IAAM+xB,mBAAmB,SAAnBA,gBAAmB,CAACjyB,OAAD;AAAA,MAAUgyB,SAAV,uEAAsB,CAAtB;AAAA,SAA6B;AAC3D7oB,UAAM2yB,kBADqD;AAE3D97B,oBAF2D;AAG3DgyB;AAH2D,GAA7B;AAAA,CAAzB;AAMA,IAAMU,gBAAgB,SAAhBA,aAAgB,CAAC1yB,OAAD,EAAUq8B,KAAV;AAAA,SAAqB;AAChDlzB,UAAM4yB,eAD0C;AAEhD/7B,oBAFgD;AAGhDq8B;AAHgD,GAArB;AAAA,CAAtB;AAMA,IAAMtJ,mBAAmB,SAAnBA,gBAAmB,CAAC/yB,OAAD,EAAUxD,KAAV;AAAA,SAAqB;AACnD2M,UAAM6yB,kBAD6C;AAEnDh8B,oBAFmD;AAGnDxD;AAHmD,GAArB;AAAA,CAAzB;AAMA,IAAM8/B,cAAc,SAAdA,WAAc,QAAS;AAClC,MAAMC,aAAat2B,OAAOoE,IAAP,CAAYxH,MAAMnD,IAAN,CAAWie,eAAvB,EAAwC3X,GAAxC,CACjB;AAAA,WAAWnD,MAAMnD,IAAN,CAAWie,eAAX,CAA2B3d,OAA3B,EAAoCgyB,SAA/C;AAAA,GADiB,CAAnB;AAGA,SAAOuK,WAAWC,KAAX,CAAiB;AAAA,WAAUC,WAAW,CAArB;AAAA,GAAjB,CAAP;AACD,CALM;AAOA,IAAMC,WAAW,SAAXA,QAAW,QAAS;AAC/B,MAAMC,aAAa12B,OAAOoE,IAAP,CAAYxH,MAAMnD,IAAN,CAAWie,eAAvB,EAAwC3X,GAAxC,CACjB;AAAA,WAAWnD,MAAMnD,IAAN,CAAWie,eAAX,CAA2B3d,OAA3B,EAAoCm8B,QAA/C;AAAA,GADiB,CAAnB;AAGA,SAAOQ,WAAWH,KAAX,CAAiB;AAAA,WAAMI,OAAO,IAAb;AAAA,GAAjB,CAAP;AACD,CALM,C;;;;;;;;ACpFP;AAAA;AAAA;AAAA;AAAA;AAA4D;AACQ;AACpE,iBAAiB,uEAAY;AAC7B;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa,qFAAM;AACJ,qE;;;;;;;;ACTf;AAAA;AAAA;AAAA;AAAA;AAA4D;AACQ;AACpE,iBAAiB,uEAAY;AAC7B;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa,qFAAM;AACJ,qE;;;;;;;;ACTf;AAAA;AAAA;AAAA;AAAA;AAA4D;AACQ;AACpE,iBAAiB,uEAAY;AAC7B;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa,qFAAM;AACJ,qE;;;;;;;;;;;;;;;;;;;;;;;ACTf;AAEO,IAAMpzB,UAAU,oBAAhB;AACP,IAAMqzB,0BAA0B,YAAhC,C,CAEA;;AAEO,IAAM7e,kBAAkB,SAAlBA,eAAkB;AAAA,SAC7Byb,iEAAA,CAA+BoD,uBAA/B,CAD6B;AAAA,CAAxB,C,CAGP;;AACO,IAAMC,+BAA+B,SAA/BA,4BAA+B;AAAA,SAC1C3b,mBAAOA,CAAC,MAAR,CAD0C;AAAA,CAArC,C,CAGP;;AACO,IAAM4b,4BAA4B,SAA5BA,yBAA4B,YAAa;AACpD,MAAM51B,+BACDe,SADC,EAEDA,UAAUjB,UAFT;AAGJd,kBAAOqD,OAAP,cAAkBtB,UAAU1J,IAA5B,CAHI;AAIJ4H,WAAOoD;AAJH,IAAN;;AAOA,SAAO;AACLxJ,aAASwJ,OADJ;AAELL,UAAM,sBAFD;AAGLnC,cAAU;AAAErE,YAAM,CAACwE,UAAD;AAAR,KAHL;AAILyC,uBAAmB,CAAC,YAAD;AAJd,GAAP;AAMD,CAdM,C,CAgBP;;AACO,IAAMozB,eAAe,SAAfA,YAAe,CAACn6B,KAAD,EAAQrE,IAAR;AAAA,SAC1B,CAAC,CAACqE,MAAMsH,SAAR,IACA,CAAC,CAACtH,MAAMsH,SAAN,CAAgBX,OAAhB,CADF,IAEA3G,MAAMsH,SAAN,CAAgBX,OAAhB,YAA4BA,OAA5B,cAAuChL,IAAvC,EAH0B;AAAA,CAArB;AAKA,IAAMy+B,0BAA0B,SAA1BA,uBAA0B,CAACp6B,KAAD,EAAQq6B,QAAR;AAAA,SACrC,CAAC,CAACr6B,MAAMsH,SAAR,IACA,CAAC,CAACtH,MAAMsH,SAAN,CAAgBX,OAAhB,CADF,IAEAvD,OAAOoE,IAAP,CAAYxH,MAAMsH,SAAN,CAAgBX,OAAhB,CAAZ,EAAsC8C,MAAtC,CAA6C,UAACmB,UAAD,EAAajP,IAAb,EAAsB;AACjE,WAAOqE,MAAMsH,SAAN,CAAgBX,OAAhB,EAAyBhL,IAAzB,EAA+B0+B,QAA/B,KAA4CA,QAA5C,GACHzvB,WAAWiD,MAAX,CAAkB,CAAC7N,MAAMsH,SAAN,CAAgBX,OAAhB,EAAyBhL,IAAzB,CAAD,CAAlB,CADG,GAEHiP,UAFJ;AAGD,GAJD,EAIG,EAJH,CAHqC;AAAA,CAAhC;AASA,IAAMkgB,yBAAyB,SAAzBA,sBAAyB;AAAA,SACpC,CAAC,CAAC9qB,MAAMsH,SAAR,IACA,CAAC,CAACtH,MAAMsH,SAAN,CAAgBX,OAAhB,CADF,IAEAvD,OAAOsJ,MAAP,CAAc1M,MAAMsH,SAAN,CAAgBX,OAAhB,CAAd,CAHoC;AAAA,CAA/B;AAKA,IAAM2zB,uBAAuB,SAAvBA,oBAAuB;AAAA,SAClC,CAAC,CAACt6B,MAAMsH,SAAR,IACA,CAAC,CAACtH,MAAMsH,SAAN,CAAgBX,OAAhB,CADF,IAEAvD,OAAOoE,IAAP,CAAYxH,MAAMsH,SAAN,CAAgBX,OAAhB,CAAZ,EAAsC8C,MAAtC,CAA6C,UAAC8wB,OAAD,EAAUj6B,GAAV,EAAkB;AAC7D,QAAM+E,YAAYrF,MAAMsH,SAAN,CAAgBX,OAAhB,EAAyBrG,GAAzB,CAAlB;AACAi6B,YAAQl1B,UAAU1J,IAAlB,IAA0B0J,SAA1B;AACA,WAAOk1B,OAAP;AACD,GAJD,EAIG,EAJH,CAHkC;AAAA,CAA7B;AASA,IAAMC,WAAW,SAAXA,QAAW;AAAA,SACtB,CAAC,CAACx6B,KAAF,IACA,CAAC,CAACA,MAAMsH,SADR,IAEA,CAAC,CAACtH,MAAMsH,SAAN,CAAgBX,OAAhB,CAFF,IAGAvD,OAAOsJ,MAAP,CAAc1M,MAAMsH,SAAN,CAAgBX,OAAhB,CAAd,EAAwCxD,GAAxC,CAA4C;AAAA,WAAakC,UAAU1J,IAAvB;AAAA,GAA5C,CAJsB;AAAA,CAAjB,C;;;;;;;AC5DP,wD;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAA4D;AACQ;AACpE,iBAAiB,uEAAY;AAC7B;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa,qFAAM;AACJ,qE;;;;;;;;;;;;;;;;;;;;;;;;;ACTf,IAAMgvB,iBAAiB,SAAjBA,cAAiB;AAAA,SAAU,gBAAkB;AAAA,QAAfttB,QAAe,QAAfA,QAAe;AACjD,WAAO;AAAA,aAAQ,kBAAU;AAAA,YACf4d,OADe,GACmB3R,MADnB,CACf2R,OADe;AAAA,YACN3U,IADM,GACmBgD,MADnB,CACNhD,IADM;AAAA,YACA0U,KADA,GACmB1R,MADnB,CACA0R,KADA;AAAA,YACUyf,IADV,4BACmBnxB,MADnB;;AAEvB,YAAI,CAAC2R,OAAL,EAAc;AACZ,iBAAOvY,KAAK4G,MAAL,CAAP;AACD;;AAED,YAAI,CAAChD,IAAD,IAAS,CAAC0U,KAAd,EAAqB;AACnB,iBAAOC,QAAQne,MAAR,EAAgBgP,IAAhB,CAAqB;AAAA,mBAAUzO,SAASiM,MAAT,CAAV;AAAA,WAArB,CAAP;AACD;;AAED,YAAIhD,IAAJ,EAAU;AACR,iBAAO2U,QAAQne,MAAR,EAAgBgP,IAAhB,CAAqB,oBAAY;AACtCpJ,mCAAU+3B,IAAV;AAAgBt2B,gCAAhB;AAA0BmC;AAA1B;AACA,mBAAOnC,QAAP;AACD,WAHM,CAAP;AAID;;AAfsB,oCAiBa6W,KAjBb;AAAA,YAiBhB0f,OAjBgB;AAAA,YAiBPC,OAjBO;AAAA,YAiBEC,OAjBF;;AAkBvBl4B,+BAAU+3B,IAAV;AAAgBn0B,gBAAMo0B;AAAtB;AAEA,eAAOzf,QAAQne,MAAR,EACJgP,IADI,CAEH,oBAAY;AACVpJ,iCAAU+3B,IAAV;AAAgBt2B,8BAAhB;AAA0BmC,kBAAMq0B;AAAhC;AACA,iBAAOx2B,QAAP;AACD,SALE,EAMH,iBAAS;AACP0Q,kBAAQgmB,GAAR,CAAYlhC,KAAZ,EADO,CACY;;AACnB+I,iCAAU+3B,IAAV;AAAgB9gC,wBAAhB;AAAuB2M,kBAAMs0B;AAA7B;AACD,SATE,EAWJ7uB,KAXI,CAWE,iBAAS;AACd8I,kBAAQlb,KAAR,CAAc,mBAAd,EAAmCA,KAAnC,EADc,CAC4B;;AAC1C+I,iCAAU+3B,IAAV;AAAgB9gC,wBAAhB;AAAuB2M,kBAAMs0B;AAA7B;AACD,SAdI,CAAP;AAeD,OAnCM;AAAA,KAAP;AAoCD,GArCsB;AAAA,CAAvB;;AAuCejQ,6EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvCA;AACA;AAEA;AACA;AACA;AACA;AACA;AAQA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAMmQ,eAAe,SAAfA,YAAe,CAAC9O,IAAD,EAAO/C,YAAP,EAAwB;AAC3C,MAAM8R,kBAAkB,YAAxB;AACA,MAAMC,qBAAqB3tB,8CAAMA,CAAC2e,IAAP,EAAa+O,eAAb,EAA8B,IAA9B,EAAoClgC,OAApC,EAA3B;AACA,MAAImgC,kBAAJ,EAAwB,OAAOhP,IAAP;AACxB,MAAMiP,aAAa5tB,8CAAMA,CAAC2e,IAAP,EAAa/C,YAAb,EAA2B,IAA3B,CAAnB;AACA,MAAI,CAACgS,WAAWpgC,OAAX,EAAL,EAA2B,MAAM,IAAI8F,KAAJ,CAAU,cAAV,CAAN;AAC3B,SAAOs6B,WAAW1S,MAAX,CAAkBwS,eAAlB,CAAP;AACD,CAPD;;AASA,IAAMG,gBAAgB,SAAhBA,aAAgB,CAACxuB,MAAD,EAAS9S,MAAT,EAAiBqvB,YAAjB,EAAkC;AACtD,MAAMkS,oCAAuBzuB,MAAvB,CAAN;;AACAtJ,SAAOoE,IAAP,CAAY5N,MAAZ,EAAoB6c,OAApB,CAA4B,eAAO;AACjC,QAAI7c,OAAO0G,GAAP,EAAYgG,IAAZ,KAAqB,MAAzB,EAAiC;AACjC60B,oBAAgB76B,GAAhB,IAAuBw6B,aAAapuB,OAAOpM,GAAP,CAAb,EAA0B2oB,YAA1B,CAAvB;AACD,GAHD;AAIA,SAAOkS,eAAP;AACD,CAPD;;IASMC,iB;;;;;AACJ,6BAAY7hC,KAAZ,EAAmBiW,OAAnB,EAA4B;AAAA;;AAAA;;AAC1B,2FAAMjW,KAAN,EAAaiW,OAAb;;AAD0B,uFAyKjB,YAAM;AAAA,wBAC0B,MAAKjW,KAD/B;AAAA,UACPK,MADO,eACPA,MADO;AAAA,UACC8S,MADD,eACCA,MADD;AAAA,UACSrH,SADT,eACSA,SADT;AAAA,UACoB/L,CADpB,eACoBA,CADpB;AAAA,UAEPE,OAFO,GAEK,MAAKwG,KAFV,CAEPxG,OAFO;;AAGf,UAAI6hC,mCAAsB3uB,MAAtB,CAAJ,CAHe,CAKf;;;AACA,UAAI2uB,eAAelb,UAAnB,EAA+B;AAC7B,YAAI,CAACkb,eAAena,QAApB,EAA8B;AAC5Bma,yBAAena,QAAf,GACEma,eAAe5T,WAAf,IACA4T,eAAe1R,UADf,IAEA0R,eAAe3R,KAFf,IAGA2R,eAAe3P,KAHf,IAIArmB,UAAU7J,IALZ;AAMD;;AACD6/B,uBAAena,QAAf,GAA0Bma,eAAena,QAAf,CAAwBpE,OAAxB,CACxB,4BADwB,EAExB,GAFwB,CAA1B;AAIAue,uBAAelb,UAAf,aAA+Bkb,eAAelb,UAA9C,cACEkb,eAAena,QADjB;AAGD;;AAEDma,uBAAiBH,cACfG,cADe,EAEfzhC,MAFe,EAGfN,EAAE,aAAF,EAAiB;AAAEotB,WAAGC,2CAAaA,CAACC;AAAnB,OAAjB,CAHe,CAAjB,CAxBe,CA8Bf;;AACA,UAAMlX,WACJ,MAAKnW,KAAL,CAAWiB,OAAX,IAAsB,MAAKjB,KAAL,CAAWiB,OAAX,CAAmBqB,OAAnB,CAA2BC,cADnD;AAEA,UAAM2rB,cAAcjuB,WAAWA,QAAQ8H,IAAnB,IAA2B9H,QAAQ8H,IAAR,CAAammB,WAA5D;;AACA,UACEA,eACAA,YAAY3K,OAAZ,CAAoB,4BAApB,EAAkD,GAAlD,MACEtjB,QAAQ8H,IAAR,CAAa4f,QAFf,IAGAuG,gBAAgB4T,eAAe5T,WAJjC,EAKE;AACA5qB,aAAKC,MAAL,CAAYmH,KAAZ,CAAkBgd,oBAAlB,CAAuCvR,QAAvC,EAAiD;AAC/ClU,gBAAM6/B,eAAe5T;AAD0B,SAAjD;AAGA4T,uBAAena,QAAf,GAA0Bma,eAAe5T,WAAf,CAA2B3K,OAA3B,CACxB,4BADwB,EAExB,GAFwB,CAA1B;AAID,OA/Cc,CAiDf;;;AACA,UAAItjB,OAAJ,EAAa;AACX,eAAO,MAAK4nB,aAAL,CAAmB5nB,OAAnB,EAA4B6hC,cAA5B,CAAP;AACD;;AAED,aAAOh2B,aAAaA,UAAUzJ,KAAvB,GACH,MAAK0/B,mBAAL,CACEj2B,UAAUzJ,KAAV,CAAgB4kB,YAAhB,IAAgCnb,UAAU1J,IAD5C,EAEE0/B,cAFF,EAGEh2B,UAAUzJ,KAAV,CAAgB2/B,KAHlB,CADG,GAMH,MAAKC,cAAL,CAAoBH,cAApB,CANJ;AAOD,KAtO2B;;AAE1B,UAAK5rB,KAAL,GAAa,MAAKD,OAAL,CAAaC,KAA1B;AAEA,QAAI,MAAKlW,KAAL,CAAWI,KAAf,EAAsB,MAAK8hC,WAAL,CAAiB;AAAE5/B,eAAS,MAAKtC,KAAL,CAAWI;AAAtB,KAAjB;AAEtB,UAAKqG,KAAL,GAAa;AACXxG,eAAS,MAAKD,KAAL,CAAWmiC,eADT;AAEX9O,eAAS,CAAC,CAAC,MAAKrzB,KAAL,CAAWmiC,eAFX;AAGX9gC,kBAAY,KAHD;AAIXI,mBACE,MAAKzB,KAAL,CAAWyB,WAAX,IACA,MAAKzB,KAAL,CAAWyB,WAAX,CAAuB,MAAKzB,KAAL,CAAW8L,SAAX,CAAqB1J,IAA5C,CANS;AAOXV,YAAM,MAAKuU,OAAL,CAAavU;AAPR,KAAb;AAN0B;AAe3B;;;;8CAEyB1B,K,EAAO;AAC/B,WAAKulB,gCAAL,CAAsCvlB,KAAtC;AACD;;;qDAEgCytB,S,EAAW;AAAA,UAClC0U,eADkC,GACd1U,SADc,CAClC0U,eADkC;AAG1C,UAAMC,4BACJ,CAAC,KAAKpiC,KAAL,CAAWmiC,eAAZ,IAA+B,CAAC,CAACA,eADnC;;AAGA,UAAIC,yBAAJ,EAA+B;AAC7B,aAAKvjB,QAAL,CAAc;AACZ5e,mBAASkiC;AADG,SAAd;AAGD;AACF;;;mCAEcp6B,I,EAAM;AAAA;;AACnB,aAAO,KAAKs6B,aAAL,CAAmB;AAAEt6B;AAAF,OAAnB,EAA6ByK,KAA7B,CAAmC;AAAA,eAAS,OAAK0vB,WAAL,CAAiB9hC,KAAjB,CAAT;AAAA,OAAnC,CAAP;AACD;;;wCAEmB6F,W,EAAakN,M,EAAQ6uB,K,EAAO;AAAA;;AAC9C,WAAKnjB,QAAL,CAAc;AACZhe,oBAAY,IADA;AAEZyhC,oBAAY,IAFA;AAGZ7hC,yBAAiB;AAHL,OAAd;AAMA,UAAMyC,oBAAayB,OAAOiB,QAAP,CAAgB6V,QAA7B,eACJrW,SAAS+iB,aAAT,CAAuB,oBAAvB,EAA6CC,OAA7C,CAAqDE,UADjD,CAAN,CAP8C,CAW9C;;AACA,UAAMia,aAAa;AAAEt8B;AAAF,OAAnB;AACA,UAAMO,gBAAgB4rB,wEAAkBA,EAAxC;AACA1rB,mBAAa87B,OAAb,CAAqBh8B,aAArB,EAAoCI,KAAKuU,SAAL,CAAeonB,UAAf,CAApC;AACA,UAAME,SAASp+B,+DAAWA,WACrBnB,OADU,uBACU+C,WADV,0BACqC+7B,KADrC,oBACoDx7B,aADpD,oBAC2Ewa,KAAKC,GAAL,EAD3E,aAEVhb,WAFU,aAGb,GAHa,EAIb,GAJa,CAAf;AAMA,aAAOF,sEAAkBA,CAAC08B,MAAnB,EAA2Bx8B,WAA3B,EACJsM,IADI,CACC,qBAAa;AACjB,eAAO,OAAKmwB,cAAL,CAAoBC,SAApB,EAA+BxvB,MAA/B,CAAP;AACD,OAHI,EAIJX,KAJI,CAIE,iBAAS;AACd,eAAKqM,QAAL,CAAc;AAAEhe,sBAAY,KAAd;AAAqByhC,sBAAYliC,MAAMkC;AAAvC,SAAd;AACD,OANI,CAAP;AAOD;;;mCAEcqgC,S,EAAWC,a,EAAe;AAAA;;AACvC,WAAK/jB,QAAL,CAAc;AACZpe,yBAAiB;AADL,OAAd;AAIA,WAAKT,KAAL,CACG2N,YADH,CACgBg1B,SADhB,EAEGpwB,IAFH,CAEQ;AAAA,eAAW,OAAK2D,KAAL,CAAW2R,aAAX,CAAyB5nB,OAAzB,EAAkC2iC,aAAlC,CAAX;AAAA,OAFR,EAGGrwB,IAHH,CAGQ,mBAAW;AAAA,YACPzG,SADO,GACO,OAAK9L,KADZ,CACP8L,SADO;;AAEf,eAAK+S,QAAL,CAAc;AAAE5e,mBAASA;AAAX,SAAd;;AACA,eAAO,OAAKoiC,aAAL,CAAmBpiC,OAAnB,EAA4BsS,IAA5B,CAAiC,YAAM;AAC5C,iBAAKsM,QAAL,CAAc;AACZ3e,uBAAW4L,SADC;AAEZjL,wBAAY;AAFA,WAAd;AAID,SALM,CAAP;AAMD,OAZH,EAaG2R,KAbH,CAaS;AAAA,eAAS,OAAK0vB,WAAL,CAAiB9hC,KAAjB,CAAT;AAAA,OAbT;AAcD;;;kCAEaH,O,EAAS;AAAA;;AACrB,WAAK4e,QAAL,CAAc;AAAEhe,oBAAY,IAAd;AAAoBgiC,yBAAiB;AAArC,OAAd;AAEA,aAAO,KAAK3sB,KAAL,CACJ+rB,cADI,CAEH,KAAKjiC,KAAL,CAAW8L,SAFR,EAGH7L,OAHG,EAIH,KAAKD,KAAL,CAAWG,qBAJR,EAMJoS,IANI,CAMC,sBAAc;AAClB,eAAKsM,QAAL,CAAc;AAAEhe,sBAAY;AAAd,SAAd;;AACA,YAAIimB,WAAW7mB,OAAf,EAAwB;AACtB,iBAAK4e,QAAL,CAAc;AACZ5e,qBAAS6mB,WAAW7mB;AADR,WAAd;AAGD;;AAED,YAAI6mB,WAAW1mB,KAAf,EAAsB;AACpB,iBAAO8F,QAAQE,MAAR,CAAe0gB,WAAW1mB,KAA1B,CAAP;AACD,SAFD,MAEO;AACL,iBAAO8F,QAAQC,OAAR,CAAgB2gB,UAAhB,CAAP;AACD;AACF,OAnBI,CAAP;AAoBD;;;kCAEa7mB,O,EAASkT,M,EAAQ;AAAA;;AAC7BlT,cAAQ8H,IAAR,GAAe8B,OAAOC,MAAP,CAAc,EAAd,EAAkB7J,QAAQ8H,IAA1B,EAAgCoL,MAAhC,CAAf;AAEA,WAAK0L,QAAL,CAAc;AAAEhe,oBAAY;AAAd,OAAd;AAEA,aAAO,KAAKqV,KAAL,CACJ2R,aADI,CACU5nB,OADV,EACmBkT,MADnB,EAEJZ,IAFI,CAEC,mBAAW;AACf,eAAKsM,QAAL,CAAc;AAAE5e,mBAASA;AAAX,SAAd;;AACA,eAAO,OAAKiW,KAAL,CACJ4sB,UADI,CAEH,OAAK9iC,KAAL,CAAWiB,OAFR,EAGH,OAAKjB,KAAL,CAAW8L,SAHR,EAIH7L,OAJG,EAKH,OAAKD,KAAL,CAAWG,qBALR,EAOJoS,IAPI,CAOC,YAAM;AACV,iBAAKsM,QAAL,CAAc;AACZhe,wBAAY;AADA,WAAd;AAGD,SAXI,CAAP;AAYD,OAhBI,EAiBJ2R,KAjBI,CAiBE;AAAA,eAAS,OAAK0vB,WAAL,CAAiB9hC,KAAjB,CAAT;AAAA,OAjBF,CAAP;AAkBD;;;uCAEkB;AAAA;;AACjB,aAAO,KAAKJ,KAAL,CACJoS,gBADI,GAEJG,IAFI,CAEC;AAAA,eAAM,OAAKwwB,mBAAL,EAAN;AAAA,OAFD,EAGJvwB,KAHI,CAGE;AAAA,eAAS,OAAK0vB,WAAL,CAAiB9hC,KAAjB,CAAT;AAAA,OAHF,CAAP;AAID;;;0CAEqB;AACpB,WAAKye,QAAL,CAAc;AACZhe,oBAAY;AADA,OAAd;;AAIA,UAAI,OAAO,KAAKb,KAAL,CAAWgjC,kBAAlB,KAAyC,UAA7C,EAAyD;AACvD,aAAKhjC,KAAL,CAAWgjC,kBAAX,CAA8B,CAC5B;AAAE1gC,mBAAS;AAAX,SAD4B,CAA9B;AAGD;AACF;;;gCAEWlC,K,EAAO;AACjB;AACAkb,cAAQlb,KAAR,CAAcA,KAAd;AAEA,WAAKye,QAAL,CAAc;AACZhe,oBAAY,KADA;AAEZgiC,yBAAiBziC,MAAMkC;AAFX,OAAd;AAID,K,CAED;;;;6BAgES;AACP,WAAKtC,KAAL,CAAWU,QAAX;AACD;;;yCAEoBoL,S,EAAW;AAAA,UACtB/L,CADsB,GAChB,KAAKkW,OADW,CACtBlW,CADsB;AAE9B,UAAMqW,WAAW,CACfrW,EAAE,iCAAF,EAAqC;AACnCkC,cAAM6J,UAAU7J;AADmB,OAArC,CADe,CAAjB;;AAMA,UACE6J,UAAUm3B,yBAAV,IACAn3B,UAAUm3B,yBAAV,CAAoC3gC,OAFtC,EAGE;AACA8T,iBAASyZ,IAAT,CAAc9vB,EAAE+L,UAAUm3B,yBAAV,CAAoC3gC,OAAtC,CAAd;AACD;;AAED,aAAO8T,QAAP;AACD;;;6BAEQ;AAAA;;AAAA,yBA6BH,KAAKpW,KA7BF;AAAA,UAELkjC,cAFK,gBAELA,cAFK;AAAA,UAGL/iC,qBAHK,gBAGLA,qBAHK;AAAA,UAILgjC,oBAJK,gBAILA,oBAJK;AAAA,UAKL3iC,WALK,gBAKLA,WALK;AAAA,UAMLU,0BANK,gBAMLA,0BANK;AAAA,UAOLssB,6BAPK,gBAOLA,6BAPK;AAAA,UAQLrsB,eARK,gBAQLA,eARK;AAAA,UASLb,uBATK,gBASLA,uBATK;AAAA,UAULc,cAVK,gBAULA,cAVK;AAAA,UAWLG,KAXK,gBAWLA,KAXK;AAAA,UAYLD,OAZK,gBAYLA,OAZK;AAAA,UAaLisB,mBAbK,gBAaLA,mBAbK;AAAA,UAcLltB,MAdK,gBAcLA,MAdK;AAAA,UAeL6kB,QAfK,gBAeLA,QAfK;AAAA,UAgBLmO,OAhBK,gBAgBLA,OAhBK;AAAA,UAiBLvnB,SAjBK,gBAiBLA,SAjBK;AAAA,UAkBL0rB,WAlBK,gBAkBLA,WAlBK;AAAA,UAmBLp3B,KAnBK,gBAmBLA,KAnBK;AAAA,UAoBLgjC,eApBK,gBAoBLA,eApBK;AAAA,UAqBLlyB,SArBK,gBAqBLA,SArBK;AAAA,UAsBLvQ,MAtBK,gBAsBLA,MAtBK;AAAA,UAuBLJ,MAvBK,gBAuBLA,MAvBK;AAAA,UAwBLR,CAxBK,gBAwBLA,CAxBK;AAAA,UAyBLkB,OAzBK,gBAyBLA,OAzBK;AAAA,UA0BLH,OA1BK,gBA0BLA,OA1BK;AAAA,UA2BL22B,UA3BK,gBA2BLA,UA3BK;AAAA,UA4BLj2B,kBA5BK,gBA4BLA,kBA5BK;AAAA,wBAwCH,KAAKiF,KAxCF;AAAA,UA+BLxG,OA/BK,eA+BLA,OA/BK;AAAA,UAgCL4iC,eAhCK,eAgCLA,eAhCK;AAAA,UAiCLP,UAjCK,eAiCLA,UAjCK;AAAA,UAkCL7hC,eAlCK,eAkCLA,eAlCK;AAAA,UAmCLI,UAnCK,eAmCLA,UAnCK;AAAA,UAoCLQ,UApCK,eAoCLA,UApCK;AAAA,UAqCLmlB,OArCK,eAqCLA,OArCK;AAAA,UAsCL/kB,WAtCK,eAsCLA,WAtCK;AAAA,UAuCLC,IAvCK,eAuCLA,IAvCK;AAAA,UAyCC2U,QAzCD,GAyCc,KAAKH,KAzCnB,CAyCCG,QAzCD;AA0CP,UAAMrV,kBACJF,WAAWP,MAAX,GAAoB,KAAK8iC,oBAAL,CAA0Bv3B,SAA1B,CAApB,GAA2D,EAD7D;AAEA,aACE;AAAK,mBAAW/J,gEAAMA,CAAC,wBAAP;AAAhB,SACGsxB,UAAY;AACX,iEAAC,iEAAD;AACE,oBAAYhyB,UADd;AAEE,iBAASpB,OAFX;AAGE,mBAAW6L,SAHb;AAIE,kBAAUoZ,QAJZ;AAKE,+BAAuB/kB,qBALzB;AAME,yBAAiBgB,eANnB;AAOE,kBAAUkV,QAPZ;AAQE,eAAOjW,SAASkiC,UAAT,IAAuBO,eARhC;AASE,iBAASrc,OATX;AAUE,gBAAQnmB,MAVV;AAWE,qBAAaG,WAXf;AAYE,qBAAag3B,WAZf;AAaE,yBAAiB/2B,eAbnB;AAcE,kBAAU;AAAA,iBAAM,OAAK2R,gBAAL,EAAN;AAAA,SAdZ;AAeE,2BAAmBgxB,eAfrB;AAgBE,kBAAU,KAAKxiC,QAhBjB;AAiBE,oBAAYC,cAAcqQ,SAjB5B;AAkBE,wBAAgB9P,cAlBlB;AAmBE,oCAA4BF,0BAnB9B;AAoBE,iBAASI,OApBX;AAqBE,uCAA+BksB,6BArBjC;AAsBE,6BAAqBD,mBAtBvB;AAuBE,iBAAStsB,OAvBX;AAwBE,oBAAYw2B,UAxBd;AAyBE,eAAOl2B,KAzBT;AA0BE,qBAAaE,WA1Bf;AA2BE,cAAMC;AA3BR,QADD,GA+BC,2DAAC,oEAAD;AACE,8BAAsByhC,oBADxB;AAEE,oBAAY9hC,UAFd;AAGE,iBAAS6hC,cAHX;AAIE,mBAAWp3B,SAJb;AAKE,iCAAyBxL,uBAL3B;AAME,iBAASgB,OANX;AAOE,eAAOC,KAPT;AAQE,+BAAuBpB,qBARzB;AASE,eAAOC,SAASkiC,UAAT,IAAuBO,eAThC;AAUE,gBAAQxiC,MAVV;AAWE,gBAAQE,MAXV;AAYE,qBAAaC,WAZf;AAaE,yBAAiBC,eAbnB;AAcE,gBAAQE,MAdV;AAeE,kBAAU;AAAA,iBAAM,OAAK2iC,MAAL,EAAN;AAAA,SAfZ;AAgBE,kBAAU;AAAA,iBAAM,OAAK1iC,QAAL,EAAN;AAAA,SAhBZ;AAiBE,oBAAYC,cAAcqQ,SAjB5B;AAkBE,iBAASpQ,WAAWP,MAlBtB;AAmBE,wBAAgBR,EAAE,+BAAF,CAnBlB;AAoBE,4BAAoByB,kBApBtB;AAqBE,yBAAiBR,eArBnB;AAsBE,iBAASC,OAtBX;AAuBE,oCAA4BC,0BAvB9B;AAwBE,yBAAiBC,eAxBnB;AAyBE,wBAAgBC,cAzBlB;AA0BE,qBAAaK,WA1Bf;AA2BE,cAAMC;AA3BR,QAhCJ,CADF;AAiED;;;;EA5W6BwV,+C;;AA+WhC,IAAMqV,kBAAkB,SAAlBA,eAAkB,CAAC9lB,KAAD,EAAQ88B,QAAR;AAAA,SAAsB;AAC5CziC,aAASsU,gFAAqBA,CAAC3O,MAAMmM,WAA5B,EAAyC2wB,SAAStiC,OAAlD,CADmC;AAE5CikB,cAAU7P,+EAAoBA,CAAC5O,MAAMmM,WAA3B,EAAwC2wB,SAAStiC,OAAjD,CAFkC;AAG5Cb,WAAOqU,6EAAkBA,CAAChO,MAAMmM,WAAzB,EAAsC2wB,SAAStiC,OAA/C,CAHqC;AAI5CV,YAAQ+U,+EAAoBA,CAAC7O,MAAMmM,WAA3B,EAAwC2wB,SAAStiC,OAAjD;AAJoC,GAAtB;AAAA,CAAxB;;AAOA,IAAMuiC,qBAAqB,SAArBA,kBAAqB,CAAC1/B,QAAD,EAAWy/B,QAAX,EAAwB;AAAA,MACzCz3B,SADyC,GAClBy3B,QADkB,CACzCz3B,SADyC;AAAA,MAC9B7K,OAD8B,GAClBsiC,QADkB,CAC9BtiC,OAD8B;AAEjD,SAAO;AACL0M,kBAAc;AAAA,aACZ7J,SAAS6J,qEAAa81B,SAAb,CAAT,EAAkClxB,IAAlC,CAAuC;AAAA,eAAY3H,SAASrE,IAAT,CAAc,CAAd,CAAZ;AAAA,OAAvC,CADY;AAAA,KADT;AAGL68B,qBAAiB;AAAA,aACft/B,SACE2O,gFAAqBA,CAACxR,OAAtB,EAA+B,CAAC,CAAC6K,SAAF,IAAeA,UAAUyb,UAAxD,CADF,CADe;AAAA,KAHZ;AAOLnV,sBAAkB;AAAA,aAAMtO,SAASsO,4EAAiBnR,OAAjB,CAAT,CAAN;AAAA;AAPb,GAAP;AASD,CAXD;;AAae2qB,0HAAOA,CACpBW,eADa,EAEbiX,kBAFa,EAGb3W,kEAAYA,GAAG6W,mEAAUA,CAAClhC,oEAASA,GAAGq/B,iBAAZ,CAAX,CAAf,CAHa,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChbA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAM8B,QAAQ,SAARA,KAAQ,QAAS;AACrB,MAAIC,MAAJ;;AACA,MAAI5jC,MAAMoO,QAAN,IAAkBpO,MAAMoO,QAAN,CAAe6B,MAAf,KAA0B,CAAhD,EAAmD;AACjD2zB,aAASpe,4CAAKA,CAACqe,QAAN,CAAeC,OAAf,CAAuB9jC,MAAMoO,QAA7B,EAAuCxE,GAAvC,CAA2C;AAAA,aAClDgrB,0DAAYA,CACVmP,KADF,EAEEl6B,OAAOC,MAAP,CAAc9J,KAAd,EAAqB;AACnBgkC,kBAAUhkC,MAAMuqB,KADG;AAEnB0Z,mBAAWliC,yDAAMA,CAAC,iBAAP;AAFQ,OAArB,CAFF,CADkD;AAAA,KAA3C,CAAT;AASD,GAVD,MAUO;AAAA,QAEHgL,IAFG,GAYD/M,KAZC,CAEH+M,IAFG;AAAA,QAGHohB,WAHG,GAYDnuB,KAZC,CAGHmuB,WAHG;AAAA,QAIH5D,KAJG,GAYDvqB,KAZC,CAIHuqB,KAJG;AAAA,QAKH4E,QALG,GAYDnvB,KAZC,CAKHmvB,QALG;AAAA,QAMHC,MANG,GAYDpvB,KAZC,CAMHovB,MANG;AAAA,QAOHH,OAPG,GAYDjvB,KAZC,CAOHivB,OAPG;AAAA,QAQHqF,QARG,GAYDt0B,KAZC,CAQHs0B,QARG;AAAA,QASHryB,IATG,GAYDjC,KAZC,CASHiC,IATG;AAAA,QAUHiiC,UAVG,GAYDlkC,KAZC,CAUHkkC,UAVG;AAAA,QAWH9pB,UAXG,GAYDpa,KAZC,CAWHoa,UAXG;AAaL,QAAM+pB,WAAWD,aACbn3B,SAAS,UAAT,GACE,cADF,GAEE,KAHW,GAIb,IAJJ;AAKA62B,aACE,2DAAC,2DAAD;AACE,uBAAetP,QADjB;AAEE,YAAMvnB,IAFR;AAGE,YAAK,QAHP;AAIE,qBAJF;AAKE,mBAAaohB,WALf;AAME,gBAAUmG,QANZ;AAOE,kBAAYla,UAPd;AAQE,aAAOmQ,KART;AASE,YAAMtoB,IATR;AAUE,gBAAUktB,QAVZ;AAWE,cAAQC,MAXV;AAYE,eAASH,OAZX;AAaE,oBAAckV;AAbhB,MADF;AAiBD;;AA/CoB,MAgDb5P,SAhDa,GAgDCv0B,KAhDD,CAgDbu0B,SAhDa;AAiDrB,SAAOv0B,MAAM+M,IAAN,KAAe,QAAf,GACL62B,MADK,GAGL,2DAAC,YAAD;AAAc,eAAW5jC,MAAM+M,IAAN,KAAe,QAAf,IAA2BwnB;AAApD,KAAmEv0B,KAAnE,GACG4jC,MADH,CAHF;AAOD,CAxDD;;AA0DeD,oEAAf;;IAEMS,qB;;;;;;;;;;;;;;;;;;0FAYU,cAAM;AAClB,UAAMr9B,MAAMs9B,GAAGC,KAAH,IAAYD,GAAGE,OAA3B;AACA,UAAIx9B,QAAQ,EAAZ,EAAgB,MAAK/G,KAAL,CAAWo0B,UAAX;AACjB,K;;;;;;;wCAdmB;AAClB,UAAI,KAAKp0B,KAAL,CAAWu0B,SAAf,EAA0B;AACxB;AACA,YAAMiQ,WAAWC,4CAAQA,CAACC,WAAT,CAAqB,IAArB,CAAjB;AACA,YAAMC,YAAYH,SAASrc,aAAT,CAAuB,OAAvB,CAAlB;;AACA,YAAIwc,aAAa,OAAOA,UAAU7+B,KAAjB,KAA2B,UAA5C,EAAwD;AACtD6+B,oBAAU7+B,KAAV;AACD;AACF;AACF;;;6BAOQ;AAAA,wBAC2D,KAAK9F,KADhE;AAAA,UACCwU,KADD,eACCA,KADD;AAAA,UACQkgB,OADR,eACQA,OADR;AAAA,UACiB/G,MADjB,eACiBA,MADjB;AAAA,UACyBvf,QADzB,eACyBA,QADzB;AAAA,UACmCrB,IADnC,eACmCA,IADnC;AAAA,UACyCqN,UADzC,eACyCA,UADzC;AAAA,UACqDra,CADrD,eACqDA,CADrD;AAEP,UAAM6kC,aAAcjX,UAAUA,OAAO1d,MAAP,KAAkB,CAA7B,IAAmCykB,OAAtD;AAEA,aACE;AACE,mBAAWnW,iDAAUA,CACnBxc,yDAAMA,CAAC,WAAP,CADS,EAET6iC,cAAcxqB,UAAd,IAA4BrY,yDAAMA,CAAC,kBAAP,CAFnB,CADb;AAKE,iBAASgL,SAAS,QAAT,IAAqB,KAAK/M,KAAL,CAAWo0B,UAAhC,IAA8C,KAAKyQ;AAL9D,SAOGrwB,SACC,0EACGA,KADH,EAEG,CAAC4F,UAAD,IACC;AAAM,mBAAWrY,yDAAMA,CAAC,qBAAP;AAAjB,SACGhC,EAAE,yBAAF,CADH,CAHJ,CARJ,EAiBGqO,QAjBH,EAkBGuf,UACCA,OAAO1d,MAAP,KAAkB,CADnB,IAEC0d,OAAO/jB,GAAP,CAAW,UAAC0c,GAAD,EAAMsE,CAAN;AAAA,eACT;AAAG,eAAKA,CAAR;AAAW,qBAAW7oB,yDAAMA,CAAC,iBAAP;AAAtB,WACGukB,GADH,CADS;AAAA,OAAX,CApBJ,CADF;AA4BD;;;;EAjDiCpP,+C;;AAoD7B,IAAM4tB,eAAetiC,oEAASA,GAAG4hC,qBAAZ,CAArB;AAEA,IAAMW,gBAAgBviC,oEAASA,GACpCic,sEAAiBA,CACf;AACEumB,WAAS;AADX,CADF,EAIE;AAAA,SAAa;AACXC,sBAAkB,4BAAM;AACtBpmB,eAAS;AAAA,eAAU;AAAEmmB,mBAAS,CAACv+B,MAAMu+B;AAAlB,SAAV;AAAA,OAAT;AACD;AAHU,GAAb;AAAA,CAJF,EASE,iBAAS;AAAA,MAEPjlC,CAFO,GAaLC,KAbK,CAEPD,CAFO;AAAA,MAGPouB,WAHO,GAaLnuB,KAbK,CAGPmuB,WAHO;AAAA,MAIP5D,KAJO,GAaLvqB,KAbK,CAIPuqB,KAJO;AAAA,MAKP4E,QALO,GAaLnvB,KAbK,CAKPmvB,QALO;AAAA,MAMPC,MANO,GAaLpvB,KAbK,CAMPovB,MANO;AAAA,MAOPH,OAPO,GAaLjvB,KAbK,CAOPivB,OAPO;AAAA,MAQPgW,gBARO,GAaLjlC,KAbK,CAQPilC,gBARO;AAAA,MASPD,OATO,GAaLhlC,KAbK,CASPglC,OATO;AAAA,MAUP/iC,IAVO,GAaLjC,KAbK,CAUPiC,IAVO;AAAA,MAWPsyB,SAXO,GAaLv0B,KAbK,CAWPu0B,SAXO;AAAA,MAYP2P,UAZO,GAaLlkC,KAbK,CAYPkkC,UAZO;AAcT,MAAMC,WAAWD,aAAcc,UAAU,KAAV,GAAkB,cAAhC,GAAkD,IAAnE;AACA,SACE,2DAAC,YAAD;AAAc,eAAWhlC,MAAM+M,IAAN,KAAe,QAAf,IAA2BwnB;AAApD,KAAmEv0B,KAAnE,GACE;AACE,UAAK,QADP;AAEE,WACEglC,UACIjlC,EAAE,sCAAF,CADJ,GAEIA,EAAE,sCAAF,CALR;AAOE,eAAWgC,yDAAMA,CAAC,qBAAP,CAPb;AAQE,aAAS;AAAA,aAAMkjC,kBAAN;AAAA;AARX,KAUGD,UACGjlC,EAAE,gCAAF,CADH,GAEGA,EAAE,gCAAF,CAZN,CADF,EAeE,2DAAC,2DAAD;AACE,UAAMilC,UAAU,MAAV,GAAmB,UAD3B;AAEE,UAAK,QAFP;AAGE,mBAHF;AAIE,iBAAa7W,WAJf;AAKE,WAAO5D,KALT;AAME,UAAMtoB,IANR;AAOE,cAAUktB,QAPZ;AAQE,aAASF,OARX;AASE,YAAQG,MATV;AAUE,kBAAc+U;AAVhB,IAfF,CADF;AA8BD,CAtDD,CAD2B,CAAtB;AA0DA,IAAMe,gBAAgB1iC,oEAASA,GAAG,iBAAS;AAAA,MACxC+nB,KADwC,GACFvqB,KADE,CACxCuqB,KADwC;AAAA,MACjCpnB,OADiC,GACFnD,KADE,CACjCmD,OADiC;AAAA,MACxBgsB,QADwB,GACFnvB,KADE,CACxBmvB,QADwB;AAAA,MACdF,OADc,GACFjvB,KADE,CACdivB,OADc;AAEhD,MAAIkW,iBAAiBhiC,WAAWA,QAAQ+d,OAAR,CAAgBqJ,KAAhB,MAA2B,CAAC,CAA5D;AACA,MAAI6a,uBAAuBD,iBAAiBhiC,OAAjB,GAA2B,CAAConB,KAAD,EAAQjW,MAAR,CAAenR,OAAf,CAAtD;AAEA,SACE,2DAAC,YAAD,EAAkBnD,KAAlB,EACE;AACE,eAAWue,iDAAUA,CACnBxc,yDAAMA,CAAC,kBAAP,CADS,EAETA,yDAAMA,CAAC,qBAAP,CAFS,CADb;AAKE,WAAOwoB,KALT;AAME,cAAU4E,QANZ;AAOE,aAASF;AAPX,KASGmW,qBAAqBx7B,GAArB,CAAyB,UAACy7B,WAAD,EAAcj7B,KAAd;AAAA,WACxB;AACE,WAAKA,KADP;AAEE,aACGi7B,eAAeA,YAAY9a,KAA5B,IACCvqB,MAAMglB,OAAN,IAAiBhlB,MAAMglB,OAAN,CAAcuF,KAJpC;AAME,gBAAU8a,eAAeA,YAAY9a,KAAZ,KAAsB;AAAEA;AAAF;AANjD,OAQI8a,eAAeA,YAAYpjC,IAA5B,IACEjC,MAAMglB,OAAN,IAAiBhlB,MAAMglB,OAAN,CAAc/iB,IATpC,CADwB;AAAA,GAAzB,CATH,CADF,CADF;AA2BD,CAhC4B,CAAtB;AAkCA,IAAMqjC,gBAAgB9iC,oEAASA,GAAG,iBAAS;AAAA,MACxC+nB,KADwC,GACIvqB,KADJ,CACxCuqB,KADwC;AAAA,MACjC4E,QADiC,GACInvB,KADJ,CACjCmvB,QADiC;AAAA,MACvBF,OADuB,GACIjvB,KADJ,CACvBivB,OADuB;AAAA,MACdza,KADc,GACIxU,KADJ,CACdwU,KADc;AAAA,MACPmZ,MADO,GACI3tB,KADJ,CACP2tB,MADO;AAEhD,MAAIhB,QACF;AACE,UAAK,UADP;AAEE,eAAW5qB,yDAAMA,CAAC,0BAAP,CAFb;AAGE,WAAOwoB,KAHT;AAIE,aAASA,KAJX;AAKE,cAAU4E,QALZ;AAME,aAASF;AANX,IADF;AAWA,MAAM2V,aAAajX,UAAUA,OAAO1d,MAAP,GAAgB,CAA7C;AAEA,SACE;AACE,eAAWsO,iDAAUA,CACnBxc,yDAAMA,CAAC,WAAP,CADS,EAET6iC,cAAc7iC,yDAAMA,CAAC,kBAAP,CAFL;AADb,KAMGyS,SACC,0EACGmY,KADH,OACWnY,KADX,CAPJ,EAWGmZ,UACCA,OAAO1d,MAAP,KAAkB,CADnB,IAEC0d,OAAO/jB,GAAP,CAAW,UAAC0c,GAAD,EAAMsE,CAAN;AAAA,WACT;AAAG,WAAKA,CAAR;AAAW,iBAAW7oB,yDAAMA,CAAC,iBAAP;AAAtB,OACGukB,GADH,CADS;AAAA,GAAX,CAbJ,CADF;AAqBD,CApC4B,CAAtB;AAsCA,IAAMuN,WAAW,SAAXA,QAAW;AAAA,SACrBnF,MAAM3hB,IAAN,IAAc2hB,MAAM3hB,IAAN,KAAe,QAA9B,IAA2C2hB,MAAM6W,MAD3B;AAAA,CAAjB;AAEA,IAAMvR,aAAa,SAAbA,UAAa;AAAA,SAAS,CAAC,CAACtF,MAAML,QAAjB;AAAA,CAAnB,C;;;;;;;;AC/PP;AAAA;AAAA;AAAA;AAAA;AAA4D;AACQ;AACpE,iBAAiB,uEAAY;AAC7B;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa,qFAAM;AACJ,qE","file":"home.app~intents.js","sourcesContent":["import React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport styles from '../styles/konnectorInstall'\n\nimport AccountLoginForm from './AccountLoginForm'\nimport DescriptionContent from './DescriptionContent'\nimport KonnectorMaintenance from './KonnectorMaintenance'\nimport KonnectorSuccess from './KonnectorSuccess'\n\nimport { getKonnectorMessage, isKonnectorLoginError } from '../lib/konnectors'\nimport ErrorDescription from './ErrorDescriptions'\n\nexport const KonnectorInstall = props => {\n  const {\n    t,\n    account,\n    connector,\n    disableSuccessTimeout,\n    error,\n    fields,\n    handleConnectionSuccess,\n    queued,\n    isUnloading,\n    oAuthTerminated,\n    onCancel,\n    onDone,\n    onSubmit,\n    submitting,\n    success,\n    successMessage,\n    successMessages,\n    trigger,\n    allRequiredFieldsAreFilled,\n    displayAdvanced,\n    toggleAdvanced,\n    isFetching,\n    isValid,\n    dirty,\n    successButtonLabel,\n    maintenance,\n    lang\n  } = props\n  const hasLoginError = isKonnectorLoginError(error)\n  const hasErrorExceptLogin = !!error && !hasLoginError\n  const isRunningInQueue = queued && submitting\n\n  return (\n    <div className={styles['col-account-connection-content']}>\n      <div className={styles['col-account-connection-form']}>\n        {hasErrorExceptLogin && ErrorDescription({ t, error, connector })}\n        {(!error || hasLoginError) &&\n          !isRunningInQueue &&\n          !success &&\n          !maintenance && (\n            <DescriptionContent\n              title={t('account.config.title', { name: connector.name })}\n              messages={[getKonnectorMessage(t, connector, 'terms')]}\n              centerTitle\n            />\n          )}\n        {maintenance && maintenance.longTerm ? (\n          <KonnectorMaintenance\n            maintenance={maintenance}\n            lang={lang}\n            konnectorName={connector.name}\n          />\n        ) : !account || !success || hasLoginError ? (\n          <AccountLoginForm\n            connectorSlug={connector.slug}\n            konnectorName={connector.name}\n            disableSuccessTimeout={disableSuccessTimeout}\n            error={hasLoginError}\n            fields={fields}\n            isValid={isValid}\n            dirty={dirty}\n            isFetching={isFetching}\n            forceEnabled={!!error}\n            isOAuth={connector.oauth}\n            isUnloading={isUnloading}\n            oAuthTerminated={oAuthTerminated}\n            onSubmit={onSubmit}\n            submitting={submitting}\n            allRequiredFieldsAreFilled={allRequiredFieldsAreFilled}\n            displayAdvanced={displayAdvanced}\n            toggleAdvanced={toggleAdvanced}\n          />\n        ) : (\n          <KonnectorSuccess\n            connector={connector}\n            error={error}\n            account={account}\n            folderId={trigger && trigger.message.folder_to_save}\n            handleConnectionSuccess={handleConnectionSuccess}\n            isRunningInQueue={isRunningInQueue}\n            isUnloading={isUnloading}\n            onDone={onDone}\n            onCancel={onCancel}\n            success={success}\n            title={successMessage}\n            messages={successMessages}\n            successButtonLabel={successButtonLabel}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default translate()(KonnectorInstall)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-refund_be3c019834fc5d9e32b5a9c511b8d326\",\n  \"use\": \"icon-refund_be3c019834fc5d9e32b5a9c511b8d326-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-refund_be3c019834fc5d9e32b5a9c511b8d326\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-96 -384)\\\">\\n    <g transform=\\\"translate(96 384.75)\\\">\\n      <path fill=\\\"#FF9126\\\" d=\\\"M9.001,26.252 L1.001,26.252 C0.449,26.252 0.001,26.7 0.001,27.252 L0.001,42.252 C0.001,42.802 0.449,43.252 1.001,43.252 L9.001,43.252 C9.551,43.252 10.001,42.802 10.001,42.252 L10.001,27.252 C10.001,26.7 9.551,26.252 9.001,26.252\\\" />\\n      <path fill=\\\"#FFE2A1\\\" d=\\\"M47.708,34.543 C45.36,32.197 43.334,31.543 40.684,32.303 L34.668,34.299 C34.722,34.613 34.75,34.931 34.75,35.251 C34.75,36.531 34.334,37.737 33.582,38.641 C32.704,39.693 31.466,40.251 30,40.251 L20,40.251 C19.448,40.251 19,39.803 19,39.251 C19,38.699 19.448,38.251 20,38.251 L30,38.251 C30.864,38.251 31.552,37.951 32.044,37.361 C32.494,36.823 32.75,36.055 32.75,35.251 C32.75,34.137 32.17,32.251 30,32.251 L24.406,32.251 L24,32.251 C23.736,32.251 23.482,32.147 23.294,31.959 C22.376,31.041 19.586,28.251 15,28.251 L12,28.251 C11.448,28.251 11,28.699 11,29.251 L11,40.251 C11,40.681 11.276,41.065 11.684,41.199 C14.806,42.241 17.248,43.127 19.206,43.841 C23.062,45.243 25.22,46.001 27.144,46.001 C29.438,46.001 31.4,44.923 35.498,42.583 C38.21,41.031 41.922,38.909 47.448,36.147 C47.736,36.001 47.936,35.729 47.988,35.411 C48.038,35.095 47.934,34.771 47.708,34.543\\\" />\\n      <path fill=\\\"#FF9126\\\" d=\\\"M34.001,14.252 C30.141,14.252 27.001,11.112 27.001,7.252 C27.001,3.39 30.141,0.252 34.001,0.252 C37.861,0.252 41.001,3.39 41.001,7.252 C41.001,11.112 37.861,14.252 34.001,14.252 Z M25.001,28.252 C21.141,28.252 18.001,25.112 18.001,21.252 C18.001,17.39 21.141,14.252 25.001,14.252 C28.861,14.252 32.001,17.39 32.001,21.252 C32.001,25.112 28.861,28.252 25.001,28.252 Z\\\" />\\n      <path fill=\\\"#FFE2A1\\\" d=\\\"M33.001,5.252 C33.001,4.7 33.449,4.252 34.001,4.252 C34.551,4.252 35.001,4.7 35.001,5.252 L35.001,9.252 C35.001,9.802 34.551,10.252 34.001,10.252 C33.449,10.252 33.001,9.802 33.001,9.252 L33.001,5.252 Z M24.001,19.252 C24.001,18.7 24.449,18.252 25.001,18.252 C25.551,18.252 26.001,18.7 26.001,19.252 L26.001,23.252 C26.001,23.802 25.551,24.252 25.001,24.252 C24.449,24.252 24.001,23.802 24.001,23.252 L24.001,19.252 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy, PouchDB */\nimport CozyStackAdapter from './adapters/CozyStackAdapter'\nimport PouchdbAdapter, {\n  SYNC_BIDIRECTIONAL,\n  SYNC_TO,\n  SYNC_FROM\n} from './adapters/PouchdbAdapter'\n\n// const isOnline = () =>\n//   typeof navigator !== 'undefined' ? navigator.onLine : true\n\nexport default class DataAccessFacade {\n  constructor() {\n    this.stackAdapter = new CozyStackAdapter()\n    if (typeof PouchDB !== 'undefined') {\n      this.pouchAdapter = new PouchdbAdapter()\n      // TODO: strategy injection\n      this.strategy = new PouchFirstStrategy()\n    } else {\n      this.strategy = new StackOnlyStrategy()\n    }\n  }\n\n  setup(cozyUrl, options) {\n    const config = { cozyURL: cozyUrl, ...options }\n    cozy.client.init(config) // TODO: For now we let cozy-client-js creates PouchDB instances\n    this.stackAdapter.init(config)\n    if (config.offline) {\n      this.pouchAdapter.registerDoctypes(config.offline.doctypes)\n    }\n  }\n\n  getAdapter(doctype) {\n    return this.strategy.getAdapter(\n      doctype,\n      this.stackAdapter,\n      this.pouchAdapter\n    )\n  }\n\n  startSync(dispatch) {\n    return this.pouchAdapter.sync(dispatch, SYNC_BIDIRECTIONAL)\n  }\n\n  startReplicationTo(dispatch) {\n    return this.pouchAdapter.sync(dispatch, SYNC_TO)\n  }\n\n  startReplicationFrom(dispatch) {\n    return this.pouchAdapter.sync(dispatch, SYNC_FROM)\n  }\n}\n\nclass PouchFirstStrategy {\n  getAdapter(doctype, stackAdapter, pouchAdapter) {\n    if (pouchAdapter.getDatabase(doctype) === undefined) {\n      return stackAdapter\n    }\n    return pouchAdapter\n  }\n}\n\nclass StackOnlyStrategy {\n  getAdapter(doctype, stackAdapter) {\n    return stackAdapter\n  }\n}\n","// customized function to center a popup window\n// source https://stackoverflow.com/a/16861050\nexport function popupCenter(url, title, w, h) {\n  /* global screen */\n  // Fixes dual-screen position\n  //                      Most browsers      Firefox\n  var dualScreenLeft = window.screenLeft || screen.left\n  var dualScreenTop = window.screenTop || screen.top\n\n  var width = window.innerWidth\n    ? window.innerWidth\n    : document.documentElement.clientWidth\n      ? document.documentElement.clientWidth\n      : screen.width\n  var height = window.innerHeight\n    ? window.innerHeight\n    : document.documentElement.clientHeight\n      ? document.documentElement.clientHeight\n      : screen.height\n\n  var left = width / 2 - w / 2 + dualScreenLeft\n  var top = height / 2 - h / 2 + dualScreenTop\n  // need to be set here to get from the OAuth opener\n  var newWindow = window.open(\n    '',\n    title,\n    'scrollbars=yes, width=' +\n      w +\n      ', height=' +\n      h +\n      ', top=' +\n      top +\n      ', left=' +\n      left\n  )\n  newWindow.location.href = url\n\n  // Puts focus on the newWindow\n  if (newWindow.focus) {\n    newWindow.focus()\n  }\n  return newWindow\n}\n\nexport function waitForClosedPopup(popup, accountType) {\n  return new Promise((resolve, reject) => {\n    var cb = function(messageEvent) {\n      if (!messageEvent.data) return // data shouldn't be empty\n      // we check the key provided to be sure to handle\n      // the correct OAuth popup response here\n      var OAuthStateKey = messageEvent.data.OAuthStateKey\n      if (OAuthStateKey) {\n        var state =\n          localStorage.getItem(OAuthStateKey) &&\n          JSON.parse(localStorage.getItem(OAuthStateKey))\n        if (state.accountType === accountType) {\n          localStorage.removeItem(OAuthStateKey)\n          resolve(messageEvent.data.key)\n        }\n      }\n    }\n    window.addEventListener('message', cb)\n    // polling to monitor oauth window closing\n    ;(function monitorOAuthClosing() {\n      if (popup.closed) {\n        window.removeEventListener('message', cb)\n        reject(new Error('window closed'))\n      } else {\n        setTimeout(monitorOAuthClosing, 1000)\n      }\n    })()\n  })\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-family_91946380bac02348a4bdf7b8a2424ed4\",\n  \"use\": \"icon-family_91946380bac02348a4bdf7b8a2424ed4-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-family_91946380bac02348a4bdf7b8a2424ed4\\\">\\n  <defs>\\n    <path id=\\\"icon-family_91946380bac02348a4bdf7b8a2424ed4_a\\\" d=\\\"M46,23 C46,35.704 35.702,46 23,46 C10.296,46 0,35.704 0,23 C0,10.3 10.296,0 23,0 C35.702,0 46,10.3 46,23 L46,23 Z\\\" />\\n  </defs>\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-96 -576)\\\">\\n    <g transform=\\\"translate(97 577)\\\">\\n      <mask id=\\\"icon-family_91946380bac02348a4bdf7b8a2424ed4_b\\\" fill=\\\"white\\\">\\n        <use xlink:href=\\\"#icon-family_91946380bac02348a4bdf7b8a2424ed4_a\\\" />\\n      </mask>\\n      <use fill=\\\"#C2F0D1\\\" xlink:href=\\\"#icon-family_91946380bac02348a4bdf7b8a2424ed4_a\\\" />\\n      <path fill=\\\"#35CE68\\\" d=\\\"M9,25 C12.3137085,25 15,27.6862915 15,31 L15,47 L3,47 L3,31 L3,31 C3,27.6862915 5.6862915,25 9,25 Z M9,23 C5.6862915,23 3,20.3137085 3,17 C3,13.6862915 5.6862915,11 9,11 C12.3137085,11 15,13.6862915 15,17 C15,20.3137085 12.3137085,23 9,23 Z M37,23 C33.6862915,23 31,20.3137085 31,17 C31,13.6862915 33.6862915,11 37,11 C40.3137085,11 43,13.6862915 43,17 C43,20.3137085 40.3137085,23 37,23 Z M23,31 C19.6862915,31 17,28.3137085 17,25 C17,21.6862915 19.6862915,19 23,19 C26.3137085,19 29,21.6862915 29,25 C29,28.3137085 26.3137085,31 23,31 Z M37,25 C40.3137085,25 43,27.6862915 43,31 L43,47 L31,47 L31,31 L31,31 C31,27.6862915 33.6862915,25 37,25 Z M23,33 C26.3137085,33 29,35.6862915 29,39 L29,47 L17,47 L17,39 C17,35.6862915 19.6862915,33 23,33 Z\\\" mask=\\\"url(#icon-family_91946380bac02348a4bdf7b8a2424ed4_b)\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","var map = {\n\t\"./cs\": \"xoYS\",\n\t\"./cs.json\": \"xoYS\",\n\t\"./da\": \"IarV\",\n\t\"./da.json\": \"IarV\",\n\t\"./de\": \"bOJm\",\n\t\"./de.json\": \"bOJm\",\n\t\"./de_DE\": \"eeWi\",\n\t\"./de_DE.json\": \"eeWi\",\n\t\"./en\": \"7dT6\",\n\t\"./en.json\": \"7dT6\",\n\t\"./eo\": \"JhSQ\",\n\t\"./eo.json\": \"JhSQ\",\n\t\"./es\": \"oway\",\n\t\"./es.json\": \"oway\",\n\t\"./fr\": \"9pOX\",\n\t\"./fr.json\": \"9pOX\",\n\t\"./id\": \"IQxF\",\n\t\"./id.json\": \"IQxF\",\n\t\"./it\": \"CCUm\",\n\t\"./it.json\": \"CCUm\",\n\t\"./ja\": \"BCMW\",\n\t\"./ja.json\": \"BCMW\",\n\t\"./ko\": \"3RGN\",\n\t\"./ko.json\": \"3RGN\",\n\t\"./nl\": \"piUo\",\n\t\"./nl.json\": \"piUo\",\n\t\"./nl_NL\": \"2d4v\",\n\t\"./nl_NL.json\": \"2d4v\",\n\t\"./pl\": \"ibJU\",\n\t\"./pl.json\": \"ibJU\",\n\t\"./pt\": \"XWeM\",\n\t\"./pt.json\": \"XWeM\",\n\t\"./pt_BR\": \"DDHO\",\n\t\"./pt_BR.json\": \"DDHO\",\n\t\"./ro\": \"lUKR\",\n\t\"./ro.json\": \"lUKR\",\n\t\"./ro_RO\": \"DFSm\",\n\t\"./ro_RO.json\": \"DFSm\",\n\t\"./ru\": \"dwRe\",\n\t\"./ru.json\": \"dwRe\",\n\t\"./sq\": \"614y\",\n\t\"./sq.json\": \"614y\",\n\t\"./sq_AL\": \"mra9\",\n\t\"./sq_AL.json\": \"mra9\",\n\t\"./tr\": \"/+tk\",\n\t\"./tr.json\": \"/+tk\",\n\t\"./uk_UA\": \"MSm8\",\n\t\"./uk_UA.json\": \"MSm8\",\n\t\"./zh_CN\": \"dSv/\",\n\t\"./zh_CN.json\": \"dSv/\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"/KVF\";","/* accounts lib ready to be added to cozy-client-js */\nexport const ACCOUNTS_DOCTYPE = 'io.cozy.accounts'\n\nexport const ACCOUNT_ERRORS = {\n  LOGIN_FAILED: 'LOGIN_FAILED',\n  MAINTENANCE: 'MAINTENANCE',\n  NOT_EXISTING_DIRECTORY: 'NOT_EXISTING_DIRECTORY',\n  SUCCESS_TIMEOUT: 'SUCCESS_TIMEOUT',\n  USER_ACTION_NEEDED: 'USER_ACTION_NEEDED'\n}\n\nexport const probableLoginFieldNames = [\n  'email',\n  'identifier',\n  'login',\n  'new_identifier'\n]\n\nfunction ignorePassword(auth) {\n  const sanitized = { ...auth }\n  delete sanitized.password\n  return sanitized\n}\n\nfunction sanitizeAccountAuthForUpdate(auth) {\n  const sanitized = { ...auth }\n  delete sanitized.credentials_encrypted\n  // Always ignore empty passwords on account update\n  const { password } = auth\n  if (typeof password !== 'undefined' && !password) {\n    return ignorePassword(sanitized)\n  }\n  return sanitized\n}\n\nexport function update(cozy, account, newAccount) {\n  return cozy.data.updateAttributes(ACCOUNTS_DOCTYPE, account._id, {\n    auth: {\n      ...ignorePassword(account.auth),\n      ...sanitizeAccountAuthForUpdate(newAccount.auth)\n    }\n  })\n}\n\nexport function _delete(cozy, account) {\n  return cozy.data.delete(ACCOUNTS_DOCTYPE, account)\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-travelDate_09b95d70120d0247b374b0054073b267\",\n  \"use\": \"icon-travelDate_09b95d70120d0247b374b0054073b267-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-travelDate_09b95d70120d0247b374b0054073b267\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-288 -192)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(289 195)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <g stroke=\\\"currentColor\\\" transform=\\\"translate(8 8)\\\">\\n        <path d=\\\"M30 0L30 32M24 0L24 32M6 0L6 32M0 0L0 32\\\" />\\n      </g>\\n      <g stroke=\\\"#95999D\\\">\\n        <path d=\\\"M46 12C46 8.7 45.3 8 42 8L4 8C.7 8 0 8.7 0 12L0 36C0 39.3.7 40 4 40L42 40C45.3 40 46 39.3 46 36L46 14 46 12zM16 8L16 4C16 1.8 17.8 0 20 0L26 0C28.2 0 30 1.8 30 4L30 8\\\" />\\n      </g>\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-certificate_e665c2558003a9b72fa156bcef81b180\",\n  \"use\": \"icon-certificate_e665c2558003a9b72fa156bcef81b180-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-certificate_e665c2558003a9b72fa156bcef81b180\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#B2D3FF\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#197BFF\\\" d=\\\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM6 11L20 11 20 13 6 13 6 11zM6 15L18 15 18 17 6 17 6 15zM6 19L20 19 20 21 6 21 6 19zM6 23L16 23 16 25 6 25 6 23z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-bankTransactions_f769ba01efafd171dd813d375fd845ce\",\n  \"use\": \"icon-bankTransactions_f769ba01efafd171dd813d375fd845ce-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-bankTransactions_f769ba01efafd171dd813d375fd845ce\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-480 -192)\\\">\\n    <g transform=\\\"translate(487 193)\\\">\\n      <path fill=\\\"#C2F0D1\\\" d=\\\"M1.9999204,46 C0.895394863,46 0,45.1017583 0,43.9938589 L0,2.0061411 C0,0.898179965 0.889673948,0 1.991155,0 L22,0 L34,12 L34,44.0000796 C34,45.1046051 33.1080589,46 32.0000796,46 L1.9999204,46 Z\\\" />\\n      <path fill=\\\"#35CE68\\\" d=\\\"M22,0 L22,9.9914698 C22,11.1007504 22.9019504,12 24.0085302,12 L34,12 L22,0 Z\\\" />\\n      <polygon stroke=\\\"#35CE68\\\" stroke-width=\\\"2\\\" points=\\\"28 40 6 40 6 16 28 16\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n      <path stroke=\\\"#35CE68\\\" stroke-width=\\\"2\\\" d=\\\"M6 21L28 21M6 27L28 27M6 33L28 33M13 16L13 40\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy */\nconst FILES_DOCTYPE = 'io.cozy.files'\nconst FETCH_LIMIT = 50\n\nexport const SHARED_BY_LINK = 'sharedByLink'\nexport const SHARED_WITH_ME = 'sharedWithMe'\nexport const SHARED_WITH_OTHERS = 'sharedWithOthers'\n\nexport default class CozyStackAdapter {\n  async fetchApps(skip = 0) {\n    const { data, meta } = await cozy.client.fetchJSON('GET', '/apps/', null, {\n      processJSONAPI: false\n    })\n\n    return {\n      data: data || [],\n      meta: meta,\n      skip,\n      next: !!meta && meta.count > skip + FETCH_LIMIT\n    }\n  }\n\n  async fetchDocuments(doctype) {\n    // WARN: cozy-client-js lacks a cozy.data.findAll method that uses this route\n    try {\n      // WARN: if no document of this doctype exist, this route will return a 404,\n      // so we need to try/catch and return an empty response object in case of a 404\n      const resp = await cozy.client.fetchJSON(\n        'GET',\n        `/data/${doctype}/_all_docs?include_docs=true`\n      )\n      // WARN: the JSON response from the stack is not homogenous with other routes (offset? rows? total_rows?)\n      // see https://github.com/cozy/cozy-stack/blob/master/docs/data-system.md#list-all-the-documents\n      // WARN: looks like this route returns something looking like a couchDB design doc, we need to filter it:\n      const rows = resp.rows.filter(row => !row.doc.hasOwnProperty('views'))\n      // we normalize the data (note that we add _type so that cozy.client.data.listReferencedFiles works...)\n      const docs = rows.map(row =>\n        Object.assign({}, row.doc, { id: row.id, _type: doctype })\n      )\n      // we forge a correct JSONAPI response:\n      return {\n        data: docs,\n        meta: { count: resp.total_rows },\n        skip: resp.offset,\n        next: false\n      }\n    } catch (error) {\n      if (error.message.match(/not_found/)) {\n        return { data: [], meta: { count: 0 }, skip: 0, next: false }\n      }\n      throw error\n    }\n  }\n\n  async queryDocuments(doctype, index, options) {\n    const fields = options.fields\n    const skip = options.skip || 0\n    // Mango wants an array of single-property-objects...\n    const sort = options.sort\n      ? index.fields.map(f => ({ [f]: options.sort[f] || 'desc' }))\n      : undefined\n\n    const queryOptions = {\n      limit: FETCH_LIMIT,\n      wholeResponse: true, // WARN: mandatory to get the full JSONAPI response\n      ...options,\n      // TODO: type and class should not be necessary, it's just a temp fix for a stack bug\n      fields: [...fields, '_id', '_type', 'class'],\n      skip,\n      sort\n    }\n\n    // abstract away the format differences between query replies on the VFS versus the data API\n    let data, meta, next\n    if (doctype === FILES_DOCTYPE) {\n      const response = await cozy.client.files.query(index, queryOptions)\n      data = response.data.map(doc =>\n        Object.assign({ _id: doc.id, _type: doctype }, doc, doc.attributes)\n      )\n      meta = response.meta\n      next = meta.count > skip + FETCH_LIMIT\n    } else {\n      const response = await cozy.client.data.query(index, queryOptions)\n      data = response.docs.map(doc =>\n        Object.assign({ id: doc._id, _type: doctype }, doc)\n      )\n      meta = {}\n      next = response.next\n    }\n\n    // we forge a correct JSONAPI response:\n    return { data, meta, next }\n  }\n\n  async fetchDocument(doctype, id) {\n    const doc = await cozy.client.data.find(doctype, id)\n    // we normalize again...\n    const normalized = { ...doc, id: doc._id, _type: doc._type }\n    return { data: [normalized] }\n  }\n\n  init(config) {\n    this.config = { ...config }\n  }\n\n  async createDocument(doctype, doc) {\n    const created = await cozy.client.data.create(doctype, doc)\n    // we forge a standard response with a 'data' property\n    const normalized = { ...created, id: created._id, _type: doctype }\n    return { data: [normalized] }\n  }\n\n  async createTrigger(doc) {\n    const created = await cozy.client.fetchJSON('POST', '/jobs/triggers', {\n      data: doc\n    })\n    const normalized = { ...created, ...created.attributes, id: created._id }\n    return { data: [normalized] }\n  }\n\n  async launchTrigger(doc) {\n    const job = await cozy.client.fetchJSON(\n      'POST',\n      `/jobs/triggers/${doc._id}/launch`\n    )\n\n    const normalized = { ...job, ...job.attributes, id: job._id }\n    return { data: [normalized] }\n  }\n\n  async updateDocument(doc) {\n    const updated = await cozy.client.data.updateAttributes(\n      doc._type,\n      doc.id,\n      doc\n    )\n    // we forge a standard response with a 'data' property\n    return { data: [{ ...doc, _rev: updated._rev }] }\n  }\n\n  async deleteDocument(doc) {\n    /* const deleted = */ await cozy.client.data.delete(doc._type, doc)\n    // we forge a standard response with a 'data' property\n    return { data: [doc] }\n  }\n\n  async deleteTrigger(doc) {\n    await cozy.client.fetchJSON('DELETE', `/jobs/triggers/${doc._id}`)\n    return { data: [doc] }\n  }\n\n  createIndex(doctype, fields) {\n    return cozy.client.data.defineIndex(doctype, fields)\n  }\n\n  async fetchFileByPath(path) {\n    try {\n      const file = await cozy.client.files.statByPath(path)\n      // we forge a standard response with a 'data' property\n      return { data: [normalizeFile(file)] }\n    } catch (err) {\n      return null\n    }\n  }\n\n  async createFile(file, dirID) {\n    const created = await cozy.client.files.create(file, { dirID })\n    // we forge a standard response with a 'data' property\n    return { data: [normalizeFile(created)] }\n  }\n\n  async trashFile(file) {\n    /* const trashed = */ cozy.client.files.trashById(file.id)\n    // we forge a standard response with a 'data' property\n    return { data: [file] }\n  }\n\n  async fetchReferencedFiles(doc, skip = 0) {\n    // WARN: _type and _id are needed by cozy.client.data.fetchReferencedFiles\n    const normalized = { ...doc, _id: doc.id }\n    // WARN: the stack API is probably not ideal here: referencedFiles are in the 'included' property\n    // (that should be used when fetching an entity AND its relations) and the 'data' property\n    // only contains uplets { id, type }\n    const { included, meta } = await cozy.client.data.fetchReferencedFiles(\n      normalized,\n      {\n        skip,\n        limit: FETCH_LIMIT\n      }\n    )\n    // we forge a standard response with a 'data' property\n    return {\n      data: !included\n        ? []\n        : included.map(file => ({\n            ...file,\n            ...file.attributes,\n            _type: 'io.cozy.files'\n          })),\n      meta,\n      next: meta.count > skip + FETCH_LIMIT,\n      skip\n    }\n  }\n\n  async fetchKonnectors(skip = 0) {\n    const { data, meta } = await cozy.client.fetchJSON(\n      'GET',\n      `/konnectors/`,\n      null,\n      {\n        processJSONAPI: false\n      }\n    )\n\n    return {\n      data: data\n        ? data.map(konnector => ({\n            ...konnector,\n            ...konnector.attributes,\n            _type: 'io.cozy.konnectors'\n          }))\n        : [],\n      meta: meta,\n      skip,\n      next: !!meta && meta.count > skip + FETCH_LIMIT\n    }\n  }\n\n  async fetchTriggers(worker, skip = 0) {\n    const { data, meta } = await cozy.client.fetchJSON(\n      'GET',\n      `/jobs/triggers?Worker=${worker}`,\n      null,\n      {\n        processJSONAPI: false\n      }\n    )\n\n    return {\n      data: data\n        ? data.map(trigger => ({\n            ...trigger,\n            ...trigger.attributes,\n            _type: 'io.cozy.triggers'\n          }))\n        : [],\n      meta: meta,\n      skip,\n      next: !!meta && meta.count > skip + FETCH_LIMIT\n    }\n  }\n\n  async addReferencedFiles(doc, ids) {\n    await cozy.client.data.addReferencedFiles(doc, ids)\n    return ids\n  }\n\n  async removeReferencedFiles(doc, ids) {\n    // WARN: _type and _id are needed by cozy.client.data.removeReferencedFiles\n    const normalized = { ...doc, _id: doc.id }\n    await cozy.client.data.removeReferencedFiles(normalized, ids)\n    return ids\n  }\n\n  async fetchSharingPermissions(doctype) {\n    const fetchPermissions = (doctype, sharingType) =>\n      cozy.client.fetchJSON(\n        'GET',\n        `/permissions/doctype/${doctype}/${sharingType}`\n      )\n\n    const byMe = await fetchPermissions(doctype, SHARED_WITH_OTHERS)\n    const byLink = await fetchPermissions(doctype, SHARED_BY_LINK)\n    const withMe = await fetchPermissions(doctype, SHARED_WITH_ME)\n\n    return { byMe, byLink, withMe }\n  }\n\n  fetchSharing(id) {\n    return cozy.client.fetchJSON('GET', `/sharings/${id}`)\n  }\n\n  createSharing(permissions, contactIds, sharingType, description) {\n    return cozy.client.fetchJSON('POST', '/sharings/', {\n      desc: description,\n      permissions,\n      recipients: contactIds.map(contactId => ({\n        recipient: {\n          id: contactId,\n          type: 'io.cozy.contacts'\n        }\n      })),\n      sharing_type: sharingType\n    })\n  }\n\n  revokeSharing(sharingId) {\n    return cozy.client.fetchJSON('DELETE', `/sharings/${sharingId}`)\n  }\n\n  revokeSharingForClient(sharingId, clientId) {\n    return cozy.client.fetchJSON(\n      'DELETE',\n      `/sharings/${sharingId}/recipient/${clientId}`\n    )\n  }\n\n  createSharingLink(permissions) {\n    return cozy.client.fetchJSON('POST', `/permissions?codes=email`, {\n      data: {\n        type: 'io.cozy.permissions',\n        attributes: {\n          permissions\n        }\n      }\n    })\n  }\n\n  revokeSharingLink(permission) {\n    return cozy.client.fetchJSON('DELETE', `/permissions/${permission._id}`)\n  }\n}\n\nconst normalizeFile = file => ({ ...file, ...file.attributes, id: file._id })\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-files-pen_8cdcb7474d12525fd9701dd7a4ff025e\",\n  \"use\": \"icon-files-pen_8cdcb7474d12525fd9701dd7a4ff025e-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-files-pen_8cdcb7474d12525fd9701dd7a4ff025e\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-192 -192)\\\">\\n    <g transform=\\\"translate(193 193)\\\">\\n      <path fill=\\\"#A9CBF9\\\" d=\\\"M2.00174332,42 C0.89621101,42 0,41.1033397 0,40.0025078 L0,1.99749218 C0,0.894307712 0.889673948,0 1.991155,0 L22,0 L32,10 L32,42 L2.00174332,42 Z\\\" />\\n      <path fill=\\\"#297EF2\\\" d=\\\"M22,0 L32,10 L23.999615,10 C22.8874333,10 22,9.10474188 22,8.00038502 L22,0 Z M25.9313108,45.4521969 C24.8646773,45.7569493 24.2452393,45.1456626 24.5518031,44.0726892 L26,39.004 L39.5906483,25.4115399 C40.3701163,24.6319679 41.6352535,24.6332535 42.421425,25.419425 L44.582575,27.580575 C45.3665018,28.3645018 45.3669649,29.6351197 44.5906483,30.4115399 L31,44.004 L25.9313108,45.4521969 Z M15,37 L25,37 L25,39 L15,39 L15,37 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-arrow-left_36f9ecc38620cb107567f4ff3b4eafc9\",\n  \"use\": \"icon-arrow-left_36f9ecc38620cb107567f4ff3b4eafc9-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"icon-arrow-left_36f9ecc38620cb107567f4ff3b4eafc9\\\">\\n  <path fill=\\\"#95999D\\\" d=\\\"M35.5708019,45.0000059 L45.6757246,54.2628518 C46.0828436,54.6360442 46.1103465,55.2686115 45.7371541,55.6757305 C45.3639617,56.0828495 44.7313944,56.1103524 44.3242754,55.73716 L32.3270117,44.7396683 C32.1261015,44.5567619 32,44.2931102 32,44.0000059 C32,43.7069016 32.1261015,43.4432499 32.3270117,43.2603435 L44.3242754,32.2628518 C44.7313944,31.8896593 45.3639617,31.9171623 45.7371541,32.3242813 C46.1103465,32.7314003 46.0828436,33.3639676 45.6757246,33.73716 L35.5708019,43.0000059 L55,43.0000059 C55.5522847,43.0000059 56,43.4477211 56,44.0000059 C56,44.5522906 55.5522847,45.0000059 55,45.0000059 L35.5708019,45.0000059 Z\\\" transform=\\\"translate(-32 -32)\\\" />\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-sync_1d9e36fc4015c47cdcea9626a5eec99f\",\n  \"use\": \"icon-sync_1d9e36fc4015c47cdcea9626a5eec99f-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-sync_1d9e36fc4015c47cdcea9626a5eec99f\\\">\\n<title>icons/16/sync</title>\\n<desc>Created with Sketch.</desc>\\n<g>\\n\\t<path d=\\\"M16,7.2c0-0.1,0-0.1,0-0.2V3c0-0.6-0.4-1-1-1c-0.5,0-0.8,0.3-0.9,0.7C12.6,1,10.4,0,8,0C4.9,0,2,1.8,0.7,4.6\\n\\t\\tc-0.2,0.5,0,1.1,0.5,1.3s1.1,0,1.3-0.5C3.5,3.4,5.6,2,8,2c1.5,0,3,0.6,4,1.5c-0.3,0-0.6,0.1-0.8,0.3c-0.4,0.4-0.3,1.1,0.1,1.4\\n\\t\\tl3,2.5c0,0,0,0,0,0c0,0,0,0,0.1,0c0.1,0.1,0.2,0.1,0.3,0.1c0,0,0.1,0,0.1,0c0.1,0,0.2,0,0.3,0c0,0,0,0,0,0c0,0,0,0,0,0\\n\\t\\tc0.1,0,0.2-0.1,0.3-0.1c0,0,0,0,0.1,0c0.1-0.1,0.2-0.1,0.2-0.2c0,0,0,0,0,0C15.9,7.5,15.9,7.4,16,7.2C16,7.3,16,7.2,16,7.2z\\\" />\\n\\t<path d=\\\"M14.8,10.1c-0.5-0.2-1.1,0-1.3,0.5c-1,2.1-3.1,3.4-5.5,3.4c-1.5,0-2.9-0.6-4-1.5c0.3,0,0.5-0.1,0.7-0.4\\n\\t\\tc0.4-0.4,0.3-1.1-0.1-1.4l-3-2.5c0,0,0,0,0,0c0,0-0.1,0-0.1,0C1.4,8.1,1.4,8.1,1.3,8c0,0-0.1,0-0.1,0C1,8,0.7,8,0.5,8.1\\n\\t\\tc0,0-0.1,0-0.1,0C0.3,8.2,0.3,8.3,0.2,8.4c0,0,0,0,0,0C0.1,8.5,0.1,8.6,0,8.7c0,0,0,0.1,0,0.1C0,8.9,0,8.9,0,9v4c0,0.6,0.4,1,1,1\\n\\t\\tc0.5,0,0.9-0.3,1-0.8C3.5,14.9,5.6,16,8,16c3.1,0,5.9-1.8,7.3-4.5C15.5,11,15.3,10.4,14.8,10.1z\\\" />\\n</g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import {\n  createDocument,\n  fetchCollection,\n  fetchDocument\n} from 'redux-cozy-client'\n\nexport const DOCTYPE = 'io.cozy.accounts'\nconst accountCollectionKey = 'accounts'\n\nexport const createAccount = attributes =>\n  createDocument(\n    DOCTYPE,\n    { type: DOCTYPE, ...attributes },\n    {\n      updateCollections: [accountCollectionKey]\n    }\n  )\n\nexport const fetchAccounts = () =>\n  fetchCollection(accountCollectionKey, DOCTYPE)\n\nexport const fetchAccount = id => {\n  return fetchDocument(DOCTYPE, id, {\n    collection: [accountCollectionKey]\n  })\n}\n\n// selectors\nexport const getAccount = (state, id) => {\n  if (!state.documents || !state.documents[DOCTYPE]) {\n    return null\n  }\n\n  return state.documents[DOCTYPE][id]\n}\n\nexport const getIds = state =>\n  // state.collection is bugged, it does not update correctly id list on\n  // RECEIVE_DATA\n  // (state.collections &&\n  //   state.collections[accountCollectionKey] &&\n  //   state.collections[accountCollectionKey].ids) ||\n  // []\n  (state.documents &&\n    state.documents[DOCTYPE] &&\n    Object.keys(state.documents[DOCTYPE])) ||\n  []\n","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\n\nexport const reactMarkdownRendererOptions = {\n  // eslint-disable-next-line react/display-name\n  Link: props => (\n    <a href={props.href} rel=\"noopener noreferrer\" target=\"_blank\">\n      {props.children}\n    </a>\n  )\n}\n\nexport const ReactMarkdownWrapper = ({ source }) => (\n  <ReactMarkdown source={source} renderers={reactMarkdownRendererOptions} />\n)\n\nexport default ReactMarkdownWrapper\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coz-form-controls\":\"coz-form-controls--1gEYB\",\"coz-form-controls-success\":\"coz-form-controls-success--1NQyf\",\"coz-btn\":\"coz-btn--233oo\",\"col-btn--regular\":\"col-btn--regular--2N744\",\"col-account-form-success-buttons\":\"col-account-form-success-buttons--1J36i\",\"account-form-login\":\"account-form-login--_w3tO\",\"col-account-form-advanced-button\":\"col-account-form-advanced-button--niE6T\",\"account-form-fieldset\":\"account-form-fieldset--3WD-X\",\"col-account-success\":\"col-account-success--1NEI1\",\"col-account-success-links\":\"col-account-success-links--15Ii5\",\"col-account-success-link\":\"col-account-success-link--18QVL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"u-visuallyhidden\":\"u-visuallyhidden--2QIqQ\",\"u-hide\":\"u-hide--2eCfS\",\"u-hide--mob\":\"u-hide--mob--3_yMk\",\"u-hide--tablet\":\"u-hide--tablet--REWHS\",\"u-hide--desk\":\"u-hide--desk--1rH1U\",\"u-error\":\"u-error--zI0yP\",\"u-error--warning\":\"u-error--warning--h_iOw\",\"u-valid\":\"u-valid--1pzMT\",\"u-warn\":\"u-warn--GuAK-\",\"u-black\":\"u-black--CxNzo\",\"u-white\":\"u-white--CnXlX\",\"u-paleGrey\":\"u-paleGrey--1bCoZ\",\"u-silver\":\"u-silver--2ncTe\",\"u-coolGrey\":\"u-coolGrey--1dDxT\",\"u-slateGrey\":\"u-slateGrey--2DLwG\",\"u-charcoalGrey\":\"u-charcoalGrey--3w7St\",\"u-overlay\":\"u-overlay--3AB3k\",\"u-zircon\":\"u-zircon--1vg2x\",\"u-frenchPass\":\"u-frenchPass--1L3Hc\",\"u-dodgerBlue\":\"u-dodgerBlue--vT6r_\",\"u-scienceBlue\":\"u-scienceBlue--2q5v7\",\"u-puertoRico\":\"u-puertoRico--1gSrO\",\"u-emerald\":\"u-emerald---k5q1\",\"u-malachite\":\"u-malachite--3DN2q\",\"u-texasRose\":\"u-texasRose--3ukov\",\"u-chablis\":\"u-chablis--3jvIn\",\"u-yourPink\":\"u-yourPink--1SqLM\",\"u-pomegranate\":\"u-pomegranate--17FhI\",\"u-monza\":\"u-monza--1vCPo\",\"u-portage\":\"u-portage--1DaGD\",\"u-azure\":\"u-azure--6i4Em\",\"u-melon\":\"u-melon--3wHcb\",\"u-blazeOrange\":\"u-blazeOrange--mj5gY\",\"u-mango\":\"u-mango--1CJOU\",\"u-pumpkinOrange\":\"u-pumpkinOrange--1v1La\",\"u-darkPeriwinkle\":\"u-darkPeriwinkle--3LkQm\",\"u-purpley\":\"u-purpley--2IfCc\",\"u-lightishPurple\":\"u-lightishPurple--2CG7b\",\"u-barney\":\"u-barney--110zJ\",\"u-weirdGreen\":\"u-weirdGreen--3Jz5-\",\"u-ellipsis\":\"u-ellipsis--nPwgh\",\"u-midellipsis\":\"u-midellipsis--2TInv\",\"coz-field\":\"coz-field--As2EU\",\"is-error\":\"is-error--3poo8\",\"c-select--tiny\":\"c-select--tiny--2C_Qo\",\"c-select--medium\":\"c-select--medium--3Ilcl\",\"c-select--fullwidth\":\"c-select--fullwidth--XC9yX\",\"coz-field-wrapper\":\"coz-field-wrapper--2Bp-b\",\"password-visibility\":\"password-visibility--UEdpj\",\"coz-field--optional\":\"coz-field--optional--a--cA\",\"error-label\":\"error-label--8jZ4b\",\"coz-field--error\":\"coz-field--error--3QC9W\",\"coz-field-error\":\"coz-field-error--25sZQ\",\"spin\":\"spin--2s7Sz\"};","/* global cozy */\nimport { combineReducers } from 'redux'\nimport moment from 'moment'\n\nimport { buildKonnectorError, isKonnectorUserError } from '../../lib/konnectors'\n\nimport { getTriggerLastJob } from '../jobs'\n\nimport { launchTrigger } from '../triggers'\nimport { getAccount } from '../accounts'\n\n// constant\nconst ACCOUNT_DOCTYPE = 'io.cozy.accounts'\nconst TRIGGERS_DOCTYPE = 'io.cozy.triggers'\nconst JOBS_DOCTYPE = 'io.cozy.jobs'\n\n// Delay until the konnector is queued. It is used to compensate the fact that\n// we cannot determine when a login is OK for the konnector.\nexport const DEFAULT_QUEUE_DELAY = 7000\n\nexport const CREATE_CONNECTION = 'CREATE_CONNECTION'\nexport const CONNECTION_DELETED = 'CONNECTION_DELETED'\nexport const DELETE_CONNECTION = 'DELETE_CONNECTION'\nexport const DELETE_CONNECTION_FAILURE = 'DELETE_CONNECTION_FAILURE'\nexport const ENQUEUE_CONNECTION = 'ENQUEUE_CONNECTION'\nexport const LAUNCH_TRIGGER = 'LAUNCH_TRIGGER'\nexport const PURGE_QUEUE = 'PURGE_QUEUE'\nexport const RECEIVE_DATA = 'RECEIVE_DATA'\nexport const RECEIVE_NEW_DOCUMENT = 'RECEIVE_NEW_DOCUMENT'\nexport const UPDATE_CONNECTION_RUNNING_STATUS =\n  'UPDATE_CONNECTION_RUNNING_STATUS'\nexport const UPDATE_CONNECTION_ERROR = 'UPDATE_CONNECTION_ERROR'\nexport const START_CONNECTION_CREATION = 'START_CONNECTION_CREATION'\nexport const END_CONNECTION_CREATION = 'END_CONNECTION_CREATION'\n\n// Helpers\nconst getTriggerKonnectorSlug = trigger =>\n  (trigger && trigger.message && trigger.message.konnector) || null\n\nconst isKonnectorTrigger = doc =>\n  doc._type === TRIGGERS_DOCTYPE && !!doc.message && !!doc.message.konnector\n\nconst isKonnectorJob = doc =>\n  doc._type === JOBS_DOCTYPE && doc.worker === 'konnector'\n\nconst deleteAccount = async account => {\n  try {\n    await cozy.client.data.delete('io.cozy.accounts', account)\n  } catch (error) {\n    if (error.status === 409) {\n      const syncedAccount = await cozy.client.data.find(\n        'io.cozy.accounts',\n        account._id\n      )\n      await cozy.client.data.delete('io.cozy.accounts', syncedAccount)\n    } else {\n      throw error\n    }\n  }\n}\n\n// reducers\nconst reducer = (state = {}, action) => {\n  switch (action.type) {\n    case CONNECTION_DELETED:\n    case DELETE_CONNECTION:\n    case DELETE_CONNECTION_FAILURE:\n      if (!action.trigger || !action.trigger._id)\n        throw new Error('Missing trigger id')\n      if (!action.trigger.message || !action.trigger.message.konnector)\n        throw new Error('Malformed trigger message')\n      return {\n        ...state,\n        [getTriggerKonnectorSlug(action.trigger)]: konnectorReducer(\n          state[getTriggerKonnectorSlug(action.trigger)],\n          action\n        )\n      }\n    case CREATE_CONNECTION:\n    case ENQUEUE_CONNECTION:\n    case UPDATE_CONNECTION_ERROR:\n    case UPDATE_CONNECTION_RUNNING_STATUS:\n    case LAUNCH_TRIGGER:\n      // Trigger is launched, connection should be running.\n      if (!action.trigger || !action.trigger._id)\n        throw new Error('Missing trigger id')\n      if (!action.trigger.message || !action.trigger.message.konnector)\n        throw new Error('Malformed trigger message')\n      return {\n        ...state,\n        [getTriggerKonnectorSlug(action.trigger)]: konnectorReducer(\n          state[getTriggerKonnectorSlug(action.trigger)],\n          action\n        )\n      }\n\n    case RECEIVE_DATA:\n    case RECEIVE_NEW_DOCUMENT:\n      if (\n        !action.response ||\n        !action.response.data ||\n        !action.response.data.length\n      ) {\n        return state\n      }\n\n      return action.response.data.reduce((newState, doc) => {\n        const isTrigger = isKonnectorTrigger(doc)\n        const isJob = isKonnectorJob(doc)\n        // Ignore non triggers or non jobs\n        if (!isTrigger && !isJob) return newState\n        const konnectorSlug = doc.message.konnector\n        const triggerId = (isTrigger && doc._id) || (isJob && doc.trigger_id)\n        if (!triggerId) return newState\n\n        const account = isTrigger && !!doc.message && doc.message.account\n\n        const currentStatus =\n          (isTrigger && (doc.current_state && doc.current_state.status)) ||\n          (isJob && doc.state)\n        if (!currentStatus) return newState\n\n        const error =\n          (isTrigger &&\n            !!doc.current_state &&\n            doc.current_state.status !== 'done' &&\n            !!doc.current_state.last_error &&\n            buildKonnectorError(doc.current_state.last_error)) ||\n          (isJob && !!doc.error && buildKonnectorError(doc.error)) ||\n          null\n\n        const lastSyncDate =\n          (isTrigger &&\n            !!doc.current_state &&\n            doc.current_state.last_execution) ||\n          (isJob && doc.queued_at)\n\n        return {\n          ...newState,\n          [konnectorSlug]: {\n            triggers: {\n              ...((newState[konnectorSlug] &&\n                newState[konnectorSlug].triggers) ||\n                {}),\n              [triggerId]: {\n                ...((newState[konnectorSlug] &&\n                  newState[konnectorSlug].triggers &&\n                  newState[konnectorSlug].triggers[triggerId]) ||\n                  {}),\n                account:\n                  account ||\n                  (newState[konnectorSlug] &&\n                    newState[konnectorSlug].triggers &&\n                    newState[konnectorSlug].triggers[triggerId] &&\n                    newState[konnectorSlug].triggers[triggerId].account),\n                error,\n                hasError: !!error || currentStatus === 'errored',\n                isRunning: ['queued', 'running'].includes(currentStatus),\n                isConnected: !error && currentStatus === 'done',\n                lastSyncDate: lastSyncDate\n              }\n            }\n          }\n        }\n      }, state)\n\n    case PURGE_QUEUE:\n      return Object.keys(state).reduce((konnectors, slug) => {\n        return {\n          ...konnectors,\n          [slug]: konnectorReducer(state[slug], action)\n        }\n      }, state)\n\n    default:\n      return state\n  }\n}\n\nconst creation = (state = null, action) => {\n  switch (action.type) {\n    case RECEIVE_DATA:\n    case RECEIVE_NEW_DOCUMENT: {\n      if (!state) return null\n      if (\n        !action.response ||\n        !action.response.data ||\n        action.response.data.length !== 1\n      ) {\n        return state\n      }\n\n      const doc = action.response.data[0]\n      const isAccount = doc._type === ACCOUNT_DOCTYPE\n\n      if (isAccount)\n        return {\n          ...state,\n          account: doc._id\n        }\n\n      const isTrigger = isKonnectorTrigger(doc)\n      if (isTrigger)\n        return {\n          ...state,\n          trigger: doc._id\n        }\n\n      return state\n    }\n    case START_CONNECTION_CREATION:\n      // Store all data related to the creation of a new connection in then\n      // property `creation`\n      // While a new connection is being configured, new trigger and account\n      // are store here\n      return {}\n    case END_CONNECTION_CREATION:\n      return null\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  creation,\n  konnectors: reducer\n})\n\n// sub(?) reducers\nconst konnectorReducer = (state = {}, action) => {\n  switch (action.type) {\n    case CONNECTION_DELETED:\n    case DELETE_CONNECTION:\n    case DELETE_CONNECTION_FAILURE:\n    case ENQUEUE_CONNECTION:\n    case LAUNCH_TRIGGER:\n    case RECEIVE_DATA:\n    case RECEIVE_NEW_DOCUMENT:\n    case PURGE_QUEUE:\n      // We assume that document being a trigger has already been validated.\n      return {\n        ...state,\n        triggers: triggersReducer(state.triggers, action)\n      }\n    default:\n      return state\n  }\n}\n\nconst triggersReducer = (state = {}, action) => {\n  switch (action.type) {\n    case DELETE_CONNECTION:\n      return {\n        ...state,\n        [action.trigger._id]: {\n          ...state[action.trigger._id],\n          isDeleting: true\n        }\n      }\n    case DELETE_CONNECTION_FAILURE:\n      return {\n        ...state,\n        [action.trigger._id]: {\n          ...state[action.trigger._id],\n          isDeleting: false\n        }\n      }\n    case CONNECTION_DELETED:\n      // eslint-disable-next-line no-unused-vars\n      return (({ [action.trigger._id]: deleted, ...state }) => state)(state)\n    case ENQUEUE_CONNECTION:\n      return {\n        ...state,\n        [action.trigger._id]: {\n          ...state[action.trigger._id],\n          isEnqueued: true\n        }\n      }\n    case LAUNCH_TRIGGER:\n      return {\n        ...state,\n        [action.trigger._id]: {\n          ...state[action.trigger._id],\n          account: action.trigger.message.account,\n          isRunning: true\n        }\n      }\n    case PURGE_QUEUE:\n      return state\n        ? Object.keys(state).reduce((newState, triggerId) => {\n            return {\n              ...newState,\n              [triggerId]: {\n                ...newState[triggerId],\n                isEnqueued: false\n              }\n            }\n          }, state)\n        : state\n    default:\n      return state\n  }\n}\n\n// action creators sync\nexport const createConnection = (konnector, account, folder) => ({\n  type: CREATE_CONNECTION,\n  konnector,\n  account,\n  folder\n})\n\nexport const enqueueConnection = trigger => ({\n  type: ENQUEUE_CONNECTION,\n  trigger\n})\n\nexport const purgeQueue = () => ({\n  type: PURGE_QUEUE\n})\n\nexport const updateConnectionError = (konnector, account, error) => ({\n  type: UPDATE_CONNECTION_ERROR,\n  konnector,\n  account,\n  error\n})\n\nexport const startConnectionCreation = konnector => ({\n  type: START_CONNECTION_CREATION,\n  konnector\n})\n\nexport const endConnectionCreation = () => ({\n  type: END_CONNECTION_CREATION\n})\n\n// action creators async\nexport const deleteConnection = trigger => {\n  return (dispatch, getState) => {\n    dispatch({\n      type: DELETE_CONNECTION,\n      trigger: trigger\n    })\n    const account = getTriggerAccount(getState(), trigger)\n    return deleteAccount(account)\n      .then(() =>\n        dispatch({\n          type: CONNECTION_DELETED,\n          trigger: trigger\n        })\n      )\n      .catch(error => {\n        dispatch({\n          type: DELETE_CONNECTION_FAILURE,\n          trigger: trigger,\n          error\n        })\n        throw error\n      })\n  }\n}\n\nexport const launchTriggerAndQueue = (trigger, delay = DEFAULT_QUEUE_DELAY) => (\n  dispatch,\n  getState\n) => {\n  setTimeout(() => {\n    if (isConnectionRunning(getState().connections, trigger)) {\n      dispatch(enqueueConnection(trigger))\n    }\n  }, delay)\n\n  return dispatch(launchTrigger(trigger))\n}\n\n// selectors\nexport const getConnectionsByKonnector = (\n  state,\n  konnectorSlug,\n  validAccounts = [],\n  validKonnectors = []\n) => {\n  const konnectorIsValid =\n    !validKonnectors.length || validKonnectors.includes(konnectorSlug)\n  const konnectorHasConnections =\n    state.konnectors[konnectorSlug] &&\n    Object.keys(state.konnectors[konnectorSlug].triggers).length\n  if (!konnectorIsValid || !konnectorHasConnections) return []\n\n  return Object.values(state.konnectors[konnectorSlug].triggers).filter(\n    trigger => validAccounts.includes(trigger.account)\n  )\n}\n\nexport const getFirstError = (state, konnectorSlug) => {\n  const firstTriggerHavingError =\n    !!state.konnectors &&\n    !!state.konnectors[konnectorSlug] &&\n    !!state.konnectors[konnectorSlug].triggers &&\n    Object.values(state.konnectors[konnectorSlug].triggers).find(\n      trigger => !!trigger.error\n    )\n  return !!firstTriggerHavingError && firstTriggerHavingError.error\n}\n\nexport const getFirstUserError = (state, konnectorSlug) => {\n  const firstTriggerHavingUserError =\n    !!state.konnectors &&\n    !!state.konnectors[konnectorSlug] &&\n    !!state.konnectors[konnectorSlug].triggers &&\n    Object.values(state.konnectors[konnectorSlug].triggers).find(trigger =>\n      isKonnectorUserError(trigger.error)\n    )\n  return firstTriggerHavingUserError && firstTriggerHavingUserError.error\n}\n\nexport const getLastSyncDate = (state, konnectorSlug) => {\n  const lastExecutions =\n    !!state.konnectors &&\n    !!state.konnectors[konnectorSlug] &&\n    !!state.konnectors[konnectorSlug].triggers &&\n    Object.values(state.konnectors[konnectorSlug].triggers)\n      .map(trigger => trigger.lastSyncDate)\n      .sort((dateA, dateB) => {\n        const momentA = moment.utc(dateA)\n        const momentB = moment.utc(dateB)\n        return momentA.isAfter(momentB) ? -1 : momentA.isBefore(momentB) ? 1 : 0\n      })\n  return lastExecutions.length && lastExecutions[0]\n}\n\n// Map the trigger status to a status compatible with queue\nconst getTriggerQueueStatus = trigger => {\n  if (trigger.isRunning) return 'ongoing'\n  if (trigger.hasError) return 'error'\n  if (trigger.isConnected) return 'done'\n  return 'pending'\n}\n\nexport const getQueue = (state, konnectors) =>\n  // state is state.connections\n  state.konnectors\n    ? Object.keys(state.konnectors).reduce(\n        (queuedConnections, konnectorSlug) => {\n          const triggers = state.konnectors[konnectorSlug].triggers\n          if (!triggers) return queuedConnections\n          const konnector = konnectors[konnectorSlug]\n          return queuedConnections.concat(\n            Object.keys(triggers).reduce((queuedTriggers, triggerId) => {\n              if (triggers[triggerId].isEnqueued) {\n                const label = konnector.name\n                const status = getTriggerQueueStatus(triggers[triggerId])\n                return queuedTriggers.concat({ konnector, label, status })\n              }\n\n              return queuedTriggers\n            }, [])\n          )\n        },\n        []\n      )\n    : []\n\nexport const getConnectionError = (state, trigger) =>\n  getTriggerState(state, trigger).error\n\nexport const getCreatedAccount = state =>\n  !!state.creation && state.creation.account\n\nexport const getTriggerAccount = (state, trigger) => {\n  return getAccount(state.cozy, trigger.message.account)\n}\n\nexport const getTriggerIdByKonnectorAndAccount = (\n  state,\n  konnector,\n  account,\n  validAccounts = []\n) =>\n  !!konnector &&\n  !!account &&\n  validAccounts.includes(account._id) &&\n  !!state.konnectors[konnector.slug] &&\n  Object.keys(state.konnectors[konnector.slug].triggers).find(\n    triggerId =>\n      state.konnectors[konnector.slug].triggers[triggerId].account ===\n      account._id\n  )\n\nexport const getTriggerLastSuccess = (state, trigger) => {\n  const lastJob = getTriggerLastJob(state, trigger)\n  const lastJobIsSuccess = lastJob && lastJob.state === 'done'\n  if (lastJobIsSuccess) return lastJob.started_at\n  return (\n    !!trigger && !!trigger.current_state && trigger.current_state.last_success\n  )\n}\n\n// get trigger from state, in state.konnectors[konnectorSlug].triggers[triggerId]\nconst getTriggerState = (state, trigger) => {\n  const konnectorSlug = getTriggerKonnectorSlug(trigger)\n  if (!konnectorSlug || !state.konnectors || !state.konnectors[konnectorSlug])\n    return false\n  const triggers = state.konnectors[konnectorSlug].triggers\n  if (!triggers) return false\n  return (!!triggers && !!triggers[trigger._id] && triggers[trigger._id]) || {}\n}\n\nexport const isCreatingConnection = state => !!state.creation\n\nexport const isConnectionConnected = (state, trigger) =>\n  getTriggerState(state, trigger).isConnected\n\nexport const isConnectionDeleting = (state, trigger) =>\n  getTriggerState(state, trigger).isDeleting\n\nexport const isConnectionEnqueued = (state, trigger) =>\n  getTriggerState(state, trigger).isEnqueued\n\nexport const isConnectionRunning = (state, trigger) =>\n  getTriggerState(state, trigger).isRunning\n","import React from 'react'\n\nimport DescriptionContent from './DescriptionContent'\nimport {\n  getMostAccurateErrorKey,\n  isKonnectorKnownError\n} from '../lib/konnectors'\n\nconst getErrorTitle = (t, error) =>\n  t(getMostAccurateErrorKey(t, error, key => `connection.error.${key}.title`))\n\nconst getErrorDescription = (t, konnector, error) =>\n  t(\n    getMostAccurateErrorKey(\n      t,\n      error,\n      key => `connection.error.${key}.description`\n    ),\n    {\n      name: konnector.name,\n      link: konnector.vendor_link\n    }\n  )\n\nexport const KnownErrorDescription = ({\n  t,\n  connector,\n  error,\n  message,\n  title\n}) => (\n  <DescriptionContent\n    cssClassesObject={{ 'coz-error': true }}\n    title={title || getErrorTitle(t, error)}\n    hasError\n    messages={[message || getErrorDescription(t, connector, error)]}\n  />\n)\n\nexport const GlobalErrorDescription = ({ t, connector }) => (\n  <DescriptionContent\n    cssClassesObject={{ 'coz-error': true }}\n    title={t('connection.error.default.title')}\n    hasError\n    messages={[\n      t('connection.error.default.description', { name: connector.name })\n    ]}\n  />\n)\n\nexport const ErrorDescription = props => {\n  const { error } = props\n\n  if (!isKonnectorKnownError(error)) {\n    return <GlobalErrorDescription {...props} />\n  }\n\n  // FIXME temporarily, only for EDF\n  if (props.connector && props.connector.slug === 'edf') {\n    return (\n      <KnownErrorDescription\n        error={error}\n        message={\n          props.t &&\n          props.t('status.edf.maintenance', {\n            supportLink: props.t('status.edf.support_link')\n          })\n        }\n        title={props.t && props.t('status.interrupted')}\n        {...props}\n      />\n    )\n  }\n  return <KnownErrorDescription error={error} {...props} />\n}\n\nexport default ErrorDescription\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-bloodPressure_f4558ee51667f65bb86eeb61dc7da8d6\",\n  \"use\": \"icon-bloodPressure_f4558ee51667f65bb86eeb61dc7da8d6-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-bloodPressure_f4558ee51667f65bb86eeb61dc7da8d6\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-384 -288)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(385 289)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <g stroke=\\\"currentColor\\\" transform=\\\"translate(0 3)\\\">\\n        <polyline points=\\\"0 15 8 15 12 8.996 16 14.996 20 5.996 26 24.996 31 .996 35 15 46 15\\\" />\\n        <path d=\\\"M8 37L8 39M20 37L20 39M32 37L32 39M14 33L14 39M26 33L26 39M38 33L38 39\\\" />\\n      </g>\\n      <path stroke=\\\"#95999D\\\" d=\\\"M46,42 C46,44.2 44.2,46 42,46 L4,46 C1.798,46 0,44.2 0,42 L0,4 C0,1.798 1.798,0 4,0 L42,0 C44.2,0 46,1.798 46,4 L46,42 L46,42 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coz-form-controls\":\"coz-form-controls--1PNVn\",\"coz-form-controls-success\":\"coz-form-controls-success--3ETSQ\",\"coz-btn\":\"coz-btn--2KkeG\",\"col-btn--regular\":\"col-btn--regular--1aurB\",\"col-account-form-success-buttons\":\"col-account-form-success-buttons--11jZY\",\"account-form-login\":\"account-form-login--1Nqe4\",\"col-account-form-advanced-button\":\"col-account-form-advanced-button--4Q_4g\",\"account-form-fieldset\":\"account-form-fieldset--NYwbL\"};","/* global cozy */\n\nimport styles from '../styles/konnectorSuccess'\n\nimport React, { Component } from 'react'\nimport Button from 'cozy-ui/react/Button'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport DescriptionContent from './DescriptionContent'\nimport connectingIllu from 'assets/images/connecting-data-in-progress.svg'\n\nexport class KonnectorSuccess extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.store = this.context.store\n    if (typeof this.props.handleConnectionSuccess === 'function') {\n      this.props.handleConnectionSuccess()\n    }\n  }\n\n  render() {\n    const {\n      t,\n      connector,\n      account,\n      error,\n      folderId,\n      title,\n      messages,\n      onDone,\n      successButtonLabel\n    } = this.props\n    const { driveUrl, banksUrl } = this.store\n    const displayDriveUrl =\n      driveUrl &&\n      folderId &&\n      Array.isArray(connector.data_types) &&\n      connector.data_types.includes('bill')\n    const displayBanksUrl =\n      Array.isArray(connector.data_types) &&\n      connector.data_types.includes('bankAccounts')\n    const hasLinks = displayDriveUrl || displayBanksUrl\n    return (\n      account && (\n        <div className={styles['col-account-success']}>\n          {!error && (\n            <div className={styles['col-account-success-illu-wrapper']}>\n              <img\n                src={connectingIllu}\n                className={styles['col-account-success-illu']}\n              />\n            </div>\n          )}\n          <DescriptionContent\n            title={!error && title}\n            messages={!error && messages}\n          >\n            {hasLinks && (\n              <p className={styles['col-account-success-links']}>\n                {displayDriveUrl && (\n                  <a\n                    className={styles['col-account-success-link']}\n                    href={`${driveUrl}${folderId}`}\n                    target=\"_parent\"\n                  >\n                    {t('account.success.driveLinkText')}\n                  </a>\n                )}\n                {displayBanksUrl &&\n                  (banksUrl ? (\n                    <a\n                      className={styles['col-account-success-link']}\n                      href={banksUrl}\n                      target=\"_parent\"\n                    >\n                      {t('account.success.banksLinkText')}\n                    </a>\n                  ) : (\n                    <a\n                      className={styles['col-account-success-link']}\n                      onClick={() =>\n                        cozy.client.intents.redirect(\n                          'io.cozy.apps',\n                          { slug: 'banks' },\n                          url => {\n                            window.top.location.href = url\n                          }\n                        )\n                      }\n                    >\n                      {t('account.success.banksLinkText')}\n                    </a>\n                  ))}\n              </p>\n            )}\n          </DescriptionContent>\n\n          <div className={styles['coz-form-controls-success']}>\n            <div className={styles['col-account-form-success-buttons']}>\n              <Button\n                label={successButtonLabel || t('account.success.button')}\n                onClick={event => {\n                  event.preventDefault()\n                  onDone(account)\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      )\n    )\n  }\n}\n\nexport default translate()(KonnectorSuccess)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-profile_3cfe85230b9fde6b54ce0d562fe140b7\",\n  \"use\": \"icon-profile_3cfe85230b9fde6b54ce0d562fe140b7-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-profile_3cfe85230b9fde6b54ce0d562fe140b7\\\">\\n  <defs>\\n    <path id=\\\"icon-profile_3cfe85230b9fde6b54ce0d562fe140b7_a\\\" d=\\\"M46,23 C46,35.704 35.702,46 23,46 C10.296,46 0,35.704 0,23 C0,10.3 10.296,0 23,0 C35.702,0 46,10.3 46,23 L46,23 Z\\\" />\\n  </defs>\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-384 -480)\\\">\\n    <g transform=\\\"translate(385 481)\\\">\\n      <mask id=\\\"icon-profile_3cfe85230b9fde6b54ce0d562fe140b7_b\\\" fill=\\\"white\\\">\\n        <use xlink:href=\\\"#icon-profile_3cfe85230b9fde6b54ce0d562fe140b7_a\\\" />\\n      </mask>\\n      <use fill=\\\"#CEBEF7\\\" xlink:href=\\\"#icon-profile_3cfe85230b9fde6b54ce0d562fe140b7_a\\\" />\\n      <path fill=\\\"#855CEA\\\" d=\\\"M23,27 C17.4771525,27 13,22.2989899 13,16.5 C13,10.7010101 17.4771525,6 23,6 C28.5228475,6 33,10.7010101 33,16.5 C33,22.2989899 28.5228475,27 23,27 Z M23,65 C13.0588745,65 5,56.9411255 5,47 C5,37.0588745 13.0588745,29 23,29 C32.9411255,29 41,37.0588745 41,47 C41,56.9411255 32.9411255,65 23,65 Z\\\" mask=\\\"url(#icon-profile_3cfe85230b9fde6b54ce0d562fe140b7_b)\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-bill_f769ba01efafd171dd813d375fd845ce\",\n  \"use\": \"icon-bill_f769ba01efafd171dd813d375fd845ce-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-bill_f769ba01efafd171dd813d375fd845ce\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-480 -192)\\\">\\n    <g transform=\\\"translate(487 193)\\\">\\n      <path fill=\\\"#C2F0D1\\\" d=\\\"M1.9999204,46 C0.895394863,46 0,45.1017583 0,43.9938589 L0,2.0061411 C0,0.898179965 0.889673948,0 1.991155,0 L22,0 L34,12 L34,44.0000796 C34,45.1046051 33.1080589,46 32.0000796,46 L1.9999204,46 Z\\\" />\\n      <path fill=\\\"#35CE68\\\" d=\\\"M22,0 L22,9.9914698 C22,11.1007504 22.9019504,12 24.0085302,12 L34,12 L22,0 Z\\\" />\\n      <polygon stroke=\\\"#35CE68\\\" stroke-width=\\\"2\\\" points=\\\"28 40 6 40 6 16 28 16\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n      <path stroke=\\\"#35CE68\\\" stroke-width=\\\"2\\\" d=\\\"M6 21L28 21M6 27L28 27M6 33L28 33M13 16L13 40\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* konnector lib ready to be added to cozy-client-js */\nimport * as realtime from './realtime'\n\nexport const ERROR_TYPES = {\n  CHALLENGE_ASKED: 'CHALLENGE_ASKED',\n  LOGIN_FAILED: 'LOGIN_FAILED',\n  MAINTENANCE: 'MAINTENANCE',\n  NOT_EXISTING_DIRECTORY: 'NOT_EXISTING_DIRECTORY',\n  USER_ACTION_NEEDED: 'USER_ACTION_NEEDED',\n  VENDOR_DOWN: 'VENDOR_DOWN',\n  DISK_QUOTA_EXCEEDED: 'DISK_QUOTA_EXCEEDED'\n}\n\nexport const KONNECTORS_DOCTYPE = 'io.cozy.konnectors'\n\nexport const KONNECTOR_RESULT_STATE = {\n  ERRORED: 'errored',\n  CONNECTED: 'done'\n}\n\nexport function subscribeAll(cozy) {\n  return realtime.subscribeAll(cozy, KONNECTORS_DOCTYPE)\n}\n\nfunction patchFolderPermission(cozy, konnector, folderId = null) {\n  const slug = konnector.attributes ? konnector.attributes.slug : konnector.slug\n  const saveFolder = folderId\n    ? { type: 'io.cozy.files', values: [folderId] }\n    : {}\n\n  return cozy.fetchJSON(\n    'PATCH',\n    `/permissions/konnectors/${encodeURIComponent(slug)}`,\n    {\n      data: {\n        attributes: {\n          permissions: {\n            saveFolder: saveFolder\n          }\n        }\n      }\n    }\n  )\n}\n\nexport function addFolderPermission(cozy, konnector, folderId) {\n  return patchFolderPermission(cozy, konnector, folderId)\n}\n\nexport function isKonnectorLoginError(error) {\n  return error && error.type && error.type === ERROR_TYPES.LOGIN_FAILED\n}\n\nexport function isKonnectorUserError(error) {\n  return (\n    error &&\n    error.type &&\n    [\n      ERROR_TYPES.CHALLENGE_ASKED,\n      ERROR_TYPES.DISK_QUOTA_EXCEEDED,\n      ERROR_TYPES.LOGIN_FAILED,\n      ERROR_TYPES.NOT_EXISTING_DIRECTORY,\n      ERROR_TYPES.USER_ACTION_NEEDED\n    ].includes(error.type)\n  )\n}\n\nexport function isKonnectorKnownError(error) {\n  return error && error.type && Object.keys(ERROR_TYPES).includes(error.type)\n}\n\nexport function buildKonnectorError(message) {\n  var error = new Error(message)\n  error.type = message.split('.')[0]\n  error.code = message\n  return error\n}\n\nconst checkLocale = (t, key) => {\n  return t(key) !== key\n}\n\nexport const getMostAccurateErrorKey = (t, error, getKey = key => key) => {\n  // Legacy. Kind of.\n  if (!error.code) return error.message\n\n  const errorSegments = error.code.split('.')\n\n  let tested = errorSegments\n  let fullKey = getKey(tested.join('.'))\n\n  while (tested.length && !checkLocale(t, fullKey)) {\n    tested = tested.slice(0, tested.length - 1)\n    fullKey = getKey(tested.join('.'))\n  }\n\n  return tested.length ? fullKey : getKey('UNKNOWN_ERROR')\n}\n\nconst legacyMessages = {\n  terms: 'connector'\n}\n\nexport const getErrorTitle = (t, error, getLocaleFn) =>\n  t(getMostAccurateErrorKey(t, error, getLocaleFn))\n\nexport const getKonnectorMessage = (t, konnector, message) => {\n  const { messages, hasDescriptions } = konnector\n\n  const providesMessage =\n    messages && messages.length && messages.includes(message)\n  if (providesMessage) return t(`${konnector.slug}.messages.${message}`)\n\n  const providesLegacyMessage =\n    hasDescriptions && hasDescriptions[legacyMessages[message] || message]\n  if (providesLegacyMessage)\n    return t(\n      `connector.${konnector.slug}.description.${legacyMessages[message] ||\n        message}`\n    )\n\n  return null\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"maintenance-intro\":\"maintenance-intro--1-SbJ\",\"maintenance-service\":\"maintenance-service--1ZZfz\",\"maintenance-icon\":\"maintenance-icon--2QHy-\"};","/* global prompt */\n\nconst hasCordovaPlugin = () => {\n  return (\n    window.cordova !== undefined && window.cordova.InAppBrowser !== undefined\n  )\n}\n\nconst REGISTRATION_ABORT = 'REGISTRATION_ABORT'\n\nexport const authenticateWithCordova = url => {\n  if (hasCordovaPlugin()) {\n    return new Promise((resolve, reject) => {\n      const target = '_blank'\n      const options = 'clearcache=yes,zoom=no'\n      const inAppBrowser = window.cordova.InAppBrowser.open(\n        url,\n        target,\n        options\n      )\n\n      const removeListener = () => {\n        inAppBrowser.removeEventListener('loadstart', onLoadStart)\n        inAppBrowser.removeEventListener('exit', onExit)\n      }\n\n      const onLoadStart = ({ url }) => {\n        const accessCode = /\\?access_code=(.+)$/.test(url)\n        const state = /\\?state=(.+)$/.test(url)\n\n        if (accessCode || state) {\n          resolve(url)\n          removeListener()\n          inAppBrowser.close()\n        }\n      }\n\n      const onExit = () => {\n        reject(new Error(REGISTRATION_ABORT))\n        removeListener()\n        inAppBrowser.close()\n      }\n\n      inAppBrowser.addEventListener('loadstart', onLoadStart)\n      inAppBrowser.addEventListener('exit', onExit)\n    })\n  } else {\n    /**\n     * for dev purpose:\n     * In oauth workflow, the server displays an authorization page\n     * User must accept to give permission then the server gives an url\n     * with query parameters used by cozy-client-js to initialize itself.\n     *\n     * This hack let developers open the authorization page in a new tab\n     * then get the \"access_code\" url and paste it in the prompt to let the\n     * application initialize and redirect to other pages.\n     */\n    return new Promise(resolve => {\n      setTimeout(() => {\n        const token = prompt('Paste the url here:')\n        resolve(token)\n      }, 10000)\n    })\n  }\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-warning_f2af5ebbc762edfffe8cbe4a3b6c914a\",\n  \"use\": \"icon-warning_f2af5ebbc762edfffe8cbe4a3b6c914a-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-warning_f2af5ebbc762edfffe8cbe4a3b6c914a\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-288 -128)\\\">\\n    <path fill=\\\"#FFFFFF\\\" d=\\\"M295.021699,129.735659 C295.564898,128.777255 296.450192,128.78566 296.988422,129.735659 L303.52045,141.26497 C304.063442,142.223374 303.613566,143.000315 302.503518,143.000315 L289.50373,143.000315 C288.399102,143.000315 287.948739,142.214969 288.487174,141.26497 L295.021699,129.735659 Z M295.003624,141.000315 C295.003624,141.55645 295.45134,142.000315 296.003624,142.000315 C296.559759,142.000315 297.003624,141.552599 297.003624,141.000315 C297.003624,140.444179 296.555909,140.000315 296.003624,140.000315 C295.447489,140.000315 295.003624,140.44803 295.003624,141.000315 Z M295.003624,133.003244 L295.003624,137.997385 C295.003624,138.562433 295.45134,139.000315 296.003624,139.000315 C296.559759,139.000315 297.003624,138.551288 297.003624,137.997385 L297.003624,133.003244 C297.003624,132.438196 296.555909,132.000315 296.003624,132.000315 C295.447489,132.000315 295.003624,132.449341 295.003624,133.003244 Z\\\" style=\\\"fill:#F42D2C;fill-rule:evenodd\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class CozyProvider extends Component {\n  static propTypes = {\n    store: PropTypes.shape({\n      subscribe: PropTypes.func.isRequired,\n      dispatch: PropTypes.func.isRequired,\n      getState: PropTypes.func.isRequired\n    }),\n    client: PropTypes.object.isRequired,\n    children: PropTypes.element.isRequired\n  }\n\n  static childContextTypes = {\n    store: PropTypes.object,\n    client: PropTypes.object.isRequired\n  }\n\n  static contextTypes = {\n    store: PropTypes.object\n  }\n\n  getChildContext() {\n    return {\n      store: this.props.store || this.context.store,\n      client: this.props.client\n    }\n  }\n\n  render() {\n    return (this.props.children && this.props.children[0]) || null\n  }\n}\n","/* global WebSocket */\n\n// Custom object wrapping logic to websocket and exposing a subscription\n// interface\nlet cozySocket\n\n// Important, must match the spec,\n// see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\nconst WEBSOCKET_STATE = {\n  OPEN: 1\n}\n\nconst KEEPALIVE = {\n  INTERVAL: 30000,\n  METHOD_NAME: 'ping'\n}\n\nconst NUM_RETRIES = 3\nconst RETRY_BASE_DELAY = 1000\n\n// Send a subscribe message for the given doctype trough the given websocket, but\n// only if it is in a ready state. If not, retry a few milliseconds later.\nfunction subscribeWhenReady(doctype, socket) {\n  if (socket.readyState === WEBSOCKET_STATE.OPEN) {\n    try {\n      socket.send(\n        JSON.stringify({\n          method: 'SUBSCRIBE',\n          payload: {\n            type: doctype\n          }\n        })\n      )\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.warn(`Cannot subscribe to doctype ${doctype}: ${error.message}`)\n      throw error\n    }\n  } else {\n    setTimeout(() => {\n      subscribeWhenReady(doctype, socket)\n    }, 10)\n  }\n}\n\nfunction getWebsocketProtocol() {\n  return window.location.protocol === 'http:' ? 'ws' : 'wss'\n}\n\nfunction keepAlive(socket, interval, message) {\n  const keepAliveInterval = setInterval(() => {\n    if (socket.readyState === WEBSOCKET_STATE.OPEN) {\n      socket.send(message)\n    } else {\n      clearInterval(keepAliveInterval)\n    }\n  }, interval)\n\n  return socket\n}\n\nasync function connectWebSocket(\n  cozy,\n  onmessage,\n  onclose,\n  numRetries,\n  retryDelay\n) {\n  return new Promise((resolve, reject) => {\n    const protocol = getWebsocketProtocol()\n    const socket = new WebSocket(\n      `${protocol}:${cozy._url}/realtime/`,\n      'io.cozy.websocket'\n    )\n\n    socket.onopen = () => {\n      try {\n        socket.send(\n          JSON.stringify({\n            method: 'AUTH',\n            payload: cozy._token.token\n          })\n        )\n      } catch (error) {\n        return reject(error)\n      }\n\n      const windowUnloadHandler = () => socket.close()\n      window.addEventListener('beforeunload', windowUnloadHandler)\n\n      socket.onmessage = onmessage\n      socket.onclose = event => {\n        window.removeEventListener('beforeunload', windowUnloadHandler)\n        if (typeof onclose === 'function')\n          onclose(event, numRetries, retryDelay)\n      }\n      socket.onerror = error =>\n        // eslint-disable-next-line no-console\n        console.error(`WebSocket error: ${error.message}`)\n\n      resolve(\n        keepAlive(\n          socket,\n          KEEPALIVE.INTERVAL,\n          `{\"method\":\"${KEEPALIVE.METHOD_NAME}\"}`\n        )\n      )\n    }\n  })\n}\n\nfunction getCozySocket(cozy) {\n  return new Promise(async (resolve, reject) => {\n    if (cozySocket) return resolve(cozySocket)\n\n    const listeners = {}\n\n    let socket\n\n    const onSocketMessage = event => {\n      const data = JSON.parse(event.data)\n      const eventType = data.event.toLowerCase()\n      const payload = data.payload\n\n      if (eventType === 'error') {\n        const isPingError =\n          data.payload &&\n          data.payload.source &&\n          data.payload.source.method === KEEPALIVE.METHOD_NAME\n        if (isPingError) return\n\n        const realtimeError = new Error(payload.title)\n        const errorFields = ['status', 'code', 'source']\n        errorFields.forEach(property => {\n          realtimeError[property] = payload[property]\n        })\n\n        throw realtimeError\n      }\n\n      if (listeners[payload.type] && listeners[payload.type][eventType]) {\n        listeners[payload.type][eventType].forEach(listener => {\n          listener(payload.doc)\n        })\n      }\n    }\n\n    const onSocketClose = async (event, numRetries, retryDelay) => {\n      if (!event.wasClean) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `WebSocket closed unexpectedly with code ${event.code} and ${\n            event.reason ? `reason: '${event.reason}'` : 'no reason'\n          }.`\n        )\n\n        if (numRetries) {\n          // eslint-disable-next-line no-console\n          console.warn(`Reconnecting ... ${numRetries} tries left.`)\n          setTimeout(async () => {\n            try {\n              socket = await connectWebSocket(\n                cozy,\n                onSocketMessage,\n                onSocketClose,\n                --numRetries,\n                retryDelay + 1000\n              )\n            } catch (error) {\n              // eslint-disable-next-line no-console\n              console.error(\n                `Unable to reconnect to realtime. Error: ${error.message}`\n              )\n            }\n          }, retryDelay)\n        }\n      }\n    }\n\n    try {\n      socket = await connectWebSocket(\n        cozy,\n        onSocketMessage,\n        onSocketClose,\n        NUM_RETRIES,\n        RETRY_BASE_DELAY\n      )\n    } catch (error) {\n      reject(error)\n    }\n\n    cozySocket = {\n      subscribe: (doctype, event, listener) => {\n        if (typeof listener !== 'function')\n          throw new Error('Realtime event listener must be a function')\n\n        if (!listeners[doctype]) {\n          listeners[doctype] = {}\n          subscribeWhenReady(doctype, socket)\n        }\n\n        listeners[doctype][event] = (listeners[doctype][event] || []).concat([\n          listener\n        ])\n      },\n      unsubscribe: (doctype, event, listener) => {\n        if (\n          listeners[doctype] &&\n          listeners[doctype][event] &&\n          listeners[doctype][event].includes(listener)\n        ) {\n          listeners[doctype][event] = listeners[doctype][event].filter(\n            l => l !== listener\n          )\n        }\n      }\n    }\n\n    resolve(cozySocket)\n  })\n}\n\n// Returns the Promise of a subscription to a given doctype and document\nexport function subscribe(cozy, doctype, doc, parse = doc => doc) {\n  return subscribeAll(cozy, doctype, parse).then(subscription => {\n    // We will call the listener only for the given document, so let's curry it\n    const docListenerCurried = listener => {\n      return syncedDoc => {\n        if (syncedDoc._id === doc._id) {\n          listener(syncedDoc)\n        }\n      }\n    }\n\n    return {\n      onCreate: listener => subscription.onCreate(docListenerCurried(listener)),\n      onUpdate: listener => subscription.onUpdate(docListenerCurried(listener)),\n      onDelete: listener => subscription.onDelete(docListenerCurried(listener)),\n      unsubscribe: () => subscription.unsubscribe()\n    }\n  })\n}\n\n// Returns the Promise of a subscription to a given doctype (all documents)\nexport function subscribeAll(cozy, doctype, parse = doc => doc) {\n  return getCozySocket(cozy).then(cozySocket => {\n    // Some document need to have specific parsing, for example, decoding\n    // base64 encoded properties\n    const parseCurried = listener => {\n      return doc => {\n        listener(parse(doc))\n      }\n    }\n\n    let createListener, updateListener, deleteListener\n\n    const subscription = {\n      onCreate: listener => {\n        createListener = parseCurried(listener)\n        cozySocket.subscribe(doctype, 'created', createListener)\n        return subscription\n      },\n      onUpdate: listener => {\n        updateListener = parseCurried(listener)\n        cozySocket.subscribe(doctype, 'updated', updateListener)\n        return subscription\n      },\n      onDelete: listener => {\n        deleteListener = parseCurried(listener)\n        cozySocket.subscribe(doctype, 'deleted', deleteListener)\n        return subscription\n      },\n      unsubscribe: () => {\n        cozySocket.unsubscribe(doctype, 'created', createListener)\n        cozySocket.unsubscribe(doctype, 'updated', updateListener)\n        cozySocket.unsubscribe(doctype, 'deleted', deleteListener)\n      }\n    }\n\n    return subscription\n  })\n}\n","import React from 'react'\nimport classNames from 'classnames'\nimport ReactMarkdownWrapper from '../components/ReactMarkdownWrapper'\nimport styles from '../styles/descriptionContent'\n\nexport const DescriptionContent = ({\n  cssClassesObject,\n  title,\n  messages,\n  children,\n  hasError,\n  centerTitle\n}) => {\n  return (\n    <div className={classNames(cssClassesObject)}>\n      {title && (\n        <h4\n          className={\n            centerTitle\n              ? styles['col-account-description-title-centered']\n              : styles['col-account-description-title']\n          }\n        >\n          {title}\n        </h4>\n      )}\n      {messages &&\n        messages.length > 0 &&\n        messages.map(m => {\n          return m ? (\n            <p\n              className={classNames(\n                styles['col-account-description-message'],\n                hasError && 'errors'\n              )}\n            >\n              <ReactMarkdownWrapper source={m} />\n            </p>\n          ) : null\n        })}\n      {children}\n    </div>\n  )\n}\n\nexport default DescriptionContent\n","import React, { Component } from 'react'\n\n/**\n * Higher Order Component that wraps functional components into stateful components.\n * Defining a stateful component becomes a matter of setting its initial state\n * and writing a handful of reducers on that state. The state and the reducers will\n * be passed as props to the wrapped functional component.\n * Example:\n * const ToggleButton = statefulComponent(initialState = {\n *   on: false\n * }, eventHandlers = setState => ({\n *   toggle: () => {\n *     setState(state => ({ on: !state.on })\n *   }\n * }))(\n *   ({ on, toggle }) => (\n *     <button className={on ? 'on' : 'off'} onClick={toggle}>Go!</button>\n *   )\n * )\n */\nconst statefulComponent = (initialState, eventHandlers) => {\n  return WrappedComponent => {\n    return class StatefulComponent extends Component {\n      constructor(props) {\n        super(props)\n        this.handlers = eventHandlers(this.setState.bind(this))\n      }\n\n      componentDidMount() {\n        this.setState(initialState)\n      }\n\n      render() {\n        return (\n          <WrappedComponent\n            {...this.props}\n            {...this.state}\n            {...this.handlers}\n          />\n        )\n      }\n    }\n  }\n}\n\nexport default statefulComponent\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-call-log_9447ffc2faa9d2c378e7b9c4314fae4d\",\n  \"use\": \"icon-call-log_9447ffc2faa9d2c378e7b9c4314fae4d-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-call-log_9447ffc2faa9d2c378e7b9c4314fae4d\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-96 -480)\\\">\\n    <g transform=\\\"translate(99 480)\\\">\\n      <path fill=\\\"#A9CBF9\\\" d=\\\"M5.9994,1.9998 C4.3454,1.9998 2.9994,3.3458 2.9994,4.9998 C2.9994,6.6538 4.3454,7.9998 5.9994,7.9998 L38.9919388,7.9998 C40.0990545,7.9998 40.9994,8.89401792 40.9994,9.99709162 L40.9994,46.0025084 C40.9994,47.1082602 40.100629,47.9998 38.9919388,47.9998 L5.9994,47.9998 C3.2434,47.9998 0.9994,45.7558 0.9994,42.9998 L0.9994,5.9998 C0.9994,5.8918 1.0174,5.7918 1.0474,5.6938 C1.0174,5.4658 0.9994,5.2358 0.9994,4.9998 C0.9994,2.2438 3.2434,-0.0002 5.9994,-0.0002 L39.9994,-0.0002 C40.5534,-0.0002 40.9994,0.4478 40.9994,0.9998 C40.9994,1.5518 40.5534,1.9998 39.9994,1.9998 L5.9994,1.9998 Z M6,4 L38,4 C38.552,4 39,4.448 39,5 C39,5.552 38.552,6 38,6 L6,6 C5.448,6 5,5.552 5,5 C5,4.448 5.448,4 6,4 Z\\\" />\\n      <path fill=\\\"#297EF1\\\" d=\\\"M18.8184,22.3204 C19.8044,21.3364 19.8064,19.7364 18.8204,18.7544 L16.1444,16.0764 C15.1584,15.0924 13.5584,15.0924 12.5744,16.0764 L11.1044,17.5444 C9.8344,18.8184 9.6364,20.8044 10.6304,22.3064 C14.8924,28.7544 20.5824,34.4444 27.0304,38.7044 C28.5284,39.6964 30.5224,39.5004 31.7924,38.2304 L33.2604,36.7624 C34.2464,35.7764 34.2464,34.1784 33.2604,33.1944 L30.5844,30.5184 C29.5984,29.5304 28.0004,29.5304 27.0164,30.5184 L26.1244,31.4084 C23.1884,29.0044 20.3344,26.1464 17.9264,23.2124 L18.8184,22.3204 L18.8184,22.3204 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-tweet_17cf2950918dcf0dddbe5959787bd467\",\n  \"use\": \"icon-tweet_17cf2950918dcf0dddbe5959787bd467-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-tweet_17cf2950918dcf0dddbe5959787bd467\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-480 -384)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(481 385)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <g stroke=\\\"currentColor\\\" transform=\\\"translate(23)\\\">\\n        <path d=\\\"M11.75 18.1574626C10.3628261 18.1574626 9.03532609 17.9542724 7.80858696 17.5836922L3.29978261 18.6248 3.875 15.561466C1.79228261 13.9146578.5 11.6176411.5 9.07873128.5 4.06477141 5.53608696 0 11.75 0 17.963913 0 23 4.06477141 23 9.07873128 23 14.0917236 17.963913 18.1574626 11.75 18.1574626zM7.5 6.5L14 6.5M7.5 9.5L17 9.5M7.5 12.5L17 12.5\\\" />\\n      </g>\\n      <path stroke=\\\"#95999D\\\" d=\\\"M31.8237975,3.05417722 C30.6349781,3.58054227 29.3741052,3.92610472 28.083038,4.07939241 C29.4258228,3.27250633 30.4587342,1.99736709 30.9448101,0.475746835 C29.6663846,1.23437814 28.2676704,1.76886229 26.8091139,2.05610127 C25.5781289,0.741495039 23.8566692,-0.00312612515 22.0556962,-2.1226339e-14 C18.4603544,-2.19458749e-14 15.5422785,2.91524051 15.5422785,6.51139241 C15.5422785,7.02237975 15.5997975,7.52040506 15.7124051,7.99594937 C10.2987342,7.72394937 5.50075949,5.13255696 2.28779747,1.19210127 C1.72678481,2.15270886 1.40678481,3.27250633 1.40678481,4.46622785 C1.40678481,6.7244557 2.5561519,8.71797468 4.30339241,9.88597468 C3.26891365,9.85426874 2.25712486,9.57492946 1.35291139,9.07139241 L1.35291139,9.15443038 C1.35291139,12.3086582 3.59817722,14.9407595 6.57620253,15.5402532 C5.61708574,15.7999476 4.61145712,15.8380396 3.63544304,15.6516456 C4.46460759,18.2391899 6.87068354,20.121519 9.71949367,20.1762025 C7.49083544,21.92 4.68293671,22.963038 1.63078481,22.963038 C1.11179513,22.9624441 0.593268776,22.9320142 0.0777721519,22.8718987 C2.95979747,24.7189873 6.384,25.798481 10.0617722,25.798481 C22.041519,25.798481 28.5913924,15.8736203 28.5913924,7.26683544 C28.5913924,6.98531646 28.5913924,6.70379747 28.5711392,6.4243038 C29.8456332,5.50220374 30.9462626,4.36111501 31.8217722,3.05417722 L31.8237975,3.05417722 Z\\\" transform=\\\"translate(0 20)\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-connection-data\":\"col-account-connection-data--1mMdI\",\"col-account-connection-data-access\":\"col-account-connection-data-access--3ORS6\"};","import { combineReducers } from 'redux'\nimport { removeObjectProperty, mapValues } from './utils'\nimport sharings, {\n  FETCH_SHARINGS,\n  getSharings,\n  getSharingDetails\n} from './slices/sharings'\nimport synchronization from './slices/synchronization'\n\nconst APPS_DOCTYPE = 'io.cozy.apps'\nconst FETCH_DOCUMENT = 'FETCH_DOCUMENT'\nconst FETCH_COLLECTION = 'FETCH_COLLECTION'\nconst LAUNCH_TRIGGER = 'LAUNCH_TRIGGER'\nconst RECEIVE_DATA = 'RECEIVE_DATA'\nconst RECEIVE_ERROR = 'RECEIVE_ERROR'\nexport const CREATE_DOCUMENT = 'CREATE_DOCUMENT'\nconst UPDATE_DOCUMENT = 'UPDATE_DOCUMENT'\nconst DELETE_DOCUMENT = 'DELETE_DOCUMENT'\nconst RECEIVE_APP = 'RECEIVE_APP'\nconst RECEIVE_NEW_DOCUMENT = 'RECEIVE_NEW_DOCUMENT'\nconst RECEIVE_UPDATED_DOCUMENT = 'RECEIVE_UPDATED_DOCUMENT'\nconst RECEIVE_DELETED_DOCUMENT = 'RECEIVE_DELETED_DOCUMENT'\nconst FETCH_REFERENCED_FILES = 'FETCH_REFERENCED_FILES'\nconst ADD_REFERENCED_FILES = 'ADD_REFERENCED_FILES'\nconst REMOVE_REFERENCED_FILES = 'REMOVE_REFERENCED_FILES'\n\nconst documents = (state = {}, action) => {\n  switch (action.type) {\n    case RECEIVE_APP: {\n      const apps = action.response && action.response.data\n      if (apps.length === 0) return state\n      return {\n        ...state,\n        [APPS_DOCTYPE]: {\n          ...state[APPS_DOCTYPE],\n          ...objectifyDocumentsArray(apps)\n        }\n      }\n    }\n    case RECEIVE_DATA: {\n      const { data } = action.response\n      if (data.length === 0) return state\n      const dataDoctype = getArrayDoctype(data)\n      return {\n        ...state,\n        [dataDoctype]: {\n          ...state[dataDoctype],\n          ...objectifyDocumentsArray(data)\n        }\n      }\n    }\n    case RECEIVE_NEW_DOCUMENT:\n    case RECEIVE_UPDATED_DOCUMENT: {\n      const doc = action.response.data[0]\n      return {\n        ...state,\n        [doc._type]: {\n          ...state[doc._type],\n          [doc.id]: doc\n        }\n      }\n    }\n    case RECEIVE_DELETED_DOCUMENT: {\n      const deleted = action.response.data[0]\n      return {\n        ...state,\n        [deleted._type]: removeObjectProperty(state[deleted._type], deleted.id)\n      }\n    }\n    case ADD_REFERENCED_FILES:\n      return {\n        ...state,\n        'io.cozy.files': {\n          ...state['io.cozy.files'],\n          ...updateFilesReferences(\n            state['io.cozy.files'],\n            action.ids,\n            action.document\n          )\n        }\n      }\n    case REMOVE_REFERENCED_FILES:\n      return {\n        ...state,\n        'io.cozy.files': {\n          ...state['io.cozy.files'],\n          ...removeFilesReferences(\n            state['io.cozy.files'],\n            action.ids,\n            action.document\n          )\n        }\n      }\n    default:\n      return state\n  }\n}\n\nconst objectifyDocumentsArray = documents =>\n  documents.reduce((obj, doc) => ({ ...obj, [doc.id]: doc }), {})\n\nconst updateFileReference = (\n  /* eslint-disable-next-line casecamelcase */\n  { relationships: { referenced_by, ...relationships }, ...file },\n  doc\n) => ({\n  ...file,\n  relationships: {\n    ...relationships,\n    /* eslint-disable-next-line casecamelcase */\n    [referenced_by.data]:\n      /* eslint-disable-next-line casecamelcase */\n      referenced_by.data === null\n        ? [{ id: doc.id, type: doc.type }]\n        : /* eslint-disable-next-line casecamelcase */\n          [...referenced_by.data, { id: doc.id, type: doc.type }]\n  }\n})\n\nconst updateFilesReferences = (files, newlyReferencedIds, doc) =>\n  newlyReferencedIds.reduce(\n    (updated, id) => ({\n      ...updated,\n      [id]: updateFileReference(files[id], doc)\n    }),\n    {}\n  )\n\nconst removeFileReferences = (\n  /* eslint-disable-next-line casecamelcase */\n  { relationships: { referenced_by, ...relationships }, ...file },\n  doc\n) => ({\n  ...file,\n  relationships: {\n    ...relationships,\n    /* eslint-disable-next-line casecamelcase */\n    [referenced_by.data]: referenced_by.data.filter(\n      rel => rel.type !== doc.type && rel.id !== doc.id\n    )\n  }\n})\n\nconst removeFilesReferences = (files, removedIds, doc) =>\n  removedIds.reduce(\n    (updated, id) => ({\n      ...updated,\n      [id]: removeFileReferences(files[id], doc)\n    }),\n    {}\n  )\n\nconst getDoctype = ({ _type: doctype }) => {\n  // TODO: don't know why the stack returns 'file' here..\n  if (doctype === 'file') {\n    return 'io.cozy.files'\n  }\n  return doctype\n}\n\nconst getArrayDoctype = documents => getDoctype(documents[0])\n\n// collection reducers\nconst collectionInitialState = {\n  type: null,\n  options: {},\n  fetchStatus: 'pending',\n  lastFetch: null,\n  hasMore: false,\n  count: 0,\n  ids: []\n}\n\nconst collection = (state = collectionInitialState, action) => {\n  switch (action.type) {\n    case FETCH_COLLECTION:\n    case FETCH_REFERENCED_FILES:\n      return {\n        ...state,\n        type: action.doctype || 'io.cozy.files',\n        options: action.options,\n        fetchStatus: action.skip > 0 ? 'loadingMore' : 'loading'\n      }\n    case RECEIVE_APP:\n    case RECEIVE_DATA: {\n      const response = action.response\n      return {\n        ...state,\n        fetchStatus: 'loaded',\n        lastFetch: Date.now(),\n        hasMore: response.next !== undefined ? response.next : state.hasMore,\n        count:\n          response.meta && response.meta.count\n            ? response.meta.count\n            : response.data.length,\n        ids: !action.skip\n          ? response.data.map(doc => doc.id)\n          : [...state.ids, ...response.data.map(doc => doc.id)]\n      }\n    }\n    case ADD_REFERENCED_FILES:\n      return {\n        ...state,\n        type: 'io.cozy.files',\n        count: state.count + action.ids.length,\n        ids: [...state.ids, ...action.ids]\n      }\n    case REMOVE_REFERENCED_FILES:\n      return {\n        ...state,\n        count: state.count - action.ids.length,\n        ids: state.ids.filter(id => action.ids.indexOf(id) === -1)\n      }\n    case RECEIVE_ERROR:\n      return {\n        ...state,\n        fetchStatus: 'failed'\n      }\n    case RECEIVE_NEW_DOCUMENT:\n      return {\n        ...state,\n        ids: [...state.ids, action.response.data[0].id]\n      }\n    case RECEIVE_DELETED_DOCUMENT:\n      return {\n        ...state,\n        ids: state.ids.filter(id => id !== action.response.data[0].id)\n      }\n    default:\n      return state\n  }\n}\n\nconst collections = (state = {}, action) => {\n  const applyUpdate = (collections, updateAction) =>\n    updateAction.updateCollections.reduce(\n      (updated, name) => ({\n        ...updated,\n        [name]: collection(collections[name], action)\n      }),\n      {}\n    )\n\n  switch (action.type) {\n    case FETCH_COLLECTION:\n    case FETCH_REFERENCED_FILES:\n    case ADD_REFERENCED_FILES:\n    case REMOVE_REFERENCED_FILES:\n    case RECEIVE_APP:\n    case RECEIVE_DATA:\n    case RECEIVE_ERROR:\n      if (!action.collection) {\n        return state\n      }\n      return {\n        ...state,\n        [action.collection]: collection(state[action.collection], action)\n      }\n    case RECEIVE_NEW_DOCUMENT:\n    case RECEIVE_DELETED_DOCUMENT:\n      if (!action.updateCollections) {\n        return state\n      }\n      return {\n        ...state,\n        ...applyUpdate(state, action)\n      }\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  collections,\n  documents,\n  sharings,\n  synchronization\n})\n\nexport const fetchApps = (name, options = {}, skip = 0) => ({\n  types: [FETCH_COLLECTION, RECEIVE_APP, RECEIVE_ERROR],\n  collection: name,\n  doctype: 'io.cozy.apps',\n  options,\n  skip,\n  promise: client => client.fetchApps(name, options, skip)\n})\n\nexport const fetchCollection = (name, doctype, options = {}, skip = 0) => ({\n  types: [FETCH_COLLECTION, RECEIVE_DATA, RECEIVE_ERROR],\n  collection: name,\n  doctype,\n  options,\n  skip,\n  promise: client => client.fetchCollection(name, doctype, options, skip)\n})\n\nexport const fetchDocument = (doctype, id, options = {}) => ({\n  types: [FETCH_DOCUMENT, RECEIVE_DATA, RECEIVE_ERROR],\n  doctype,\n  id,\n  options,\n  promise: client => client.fetchDocument(doctype, id)\n})\n\nexport const fetchReferencedFiles = (doc, skip = 0) => ({\n  types: [FETCH_REFERENCED_FILES, RECEIVE_DATA, RECEIVE_ERROR],\n  collection: `${doc._type}/${doc.id}#files`,\n  document: doc,\n  options: {},\n  skip,\n  promise: client => client.fetchReferencedFiles(doc, skip)\n})\n\nexport const fetchTriggers = (name, worker, options = {}, skip = 0) => ({\n  types: [FETCH_COLLECTION, RECEIVE_DATA, RECEIVE_ERROR],\n  collection: name,\n  doctype: 'io.cozy.triggers',\n  options,\n  skip,\n  promise: client => client.fetchTriggers(name, worker, options, skip)\n})\n\nexport const fetchKonnectors = (name, options = {}, skip = 0) => ({\n  types: [FETCH_COLLECTION, RECEIVE_DATA, RECEIVE_ERROR],\n  collection: name,\n  doctype: 'io.cozy.konnectors',\n  options,\n  skip,\n  promise: client => client.fetchKonnectors(name, options, skip)\n})\n\nexport const createDocument = (doctype, doc, actionOptions = {}) => ({\n  types: [CREATE_DOCUMENT, RECEIVE_NEW_DOCUMENT, RECEIVE_ERROR],\n  doctype,\n  document: doc,\n  promise: client => client.createDocument(doctype, doc),\n  ...actionOptions\n})\n\nexport const createTrigger = (doc, actionOptions = {}) => ({\n  types: [CREATE_DOCUMENT, RECEIVE_NEW_DOCUMENT, RECEIVE_ERROR],\n  document: doc,\n  promise: client => client.createTrigger(doc),\n  ...actionOptions\n})\n\nexport const launchTrigger = (trigger, actionOptions = {}) => ({\n  types: [LAUNCH_TRIGGER, RECEIVE_NEW_DOCUMENT, RECEIVE_ERROR],\n  trigger: trigger,\n  promise: client => client.launchTrigger(trigger),\n  ...actionOptions\n})\n\nexport const updateDocument = (doc, actionOptions = {}) => ({\n  types: [UPDATE_DOCUMENT, RECEIVE_UPDATED_DOCUMENT, RECEIVE_ERROR],\n  document: doc,\n  promise: client => client.updateDocument(doc),\n  ...actionOptions\n})\n\nexport const deleteDocument = (doc, actionOptions = {}) => ({\n  types: [DELETE_DOCUMENT, RECEIVE_DELETED_DOCUMENT, RECEIVE_ERROR],\n  document: doc,\n  promise: client => client.deleteDocument(doc),\n  ...actionOptions\n})\n\nexport const deleteTrigger = (doc, actionOptions = {}) => ({\n  types: [DELETE_DOCUMENT, RECEIVE_DELETED_DOCUMENT, RECEIVE_ERROR],\n  document: doc,\n  promise: client => client.deleteTrigger(doc),\n  ...actionOptions\n})\n\nexport const createFile = (file, dirID, actionOptions = {}) => ({\n  types: [CREATE_DOCUMENT, RECEIVE_NEW_DOCUMENT, RECEIVE_ERROR],\n  doctype: 'io.cozy.files',\n  promise: client => client.createFile(file, dirID),\n  ...actionOptions\n})\n\nexport const trashFile = (file, actionOptions = {}) => ({\n  types: [DELETE_DOCUMENT, RECEIVE_DELETED_DOCUMENT, RECEIVE_ERROR],\n  document: file,\n  promise: client => client.trashFile(file),\n  ...actionOptions\n})\n\nexport const addReferencedFiles = (doc, ids) => ({\n  type: ADD_REFERENCED_FILES,\n  collection: `${doc._type}/${doc._id}#files`,\n  document: doc,\n  ids,\n  promise: client => client.addReferencedFiles(doc, ids)\n})\n\nexport const removeReferencedFiles = (doc, ids) => ({\n  type: REMOVE_REFERENCED_FILES,\n  collection: `${doc._type}/${doc._id}#files`,\n  document: doc,\n  ids,\n  promise: client => client.removeReferencedFiles(doc, ids)\n})\n\nexport const makeActionCreator = promise => ({ promise })\n\nexport const makeFetchMoreAction = (\n  { types, collection, document, doctype, options },\n  skip\n) =>\n  types[0] === FETCH_REFERENCED_FILES\n    ? fetchReferencedFiles(document, skip)\n    : fetchCollection(collection, doctype, options, skip)\n\nexport const applySelectorForAction = (state, action) => {\n  switch (action.types[0]) {\n    case FETCH_COLLECTION:\n    case FETCH_REFERENCED_FILES:\n      return getCollection(state, action.collection)\n    case FETCH_DOCUMENT:\n      return getDocument(state, action.doctype, action.id)\n    case FETCH_SHARINGS:\n      return action.id\n        ? getSharingDetails(state, action.doctype, action.id, action.options)\n        : getSharings(state, action.doctype, action.options)\n    default:\n      return null\n  }\n}\n\nexport const enhancePropsForActions = (props, fetchActions, dispatch) =>\n  mapValues(fetchActions, (action, propName) => {\n    const dataObject = props[propName]\n    switch (action.types[0]) {\n      case FETCH_COLLECTION:\n      case FETCH_REFERENCED_FILES:\n        return {\n          ...dataObject,\n          fetchMore: dataObject.hasMore\n            ? () =>\n                dispatch(makeFetchMoreAction(action, dataObject.data.length))\n            : null\n        }\n      default:\n        return dataObject\n    }\n  })\n\n// selectors\nconst mapDocumentsToIds = (documents, doctype, ids) =>\n  ids.map(id => documents[doctype][id])\n\nexport const getCollection = (state, name) => {\n  const collection = state.cozy.collections[name]\n  if (!collection) {\n    return { ...collectionInitialState, data: null }\n  }\n  return {\n    ...collection,\n    data: mapDocumentsToIds(\n      state.cozy.documents,\n      collection.type,\n      collection.ids\n    )\n  }\n}\n\nexport const getDocument = (state, doctype, id) => {\n  const documents = state.cozy.documents[doctype]\n  if (!documents) {\n    return null\n  }\n  return documents[id]\n}\n\nexport const isCollectionFetched = (state, name) =>\n  state.cozy.collections[name] &&\n  state.cozy.collections[name].fetchStatus === 'loaded'\n","/* global cozy */\n\nconst slugify = text =>\n  text\n    .toString()\n    .toLowerCase()\n    .replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/[^\\w-]+/g, '') // Remove all non-word chars\n    .replace(/--+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, '') // Trim - from end of text\n\nconst forceFileDownload = (href, filename) => {\n  const element = document.createElement('a')\n  element.setAttribute('href', href)\n  element.setAttribute('download', filename)\n  element.style.display = 'none'\n  document.body.appendChild(element)\n  element.click()\n  document.body.removeChild(element)\n}\n\n// async helpers: they interact with the stack but not with the store\nexport const downloadArchive = async (notSecureFilename, fileIds) => {\n  const filename = slugify(notSecureFilename)\n  const href = await cozy.client.files.getArchiveLinkByIds(fileIds, filename)\n  const fullpath = await cozy.client.fullpath(href)\n  forceFileDownload(fullpath, filename + '.zip')\n}\n\nexport const downloadFile = async file => {\n  const response = await cozy.client.files.downloadById(file.id)\n  const blob = await response.blob()\n  forceFileDownload(window.URL.createObjectURL(blob), file.name)\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-appointment_00495cfd54bc4245c62b7f251e522605\",\n  \"use\": \"icon-appointment_00495cfd54bc4245c62b7f251e522605-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-appointment_00495cfd54bc4245c62b7f251e522605\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-480 -288)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(481 289)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <g stroke=\\\"#95999D\\\">\\n        <polyline points=\\\"8 4 0 4 0 46 46 46 46 4 38 4\\\" />\\n        <polygon points=\\\"14 8 8 8 8 0 14 0\\\" />\\n        <polygon points=\\\"38 8 32 8 32 0 38 0\\\" />\\n        <path d=\\\"M14 4L32 4M0 14L46 14\\\" />\\n      </g>\\n      <g stroke=\\\"currentColor\\\" transform=\\\"translate(14 22)\\\">\\n        <polyline points=\\\"4 16 4 0 0 4\\\" />\\n        <path d=\\\"M0,16 L8,16\\\" />\\n        <polyline points=\\\"13 16 19 0 9 0 9 2\\\" />\\n        <path d=\\\"M12,8 L18,8\\\" />\\n      </g>\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import styles from '../styles/dataItem'\n\nimport React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport Icon from 'cozy-ui/react/Icon'\n\nexport const DataItem = ({ t, dataType }) => {\n  let icon\n  try {\n    icon = require(`../assets/sprites/icon-${dataType}.svg`).default\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(\n      `Unable to load the icon ../assets/sprites/icon-${dataType}.svg : ${\n        error.message\n      }`\n    )\n  }\n\n  if (!icon) {\n    try {\n      icon = require('../assets/sprites/icon-fallback.svg').default\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error('Default icon icon-fallback.svg cannot be loaded')\n    }\n  }\n\n  return (\n    <li className={styles['col-data-item']}>\n      {icon && (\n        <Icon\n          className={styles['col-data-item-icon']}\n          icon={icon}\n          width=\"32px\"\n          height=\"32px\"\n        />\n      )}\n      {t(`dataType.${dataType}`)}\n    </li>\n  )\n}\n\nexport default translate()(DataItem)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-pin-active_6505a872f96bc127f80f6db0fc5b6679\",\n  \"use\": \"icon-pin-active_6505a872f96bc127f80f6db0fc5b6679-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-pin-active_6505a872f96bc127f80f6db0fc5b6679\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-416 -224)\\\">\\n    <path fill=\\\"#297EF2\\\" d=\\\"M420,225 C420,224.447715 420.453036,224 420.99703,224 L427.00297,224 C427.553614,224 428,224.443865 428,225 L428,225 C428,225.552285 427.546814,226 427.002869,226 L427,226 L427,230 L429,232 L429,234 L425,234 L425,240 L423,240 L423,234 L419,234 L419,232 L421,230 L421,226 L421,226 C420.447715,226 420,225.556135 420,225 L420,225 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-new_fa7a143ea07f903fb33369bb54874843\",\n  \"use\": \"icon-new_fa7a143ea07f903fb33369bb54874843-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-new_fa7a143ea07f903fb33369bb54874843\\\">\\n    <defs>\\n        <path id=\\\"icon-new_fa7a143ea07f903fb33369bb54874843_a\\\" d=\\\"M2.032 9.205a.48.48 0 0 1-.48-.476C1.55 8.553 1.488 7.684.512 7.684a.479.479 0 0 1 0-.958c.17-.003 1.042-.065 1.042-1.042a.479.479 0 1 1 .958 0c.002.171.065 1.042 1.042 1.042a.479.479 0 1 1 0 .958c-.172.002-1.042.065-1.042 1.042a.479.479 0 0 1-.48.479zm12 2a.479.479 0 0 1-.48-.477c-.003-.175-.066-1.044-1.041-1.044a.479.479 0 1 1 0-.958c.17-.003 1.042-.065 1.042-1.042a.479.479 0 1 1 .957 0c.003.171.066 1.042 1.042 1.042a.479.479 0 0 1 0 .958c-.17.003-1.042.065-1.042 1.042a.48.48 0 0 1-.479.479zM7.031 6a.531.531 0 0 1-.531-.531A1.94 1.94 0 0 0 4.563 3.53a.531.531 0 0 1 0-1.062A1.94 1.94 0 0 0 6.501.53a.531.531 0 0 1 1.062 0A1.94 1.94 0 0 0 9.5 2.47a.532.532 0 0 1 0 1.062A1.94 1.94 0 0 0 7.563 5.47.531.531 0 0 1 7.032 6zM6 3c.39.27.73.61 1 1 .27-.39.61-.73 1-1-.39-.27-.73-.61-1-1-.27.39-.61.73-1 1zm3 13a.531.531 0 0 1-.532-.53 1.94 1.94 0 0 0-1.937-1.938.531.531 0 1 1 0-1.063 1.939 1.939 0 0 0 1.937-1.937.532.532 0 1 1 1.063 0 1.94 1.94 0 0 0 1.938 1.937.531.531 0 0 1 0 1.063A1.94 1.94 0 0 0 9.53 15.47.532.532 0 0 1 9 16zm-1-3c.39.27.73.61 1 1 .27-.39.61-.73 1-1-.39-.27-.73-.61-1-1-.27.39-.61.73-1 1z\\\" />\\n    </defs>\\n    <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <mask id=\\\"icon-new_fa7a143ea07f903fb33369bb54874843_b\\\" fill=\\\"#fff\\\">\\n            <use xlink:href=\\\"#icon-new_fa7a143ea07f903fb33369bb54874843_a\\\" />\\n        </mask>\\n        <use fill=\\\"#297EF1\\\" fill-rule=\\\"nonzero\\\" xlink:href=\\\"#icon-new_fa7a143ea07f903fb33369bb54874843_a\\\" />\\n        <g mask=\\\"url(#icon-new_fa7a143ea07f903fb33369bb54874843_b)\\\">\\n            <path d=\\\"M0 0h16v16H0z\\\" />\\n        </g>\\n    </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-connection-content\":\"col-account-connection-content--Jta1z\",\"col-account-connection-fetching\":\"col-account-connection-fetching--3rtXV\",\"col-account-connection-security\":\"col-account-connection-security--1I2Yb\",\"col-account-connection-form\":\"col-account-connection-form--II9iz\",\"col-account-connection-editor\":\"col-account-connection-editor--1sA6J\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-contact_6941ce02d00b393b1b33ce3822c7497d\",\n  \"use\": \"icon-contact_6941ce02d00b393b1b33ce3822c7497d-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-contact_6941ce02d00b393b1b33ce3822c7497d\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-96 -96)\\\">\\n    <g transform=\\\"translate(96 100)\\\">\\n      <path fill=\\\"#FFD799\\\" d=\\\"M32,21.9950534 C32,23.1023548 31.1132936,24 30.0018986,24 L24,24 L24,21.5008327 C24,20.6719457 23.3342028,20 22.5,20 L22.5,20 C21.6715729,20 21,20.6785455 21,21.5008327 L21,24 L11,24 L11,21.5008327 C11,20.6719457 10.3342028,20 9.5,20 L9.5,20 C8.67157288,20 8,20.6785455 8,21.5008327 L8,24 L1.99810135,24 C0.894580447,24 -3.1977908e-13,23.1029738 -3.20884834e-13,21.9950534 L-3.40835845e-13,2.00494659 C-3.4194098e-13,0.897645164 0.889261723,2.908957e-14 2.00174332,2.90656881e-14 L29.9982567,2.84646813e-14 C31.103789,2.84409486e-14 32,0.897026226 32,2.00494659 L32,21.9950534 Z\\\" />\\n      <path fill=\\\"#FF9300\\\" d=\\\"M17,5 L23,5 L23,6 L17,6 L17,5 Z M17,8 L28,8 L28,9 L17,9 L17,8 Z M17,11 L28,11 L28,12 L17,12 L17,11 Z M17,14 L28,14 L28,15 L17,15 L17,14 Z M9,10.75 C7.34314575,10.75 6,9.23896103 6,7.375 C6,5.51103897 7.34314575,4 9,4 C10.6568542,4 12,5.51103897 12,7.375 C12,9.23896103 10.6568542,10.75 9,10.75 Z M3,14.5 C2.99999999,13.75 4.5,11.5 6,11.5 C7.5,11.5 6.75,12.25 9,12.25 C11.25,12.25 10.5,11.5 12,11.5 C13.5,11.5 15,13.75 15,14.5 C15,15.25 15,16 14.25,16 L3.75,16 C3,16 3.00000001,15.25 3,14.5 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-sleepTime_17118dbc6a6f363eed5d9922b9162b87\",\n  \"use\": \"icon-sleepTime_17118dbc6a6f363eed5d9922b9162b87-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-sleepTime_17118dbc6a6f363eed5d9922b9162b87\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-192 -384)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(193 386)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <g stroke=\\\"#95999D\\\" transform=\\\"translate(6 10)\\\">\\n        <path d=\\\"M30 26L30 17C30 11.594 26.696 6.96 22 5 22 2.238 19.758 0 17 0 14.234 0 12 2.238 12 5 7.298 6.96 4 11.594 4 17L4 26C4 28.21 2.208 30 0 30L34 30C31.79 30 30 28.21 30 26L30 26zM21 30C21 32.21 19.208 34 17 34 14.79 34 13 32.21 13 30\\\" />\\n      </g>\\n      <g stroke=\\\"currentColor\\\">\\n        <polyline points=\\\"0 10 6 10 0 16 6 16\\\" />\\n        <polyline points=\\\"18 0 22 0 18 4 22 4\\\" />\\n        <polyline points=\\\"38 4 46 4 38 12 46 12\\\" />\\n      </g>\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { Button } from 'cozy-ui/react/Button'\nimport styles from '../styles/accountLogout'\n\nexport const AccountLogout = ({ t, deleting, onDelete }) => {\n  return (\n    <div className={styles['col-account-form-delete']}>\n      <h4>{t('account.disconnect.title')}</h4>\n      <p>{t('account.disconnect.description')}</p>\n      <Button\n        className={styles['coz-btn']}\n        theme=\"danger-outline\"\n        disabled={deleting}\n        busy={deleting}\n        onClick={onDelete}\n      >\n        {t('account.form.button.disconnect')}\n      </Button>\n    </div>\n  )\n}\n\nexport default translate()(AccountLogout)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-stepsNumber_029127fcadbfc803d90c6b730e86faa7\",\n  \"use\": \"icon-stepsNumber_029127fcadbfc803d90c6b730e86faa7-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-stepsNumber_029127fcadbfc803d90c6b730e86faa7\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-96 -288)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(97 294)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <g stroke=\\\"#95999D\\\" transform=\\\"translate(0 20)\\\">\\n        <path d=\\\"M18 0L44.672 9.528C45.466 9.81 46 10.564 46 11.41L46 16 0 16 0 2C0 .896.894 0 2 0L4 0C4 1.658 7.512 3 11 3 15.418 3 18 1.658 18 0L18 0zM0 12L46 12M23.1504 1.8398L21.0004 3.9998M26.8398 3.1582L24.9998 5.0002\\\" />\\n        <path d=\\\"M34 5.7148C34 6.8208 33.104 8.0008 32 8.0008L26 8.0008C24.342 8.0008 23 9.3428 23 11.0008L23 12.0008M6 12C6 8.688 3.312 6 0 6\\\" />\\n      </g>\\n      <g stroke=\\\"currentColor\\\">\\n        <path d=\\\"M28 16L1.326 6.472C.53 6.19 0 5.436 0 4.592L0 0 46 0 46 14C46 15.106 45.104 16 44 16L42 16C42 14.344 38.484 13 35 13 30.58 13 28 14.344 28 16L28 16zM46 4L0 4M22.8476 14.1602L24.9996 12.0002M19.1562 12.8418L21.0002 10.9998\\\" />\\n        <path d=\\\"M12 10.2852C12 9.1812 12.894 7.9992 14 7.9992L20 7.9992C21.654 7.9992 23 6.6592 23 4.9992L23 3.9992M40 4C40 7.314 42.684 10 46 10\\\" />\\n      </g>\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport styles from '../styles/konnectorFolder'\n\nimport DescriptionContent from './DescriptionContent'\n\nclass KonnectorFolder extends React.Component {\n  componentDidMount = () => {\n    const { fields } = this.props\n    this.setState({\n      fields: fields,\n      isModalOpen: false,\n      folderUpdateStatus: null\n    })\n  }\n\n  componentWillReceiveProps(props) {\n    this.UNSAFE_componentWillReceiveProps(props)\n  }\n\n  UNSAFE_componentWillReceiveProps = newProps => {\n    this.setState({\n      fields: newProps.fields\n    })\n  }\n\n  openModal = event => {\n    event.preventDefault()\n    this.setState({ isModalOpen: true })\n  }\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false, folderUpdateStatus: null })\n  }\n\n  render({ t, account, driveUrl, trigger }) {\n    return (\n      <div className={styles['col-account-folder']}>\n        {account &&\n          account.auth && (\n            <DescriptionContent\n              title={t('account.folder.withoutSettings.title')}\n            >\n              {driveUrl && (\n                <a\n                  className={styles['col-account-folder-link']}\n                  href={`${driveUrl}${trigger.message.folder_to_save}`}\n                >\n                  {t('account.folder.link')}\n                </a>\n              )}\n            </DescriptionContent>\n          )}\n      </div>\n    )\n  }\n}\n\nexport default translate()(KonnectorFolder)\n","/* global cozy */\nimport * as accounts from './accounts'\nimport * as konnectors from './konnectors'\nimport * as jobs from './jobs'\nimport * as triggers from './triggers'\nimport { randomDayTime } from './daytime'\n\nimport { createKonnectorTrigger } from '../ducks/triggers'\nimport { launchTriggerAndQueue } from '../ducks/connections'\nimport { createAccount } from '../ducks/accounts'\n\nexport const CONNECTION_STATUS = {\n  ERRORED: 'errored',\n  RUNNING: 'running',\n  CONNECTED: 'connected'\n}\n\nconst normalize = (dbObject, doctype) => {\n  return {\n    ...dbObject,\n    ...dbObject.attributes,\n    id: dbObject._id,\n    _type: doctype || dbObject._type\n  }\n}\n\nexport default class CollectStore {\n  constructor(context, options = {}) {\n    this.listener = null\n    this.options = options\n\n    this.categories = require('../config/categories')\n    this.driveUrl = null\n    this.banksUrl = null\n\n    this.initializeRealtime()\n  }\n\n  async initializeRealtime() {\n    jobs\n      .subscribeAll(cozy.client)\n      .then(subscription => {\n        subscription\n          .onCreate(job => this.updateUnfinishedJob(job))\n          .onUpdate(job => this.updateUnfinishedJob(job))\n      })\n      .catch(error => {\n        // eslint-disable-next-line no-console\n        console.warn(`Cannot initialize realtime for jobs: ${error.message}`)\n      })\n\n    // Not really consistent code style but we try to use only async/await now.\n    const realtimeTriggers = await triggers.subscribeAll(cozy.client)\n    realtimeTriggers.onDelete(trigger => this.deleteTrigger(trigger))\n  }\n\n  async deleteTrigger(trigger) {\n    this.dispatch({\n      type: 'RECEIVE_DELETED_DOCUMENT',\n      response: { data: [normalize(trigger, 'io.cozy.triggers')] },\n      updateCollections: ['triggers']\n    })\n  }\n\n  updateUnfinishedJob(job) {\n    this.dispatch({\n      type: 'RECEIVE_NEW_DOCUMENT',\n      response: { data: [normalize(job, 'io.cozy.jobs')] },\n      updateCollections: ['jobs']\n    })\n  }\n\n  // Get the drive and banks application url using the list of application\n  fetchUrls() {\n    return cozy.client\n      .fetchJSON('GET', '/apps/')\n      .then(body => {\n        body.forEach(item => {\n          if (!item.attributes || !item.attributes.slug || !item.links) return\n          switch (item.attributes.slug) {\n            case 'drive':\n              this.driveUrl = `${item.links.related}#/files/`\n              break\n            case 'banks':\n              this.banksUrl = `${item.links.related}`\n              break\n            default:\n              break\n          }\n        })\n      })\n      .catch(err => {\n        // eslint-disable-next-line no-console\n        console.warn(err.message)\n        return false\n      })\n  }\n\n  // FIXME: should be handled in a cozy-drive inter-app\n  fetchFolders() {\n    return cozy.client.data\n      .findAll('io.cozy.files')\n      .then(result => {\n        // if path contains '/.', it contains an hidden folder\n        const folders = result\n          .filter(f => f.type === 'directory' && !f.path.match(/(?:\\/\\.)/))\n          .sort((a, b) => a.path > b.path)\n        return folders\n      })\n      .catch(err => {\n        // eslint-disable-next-line no-console\n        console.warn(err.message)\n        return []\n      })\n  }\n\n  createDirectoryIfNecessary(folderPath) {\n    if (folderPath) {\n      return cozy.client.files.createDirectoryByPath(folderPath)\n    } else {\n      return Promise.resolve(null)\n    }\n  }\n\n  // Account connection workflow, see\n  // https://github.com/cozy/cozy-stack/blob/master/docs/konnectors_workflow_example.md\n  connectAccount(konnector, account) {\n    // return object to store all business object implied in the connection\n    const connection = {\n      konnector: konnector\n    }\n    // detect oauth case\n    const isOAuth = !!account.oauth\n\n    // 1. Create folder, will be replaced by an intent or something else\n    return (\n      this.createDirectoryIfNecessary(!!account.auth && account.auth.folderPath)\n        .then(folder => {\n          if (!folder) return Promise.resolve()\n          connection.folder = folder\n          // 2. Reference konnector in folder\n          return konnectors\n            .addFolderPermission(\n              cozy.client,\n              connection.konnector,\n              connection.folder._id\n            )\n            .then(permission => {\n              connection.permission = permission\n              return cozy.client.data.addReferencedFiles(\n                connection.konnector,\n                connection.folder._id\n              )\n            })\n        })\n        // 3. Creates account\n        .then(() => {\n          if (isOAuth) {\n            return account\n          }\n\n          return this.dispatch(\n            createAccount({\n              auth: account.auth,\n              account_type: konnector.slug\n            })\n          ).then(result => {\n            // Return account\n            return result.data[0]\n          })\n        })\n        .then(account => {\n          connection.account = account\n        })\n        // 4. Create trigger\n        .then(() =>\n          this.dispatch(\n            createKonnectorTrigger(\n              connection.konnector,\n              connection.account,\n              connection.folder,\n              {\n                // We always pass a default day value,\n                // `createKonnectorTrigger` will\n                // then use it if it needs.\n                startDate: new Date(),\n                ...randomDayTime(\n                  konnector.timeInterval ||\n                    this.options.defaultTriggerTimeInterval\n                )\n              }\n            )\n          ).then(result => result.data[0])\n        )\n        // 5. Launch trigger for the konnector\n        .then(trigger =>\n          this.dispatch(\n            launchTriggerAndQueue(trigger, konnector.loginDelay)\n          ).then(result => result.data[0])\n        )\n        // 6. Handle job\n        .then(job => {\n          connection.job = job\n        })\n        .catch(error => {\n          connection.error = error\n        })\n        // 7. Returns connection\n        .then(() => connection)\n    )\n  }\n\n  /**\n   * runAccount Runs an account\n   * @param {object}  connector            A connector\n   * @param {object}  account              the account to run, must belong to the connector\n   * @param {Boolean} disableEnqueue Boolean to disable a success timeout in the run method. Used by example by the onboarding\n   * @returns The run result or a resulting error\n   */\n  runAccount(trigger) {\n    // TODO: mutualize this part with connectAccount\n    return this.dispatch(launchTriggerAndQueue(trigger))\n  }\n\n  /**\n   * updateAccount : updates an account in a connector in DB with new values\n   * @param {Object} account   The account to update\n   * @param {Object} values    The new values of the updated account\n   * @returns {Object} The up to date connector\n   */\n  updateAccount(account, values) {\n    // Save the previous state\n    const previousAccount = Object.assign({}, account)\n    const newAccount = Object.assign({}, account)\n    // merge values in account\n    newAccount.auth = Object.assign({}, newAccount.auth, values)\n\n    return accounts\n      .update(cozy.client, previousAccount, newAccount)\n      .catch(error => {\n        return Promise.reject(error)\n      })\n  }\n\n  updateFolderPath(account, folderId, values) {\n    // Update file\n    return cozy.client.files\n      .updateAttributesById(folderId, {\n        name: values.namePath,\n        path: `${values.folderPath}/${values.namePath}`,\n        dir_id: values.dir_id\n      })\n      .then(() => {\n        // Update Account\n        this.updateAccount(account, values)\n      })\n      .catch(error => {\n        return Promise.reject(error)\n      })\n  }\n\n  createIntentService(intent, window) {\n    return cozy.client.intents.createService(intent, window)\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-folder\":\"col-account-folder--1-upp\",\"col-account-folder-highlighted-data\":\"col-account-folder-highlighted-data--36JAR\",\"col-account-folder-fetching\":\"col-account-folder-fetching--2GaSz\",\"col-account-folder-link\":\"col-account-folder-link--2-l1d\",\"col-account-folder-save-btn\":\"col-account-folder-save-btn--OLMn_\",\"col-account-folder-modal-path-btn\":\"col-account-folder-modal-path-btn--1Ldi2\"};","import React from 'react'\n\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport ReactMarkdownWrapper from './ReactMarkdownWrapper'\n\nimport styles from '../styles/konnectorMaintenance'\n\nconst KonnectorMaintenance = ({ t, maintenance, lang, konnectorName }) => (\n  <div className={styles['maintenance']}>\n    <div className={styles['maintenance-intro']}>\n      <div className={styles['maintenance-icon']} />\n      <h3 className={styles['maintenance-service']}>\n        {t('maintenance.service')}\n      </h3>\n      <p className={styles['maintenance-problem']}>\n        {t('maintenance.problem', { konnectorName })}\n      </p>\n    </div>\n    <h4 className={styles['maintenance-title']}>{t('maintenance.title')}</h4>\n    <ReactMarkdownWrapper\n      className={styles['maintenance-message']}\n      source={maintenance.message[lang] || maintenance.message['en']}\n    />\n  </div>\n)\n\nexport default translate()(KonnectorMaintenance)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-form-delete\":\"col-account-form-delete--3lmv-\",\"coz-btn\":\"coz-btn--3hk7Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-edit-content\":\"col-account-edit-content--2Kupc\",\"item-status-icon\":\"item-status-icon--39_CH\",\"col-account-edit-tabs\":\"col-account-edit-tabs--35Xdl\",\"col-account-edit-tabpanel\":\"col-account-edit-tabpanel--38qU4\",\"col-account-edit-tab\":\"col-account-edit-tab--1mPGu\",\"col-account-connection-editor\":\"col-account-connection-editor--1wGM3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-description-title\":\"col-account-description-title--vVTHU\",\"col-account-description-title-centered\":\"col-account-description-title-centered--32S1O\",\"col-account-description-message\":\"col-account-description-message--ZyZtK\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-check_92800e75e67b9324636816d0490dfb56\",\n  \"use\": \"icon-check_92800e75e67b9324636816d0490dfb56-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"icon-check_92800e75e67b9324636816d0490dfb56\\\">\\n  <path d=\\\"M 12,24 C 18.627416,24 24,18.627417 24,12 24,5.372583 18.627416,0 12,0 5.372583,0 0,5.372583 0,12 0,18.627417 5.372583,24 12,24 Z M 6.707107,12.292893 c -0.3905245,-0.390524 -1.0236895,-0.390524 -1.4142141,0 -0.390524,0.390525 -0.390524,1.02369 0,1.414214 l 3.5,3.5 c 0.3905246,0.390524 1.0236896,0.390524 1.4142141,0 l 7.5,-7.5 c 0.390524,-0.3905245 0.390524,-1.0236895 0,-1.414214 -0.390525,-0.390524 -1.02369,-0.390524 -1.414214,0 L 9.5,15.085787 6.707107,12.292893 Z\\\" style=\\\"fill:#2bba40;fill-rule:evenodd\\\" />\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-temperature_3b58348024bbec329e9168fa00c50fd9\",\n  \"use\": \"icon-temperature_3b58348024bbec329e9168fa00c50fd9-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-temperature_3b58348024bbec329e9168fa00c50fd9\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-384 -384)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(401 385)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <path stroke=\\\"#95999D\\\" d=\\\"M10,35.527787 L10,4 C10,1.790861 8.209139,0 6,0 C3.790861,0 2,1.790861 2,4 L2,35.527787 C0.772501279,36.6264281 0,38.2230004 0,40 C0,43.3137085 2.6862915,46 6,46 C9.3137085,46 12,43.3137085 12,40 C12,38.2230004 11.2274987,36.6264281 10,35.527787 Z\\\" />\\n      <circle cx=\\\"6\\\" cy=\\\"40\\\" r=\\\"2\\\" stroke=\\\"currentColor\\\" />\\n      <path stroke=\\\"currentColor\\\" d=\\\"M6,41 L6,23\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","const root = document.querySelector('[role=application]')\nconst data = root.dataset\n\nconst domain = data.cozyDomain\n\nconst secure = window && window.location.protocol === 'https:'\n\nexport const appIconProps = {\n  domain,\n  secure\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-event_49a5ca89131acad1f54d4b01511d5f38\",\n  \"use\": \"icon-event_49a5ca89131acad1f54d4b01511d5f38-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-event_49a5ca89131acad1f54d4b01511d5f38\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-384 -192)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(385 193)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <g stroke=\\\"#95999D\\\">\\n        <polyline points=\\\"8 4 0 4 0 46 46 46 46 4 38 4\\\" />\\n        <polygon points=\\\"14 8 8 8 8 0 14 0\\\" />\\n        <polygon points=\\\"38 8 32 8 32 0 38 0\\\" />\\n        <path d=\\\"M14 4L32 4M0 14L46 14\\\" />\\n      </g>\\n      <polyline stroke=\\\"currentColor\\\" points=\\\"0 9 7 16 23 0\\\" transform=\\\"translate(12 21)\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy */\nimport DataAccessFacade from './DataAccessFacade'\nimport { authenticateWithCordova } from './authentication/mobile'\n\nconst APPS_DOCTYPE = 'io.cozy.apps'\nconst FILES_DOCTYPE = 'io.cozy.files'\nconst TRIGGERS_DOCTYPE = 'io.cozy.triggers'\nconst KONNECTORS_DOCTYPE = 'io.cozy.konnectors'\nconst SHARINGS_DOCTYPE = 'io.cozy.sharings'\n\nexport default class CozyClient {\n  constructor(config) {\n    const { cozyURL, ...options } = config\n    this.options = options\n    this.indexes = {}\n    this.specialDirectories = {}\n    this.facade = new DataAccessFacade()\n    if (cozyURL) {\n      this.facade.setup(cozyURL, options)\n    }\n  }\n\n  register(cozyUrl) {\n    this.facade.setup(cozyUrl, {\n      ...this.options,\n      oauth: {\n        ...this.options.oauth,\n        onRegistered: (client, url) => authenticateWithCordova(url)\n      }\n    })\n    return cozy.client.authorize(true)\n  }\n\n  async isRegistered(clientInfos) {\n    if (!clientInfos) return false\n    try {\n      await cozy.client.auth.getClient(clientInfos)\n      return true\n    } catch (err) {\n      // this is the error sent if we are offline\n      if (err.message === 'Failed to fetch') {\n        return true\n      } else {\n        console.warn(err) // eslint-disable-line no-console\n        return false\n      }\n    }\n  }\n\n  startSync(dispatch) {\n    return this.facade.startSync(dispatch)\n  }\n\n  startReplicationTo(dispatch) {\n    return this.facade.startReplicationTo(dispatch)\n  }\n\n  startReplicationFrom(dispatch) {\n    return this.facade.startReplicationFrom(dispatch)\n  }\n\n  getAdapter(doctype) {\n    return this.facade.getAdapter(doctype)\n  }\n\n  async fetchApps() {\n    return this.getAdapter(APPS_DOCTYPE).fetchApps()\n  }\n\n  async fetchCollection(name, doctype, options = {}, skip = 0) {\n    if (options.selector) {\n      const index = await this.getCollectionIndex(name, doctype, options)\n      return this.getAdapter(doctype).queryDocuments(doctype, index, {\n        ...options,\n        skip\n      })\n    }\n    return this.getAdapter(doctype).fetchDocuments(doctype)\n  }\n\n  fetchDocument(doctype, id) {\n    return this.getAdapter(doctype).fetchDocument(doctype, id)\n  }\n\n  fetchFile(id) {\n    return this.getAdapter(FILES_DOCTYPE).fetchFile(id)\n  }\n\n  fetchReferencedFiles(doc, skip = 0) {\n    return this.getAdapter(doc._type).fetchReferencedFiles(doc, skip)\n  }\n\n  fetchTriggers(name, worker) {\n    return this.getAdapter(TRIGGERS_DOCTYPE).fetchTriggers(worker)\n  }\n\n  fetchKonnectors() {\n    return this.getAdapter(KONNECTORS_DOCTYPE).fetchKonnectors()\n  }\n\n  addReferencedFiles(doc, ids) {\n    return this.getAdapter(doc._type).addReferencedFiles(doc, ids)\n  }\n\n  removeReferencedFiles(doc, ids) {\n    return this.getAdapter(doc._type).removeReferencedFiles(doc, ids)\n  }\n\n  createDocument(doctype, doc) {\n    return this.getAdapter(doctype).createDocument(doctype, doc)\n  }\n\n  createTrigger(doc) {\n    return this.getAdapter(doc._type).createTrigger(doc)\n  }\n\n  launchTrigger(doc) {\n    return this.getAdapter(doc._type).launchTrigger(doc)\n  }\n\n  updateDocument(doc) {\n    return this.getAdapter(doc._type).updateDocument(doc)\n  }\n\n  deleteDocument(doc) {\n    return this.getAdapter(doc._type).deleteDocument(doc)\n  }\n\n  deleteTrigger(doc) {\n    return this.getAdapter(doc._type).deleteTrigger(doc)\n  }\n\n  async fetchSharings(doctype) {\n    const permissions = await this.getAdapter(doctype).fetchSharingPermissions(\n      doctype\n    )\n    const sharingIds = [\n      ...permissions.byMe.map(p => p.attributes.source_id),\n      ...permissions.withMe.map(p => p.attributes.source_id)\n    ]\n    const sharings = await Promise.all(\n      sharingIds.map(id => this.getAdapter(SHARINGS_DOCTYPE).fetchSharing(id))\n    )\n    return { permissions, sharings }\n  }\n\n  createSharing(permissions, contactIds, sharingType, description) {\n    return this.getAdapter(SHARINGS_DOCTYPE).createSharing(\n      permissions,\n      contactIds,\n      sharingType,\n      description\n    )\n  }\n\n  revokeSharing(sharingId) {\n    return this.getAdapter(SHARINGS_DOCTYPE).revokeSharing(sharingId)\n  }\n\n  revokeSharingForClient(sharingId, clientId) {\n    return this.getAdapter(SHARINGS_DOCTYPE).revokeSharingForClient(\n      sharingId,\n      clientId\n    )\n  }\n\n  createSharingLink(permissions) {\n    return this.getAdapter(SHARINGS_DOCTYPE).createSharingLink(permissions)\n  }\n\n  revokeSharingLink(permission) {\n    return this.getAdapter(SHARINGS_DOCTYPE).revokeSharingLink(permission)\n  }\n\n  createFile(file, dirID) {\n    return this.getAdapter(FILES_DOCTYPE).createFile(file, dirID)\n  }\n\n  trashFile(file) {\n    return this.getAdapter(FILES_DOCTYPE).trashFile(file)\n  }\n\n  async ensureDirectoryExists(path) {\n    if (!this.specialDirectories[path]) {\n      const dir = await cozy.client.files.createDirectoryByPath(path)\n      this.specialDirectories[path] = dir._id\n    }\n    return this.specialDirectories[path]\n  }\n\n  async checkUniquenessOf(doctype, property, value) {\n    const index = await this.getUniqueIndex(doctype, property)\n    const existingDocs = await cozy.client.data.query(index, {\n      selector: { [property]: value },\n      fields: ['_id']\n    })\n    return existingDocs.length === 0\n  }\n\n  async getCollectionIndex(name, doctype, options) {\n    if (!this.indexes[name]) {\n      this.indexes[name] = await this.getAdapter(doctype).createIndex(\n        doctype,\n        this.getIndexFields(options)\n      )\n    }\n    return this.indexes[name]\n  }\n\n  async getUniqueIndex(doctype, property) {\n    const name = `${doctype}/${property}`\n    if (!this.indexes[name]) {\n      this.indexes[name] = await this.getAdapter(doctype).createIndex(doctype, [\n        property\n      ])\n    }\n    return this.indexes[name]\n  }\n\n  getIndexFields(options) {\n    const { selector, sort } = options\n    if (sort) {\n      // We filter possible duplicated fields\n      return [...Object.keys(selector), ...Object.keys(sort)].filter(\n        (f, i, arr) => arr.indexOf(f) === i\n      )\n    }\n    return Object.keys(selector)\n  }\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-forbidden_2da829a9d23cd402a2ca3f7b0f270587\",\n  \"use\": \"icon-forbidden_2da829a9d23cd402a2ca3f7b0f270587-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-forbidden_2da829a9d23cd402a2ca3f7b0f270587\\\">\\n    <defs>\\n        <path d=\\\"M3.13067847,4.49357124 C2.41919963,5.47985789 2,6.69097429 2,8 C2,11.3137085 4.6862915,14 8,14 C9.30902571,14 10.5201421,13.5808004 11.5064288,12.8693215 L3.13067847,4.49357124 Z M4.49357124,3.13067847 L12.8693215,11.5064288 C13.5808004,10.5201421 14,9.30902571 14,8 C14,4.6862915 11.3137085,2 8,2 C6.69097429,2 5.47985789,2.41919963 4.49357124,3.13067847 Z M8,16 C3.581722,16 0,12.418278 0,8 C0,3.581722 3.581722,0 8,0 C12.418278,0 16,3.581722 16,8 C16,12.418278 12.418278,16 8,16 Z\\\" id=\\\"icon-forbidden_2da829a9d23cd402a2ca3f7b0f270587_path-1\\\" />\\n    </defs>\\n    <g id=\\\"icon-forbidden_2da829a9d23cd402a2ca3f7b0f270587_icons/16/forbidden\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill-rule=\\\"evenodd\\\">\\n        <mask id=\\\"icon-forbidden_2da829a9d23cd402a2ca3f7b0f270587_mask-2\\\" fill=\\\"white\\\">\\n            <use xlink:href=\\\"#icon-forbidden_2da829a9d23cd402a2ca3f7b0f270587_path-1\\\" />\\n        </mask>\\n        <use id=\\\"icon-forbidden_2da829a9d23cd402a2ca3f7b0f270587_Mask\\\" fill-rule=\\\"nonzero\\\" xlink:href=\\\"#icon-forbidden_2da829a9d23cd402a2ca3f7b0f270587_path-1\\\" />\\n    </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-contract_8cdcb7474d12525fd9701dd7a4ff025e\",\n  \"use\": \"icon-contract_8cdcb7474d12525fd9701dd7a4ff025e-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-contract_8cdcb7474d12525fd9701dd7a4ff025e\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-192 -192)\\\">\\n    <g transform=\\\"translate(193 193)\\\">\\n      <path fill=\\\"#A9CBF9\\\" d=\\\"M2.00174332,42 C0.89621101,42 0,41.1033397 0,40.0025078 L0,1.99749218 C0,0.894307712 0.889673948,0 1.991155,0 L22,0 L32,10 L32,42 L2.00174332,42 Z\\\" />\\n      <path fill=\\\"#297EF2\\\" d=\\\"M22,0 L32,10 L23.999615,10 C22.8874333,10 22,9.10474188 22,8.00038502 L22,0 Z M25.9313108,45.4521969 C24.8646773,45.7569493 24.2452393,45.1456626 24.5518031,44.0726892 L26,39.004 L39.5906483,25.4115399 C40.3701163,24.6319679 41.6352535,24.6332535 42.421425,25.419425 L44.582575,27.580575 C45.3665018,28.3645018 45.3669649,29.6351197 44.5906483,30.4115399 L31,44.004 L25.9313108,45.4521969 Z M15,37 L25,37 L25,39 L15,39 L15,37 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-data-item\":\"col-data-item--dM_PJ\",\"col-data-item-icon\":\"col-data-item-icon--9VMIn\",\"spin\":\"spin--AkLmQ\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-courseMaterial_40e3040fe5ace61d68b93ace0dd2a876\",\n  \"use\": \"icon-courseMaterial_40e3040fe5ace61d68b93ace0dd2a876-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-courseMaterial_40e3040fe5ace61d68b93ace0dd2a876\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-288 -384)\\\">\\n    <g transform=\\\"translate(288 391)\\\">\\n      <path fill=\\\"#CEBEF7\\\" d=\\\"M24,34 C32.836556,34 40,29.0751322 40,23 L40,18 L8,18 C8,18 8,16.9248678 8,23 C8,29.0751322 15.163444,34 24,34 Z\\\" />\\n      <path fill=\\\"#855CEA\\\" d=\\\"M7.9998,18.6050679 L7.9998,27.087 L7.9998,27.143 C7.7878,27.197 7.5798,27.271 7.3818,27.357 C7.3618,27.367 7.3438,27.379 7.3238,27.389 C7.1538,27.467 6.9878,27.557 6.8318,27.657 C6.7858,27.687 6.7458,27.721 6.7018,27.753 C6.5778,27.841 6.4558,27.931 6.3418,28.033 C6.2898,28.079 6.2438,28.127 6.1958,28.177 C6.0998,28.271 6.0058,28.367 5.9198,28.471 C5.8698,28.533 5.8218,28.597 5.7758,28.661 C5.7038,28.759 5.6358,28.861 5.5718,28.965 C5.5278,29.041 5.4838,29.117 5.4438,29.195 C5.3898,29.299 5.3438,29.407 5.2998,29.515 C5.2658,29.599 5.2318,29.681 5.2038,29.765 C5.1638,29.887 5.1338,30.013 5.1058,30.139 C5.0878,30.215 5.0678,30.289 5.0538,30.367 C5.0218,30.573 4.9998,30.785 4.9998,30.999 C4.9998,31.827 5.2518,32.597 5.6838,33.235 C5.9718,33.661 6.3398,34.029 6.7658,34.317 C7.4038,34.749 8.1738,34.999 8.9998,34.999 C9.8278,34.999 10.5958,34.749 11.2358,34.317 C11.6598,34.029 12.0278,33.661 12.3158,33.235 C12.7478,32.597 12.9998,31.827 12.9998,30.999 C12.9998,30.841 12.9778,30.689 12.9598,30.537 C12.8018,29.147 11.9138,27.923 10.5998,27.349 L9.9998,27.087 L9.9998,19.6486203 L24.0004,26.9538 L47.4664,14.7098 C47.7944,14.5378 48.0004,14.1978 48.0004,13.8258 C48.0004,13.4538 47.7944,13.1158 47.4664,12.9418 L24.4624,0.9398 C24.1724,0.7898 23.8284,0.7898 23.5384,0.9398 L0.5344,12.9418 C0.2064,13.1158 0.0004,13.4538 0.0004,13.8258 C0.0004,14.1978 0.2064,14.5378 0.5344,14.7098 L7.9998,18.6050679 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-pin_f4df2e513e2b9e76f70ce756a2d309d9\",\n  \"use\": \"icon-pin_f4df2e513e2b9e76f70ce756a2d309d9-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-pin_f4df2e513e2b9e76f70ce756a2d309d9\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-416 -224)\\\">\\n    <path fill=\\\"#95999D\\\" d=\\\"M420,225 C420,224.447715 420.453036,224 420.99703,224 L427.00297,224 C427.553614,224 428,224.443865 428,225 L428,225 C428,225.552285 427.546814,226 427.002869,226 L427,226 L427,230 L429,232 L429,234 L425,234 L425,240 L423,240 L423,234 L419,234 L419,232 L421,230 L421,226 L421,226 C420.447715,226 420,225.556135 420,225 L420,225 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-home_ee308f7ddd8678bbe69816ee620fe1f8\",\n  \"use\": \"icon-home_ee308f7ddd8678bbe69816ee620fe1f8-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-home_ee308f7ddd8678bbe69816ee620fe1f8\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-480 -480)\\\">\\n    <g transform=\\\"translate(479 480)\\\">\\n      <path fill=\\\"#FF9126\\\" d=\\\"M7.001,21 L7.001,47.0002 L43.001,47.0002 L43.001,21 L47.2929639,25.2928225 L47.2928932,25.2928932 C47.6833785,25.6834566 48.3165434,25.6835199 48.7071068,25.2930346 C48.7071303,25.2930111 48.7071539,25.2929875 48.7071775,25.2929639 L48.7928932,25.2071068 L48.7928595,25.2070731 C49.1833707,24.816562 49.1833858,24.183423 48.7928932,23.7928932 L39.001,14 L39.001,4 L39.001,4 C39.001,3.44771525 38.5532847,3 38.001,3 L33,3 L33,3 C32.4477153,3 32,3.44771525 32,4 L32,7 L25.7071068,0.707106781 L25.7071068,0.707106781 C25.3165825,0.316582489 24.6834175,0.316582489 24.2928932,0.707106781 L1.20710678,23.7928932 L1.2068712,23.7926576 C0.816346905,24.1831819 0.816346905,24.8163469 1.2068712,25.2068712 C1.20694974,25.2069497 1.20702829,25.2070283 1.20710686,25.2071068 L1.29365763,25.2931289 L1.29389322,25.2928931 C1.68445558,25.6831953 2.31743884,25.6830898 2.70787112,25.2926576 L7.001,21 Z\\\" />\\n      <rect width=\\\"8\\\" height=\\\"14\\\" x=\\\"15\\\" y=\\\"33\\\" fill=\\\"#FFE2A1\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-bankAccounts_f769ba01efafd171dd813d375fd845ce\",\n  \"use\": \"icon-bankAccounts_f769ba01efafd171dd813d375fd845ce-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-bankAccounts_f769ba01efafd171dd813d375fd845ce\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-480 -192)\\\">\\n    <g transform=\\\"translate(487 193)\\\">\\n      <path fill=\\\"#C2F0D1\\\" d=\\\"M1.9999204,46 C0.895394863,46 0,45.1017583 0,43.9938589 L0,2.0061411 C0,0.898179965 0.889673948,0 1.991155,0 L22,0 L34,12 L34,44.0000796 C34,45.1046051 33.1080589,46 32.0000796,46 L1.9999204,46 Z\\\" />\\n      <path fill=\\\"#35CE68\\\" d=\\\"M22,0 L22,9.9914698 C22,11.1007504 22.9019504,12 24.0085302,12 L34,12 L22,0 Z\\\" />\\n      <polygon stroke=\\\"#35CE68\\\" stroke-width=\\\"2\\\" points=\\\"28 40 6 40 6 16 28 16\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n      <path stroke=\\\"#35CE68\\\" stroke-width=\\\"2\\\" d=\\\"M6 21L28 21M6 27L28 27M6 33L28 33M13 16L13 40\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import styles from '../styles/accountConnectionData'\n\nimport React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport ClassNames from 'classnames'\nimport ReactMarkdownWrapper from '../components/ReactMarkdownWrapper'\nimport DataItem from '../components/DataItem'\n\nimport { getKonnectorMessage } from '../lib/konnectors'\n\nconst AccountConnectionData = ({ t, connector }) => {\n  const hasDataTypes = !!(connector.data_types && connector.data_types.length)\n  const serviceMessage = getKonnectorMessage(t, connector, 'service')\n  return (\n    <div className={ClassNames(styles['col-account-connection-data'])}>\n      {serviceMessage && (\n        <div>\n          <h4>{t('account.config.data.service.description')}</h4>\n          <p>\n            <ReactMarkdownWrapper source={serviceMessage} />\n          </p>\n        </div>\n      )}\n      <h4>{t('account.config.data.title')}</h4>\n      {hasDataTypes && (\n        <ul className={styles['col-account-connection-data-access']}>\n          {connector.data_types.map((data, index) => (\n            <DataItem dataType={data} key={index} />\n          ))}\n        </ul>\n      )}\n      {!hasDataTypes && <p>{t('dataType.none', { name: connector.name })}</p>}\n    </div>\n  )\n}\n\nexport default translate()(AccountConnectionData)\n","import { extend as extendI18n } from 'cozy-ui/react/I18n'\n\nconst KONNECTORS_DOCTYPE = 'io.cozy.konnectors'\n\nconst extendI18nWithKonnector = lang => konnector => {\n  const { langs, locales } = konnector\n\n  const hasLangs = langs && langs.length\n  if (!hasLangs) {\n    // eslint-disable-next-line no-console\n    console.warn(`Konnector ${konnector.name} does not specify any lang`)\n    return konnector\n  }\n\n  const providesLang = hasLangs && langs.includes(lang)\n  const actualLang = providesLang ? lang : langs[0]\n\n  const localeKeys = locales && Object.keys(locales)\n  const providesLocales =\n    localeKeys && localeKeys.length && localeKeys.includes(actualLang)\n\n  if (!providesLocales) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `Konnector ${\n        konnector.name\n      } does not specify any locale for lang ${actualLang}`\n    )\n    return konnector\n  }\n\n  extendI18n({ [konnector.slug]: locales[actualLang] })\n  return konnector\n}\n\nexport const konnectorsI18nMiddleware = lang => () => next => action => {\n  const { response } = action\n  switch (action.type) {\n    case 'RECEIVE_DATA':\n    case 'RECEIVE_NEW_DOCUMENT':\n      if (response && action.doctype === KONNECTORS_DOCTYPE) {\n        const konnectors = response.data\n        konnectors &&\n          konnectors.length &&\n          konnectors.forEach(extendI18nWithKonnector(lang))\n      }\n      break\n  }\n\n  return next(action)\n}\n\nexport default konnectorsI18nMiddleware\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-document_e665c2558003a9b72fa156bcef81b180\",\n  \"use\": \"icon-document_e665c2558003a9b72fa156bcef81b180-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-document_e665c2558003a9b72fa156bcef81b180\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#B2D3FF\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#197BFF\\\" d=\\\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM6 11L20 11 20 13 6 13 6 11zM6 15L18 15 18 17 6 17 6 15zM6 19L20 19 20 21 6 21 6 19zM6 23L16 23 16 25 6 25 6 23z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-geolocation_4cfe48fdbe5a18a3609bcf948fbccde6\",\n  \"use\": \"icon-geolocation_4cfe48fdbe5a18a3609bcf948fbccde6-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-geolocation_4cfe48fdbe5a18a3609bcf948fbccde6\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-192 -480)\\\">\\n    <g transform=\\\"translate(193 481)\\\">\\n      <path fill=\\\"#FCBFBF\\\" d=\\\"M46,23 C46,35.704 35.702,46 23,46 C10.296,46 0,35.704 0,23 C0,10.3 10.296,0 23,0 C35.702,0 46,10.3 46,23 L46,23 Z\\\" />\\n      <polygon fill=\\\"#F62C2C\\\" points=\\\"20 38 20 26 8 26 33 13\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* triggers lib ready to be added to cozy-client-js */\nimport * as realtime from './realtime'\n\nconst TRIGGERS_DOCTYPE = 'io.cozy.triggers'\n\nexport function subscribeAll(cozy) {\n  return realtime.subscribeAll(cozy, TRIGGERS_DOCTYPE)\n}\n","import React, { Component } from 'react'\nimport { connect as reduxConnect } from 'react-redux'\n\nimport { applySelectorForAction, enhancePropsForActions } from '.'\nimport { mapValues, filterValues } from './utils'\n\nconst connect = (\n  mapDocumentsToProps,\n  mapActionsToProps = null\n) => WrappedComponent => {\n  class Wrapper extends Component {\n    componentDidMount() {\n      const { fetchActions } = this.props\n      const dispatch = this.context.store.dispatch\n      for (const propName in fetchActions) {\n        dispatch(fetchActions[propName])\n      }\n    }\n\n    render() {\n      const { t, f, client, store } = this.context\n      const { fetchActions } = this.props\n      const props = {\n        t,\n        f,\n        client,\n        ...this.props,\n        ...enhancePropsForActions(this.props, fetchActions, store.dispatch)\n      }\n      return <WrappedComponent {...props} />\n    }\n  }\n\n  const makeMapStateToProps = (initialState, initialOwnProps) => {\n    const initialProps = mapDocumentsToProps(initialOwnProps)\n\n    const isAction = action => action && action.types && action.promise\n    const fetchActions = filterValues(initialProps, prop => isAction(prop))\n    const otherProps = filterValues(initialProps, prop => !isAction(prop))\n\n    const mapStateToProps = state => ({\n      ...mapValues(\n        fetchActions,\n        action =>\n          isAction(action) ? applySelectorForAction(state, action) : action\n      ),\n      fetchActions,\n      ...otherProps\n    })\n    return mapStateToProps\n  }\n\n  return reduxConnect(makeMapStateToProps, mapActionsToProps)(Wrapper)\n}\n\nexport default connect\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-graduated_40e3040fe5ace61d68b93ace0dd2a876\",\n  \"use\": \"icon-graduated_40e3040fe5ace61d68b93ace0dd2a876-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-graduated_40e3040fe5ace61d68b93ace0dd2a876\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-288 -384)\\\">\\n    <g transform=\\\"translate(288 391)\\\">\\n      <path fill=\\\"#CEBEF7\\\" d=\\\"M24,34 C32.836556,34 40,29.0751322 40,23 L40,18 L8,18 C8,18 8,16.9248678 8,23 C8,29.0751322 15.163444,34 24,34 Z\\\" />\\n      <path fill=\\\"#855CEA\\\" d=\\\"M7.9998,18.6050679 L7.9998,27.087 L7.9998,27.143 C7.7878,27.197 7.5798,27.271 7.3818,27.357 C7.3618,27.367 7.3438,27.379 7.3238,27.389 C7.1538,27.467 6.9878,27.557 6.8318,27.657 C6.7858,27.687 6.7458,27.721 6.7018,27.753 C6.5778,27.841 6.4558,27.931 6.3418,28.033 C6.2898,28.079 6.2438,28.127 6.1958,28.177 C6.0998,28.271 6.0058,28.367 5.9198,28.471 C5.8698,28.533 5.8218,28.597 5.7758,28.661 C5.7038,28.759 5.6358,28.861 5.5718,28.965 C5.5278,29.041 5.4838,29.117 5.4438,29.195 C5.3898,29.299 5.3438,29.407 5.2998,29.515 C5.2658,29.599 5.2318,29.681 5.2038,29.765 C5.1638,29.887 5.1338,30.013 5.1058,30.139 C5.0878,30.215 5.0678,30.289 5.0538,30.367 C5.0218,30.573 4.9998,30.785 4.9998,30.999 C4.9998,31.827 5.2518,32.597 5.6838,33.235 C5.9718,33.661 6.3398,34.029 6.7658,34.317 C7.4038,34.749 8.1738,34.999 8.9998,34.999 C9.8278,34.999 10.5958,34.749 11.2358,34.317 C11.6598,34.029 12.0278,33.661 12.3158,33.235 C12.7478,32.597 12.9998,31.827 12.9998,30.999 C12.9998,30.841 12.9778,30.689 12.9598,30.537 C12.8018,29.147 11.9138,27.923 10.5998,27.349 L9.9998,27.087 L9.9998,19.6486203 L24.0004,26.9538 L47.4664,14.7098 C47.7944,14.5378 48.0004,14.1978 48.0004,13.8258 C48.0004,13.4538 47.7944,13.1158 47.4664,12.9418 L24.4624,0.9398 C24.1724,0.7898 23.8284,0.7898 23.5384,0.9398 L0.5344,12.9418 C0.2064,13.1158 0.0004,13.4538 0.0004,13.8258 C0.0004,14.1978 0.2064,14.5378 0.5344,14.7098 L7.9998,18.6050679 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { Component } from 'react'\nimport collectConfig from 'config/collect'\nimport moment from 'moment'\n\n// From https://stackoverflow.com/questions/10193294/how-can-i-tell-if-a-browser-supports-input-type-date\nconst hasDateInputSupport = () => {\n  let hasSupport\n  return (function() {\n    if (typeof hasSupport === 'undefined') {\n      const input = document.createElement('input')\n      input.setAttribute('type', 'date')\n      const notADateValue = 'not-a-date'\n      input.setAttribute('value', notADateValue)\n      hasSupport = input.value !== notADateValue\n    }\n    return hasSupport\n  })()\n}\n\nexport default function statefulForm(mapPropsToFormConfig) {\n  return function wrapForm(WrappedForm) {\n    class StatefulForm extends Component {\n      constructor(props, context) {\n        super(props)\n        const { t } = context\n        const config = mapPropsToFormConfig\n          ? mapPropsToFormConfig(props)\n          : props\n        this.setState({\n          fields: this.configureFields(\n            config,\n            t('account.form.placeholder.accountName'),\n            t('date.format', { _: collectConfig.defaultDateFormat })\n          ),\n          dirty: false,\n          oauth: props.onOAuth,\n          displayAdvanced: false,\n          isValid: true,\n          isValidButPasswords: true,\n          allRequiredFieldsAreFilled: false,\n          allRequiredFilledButPasswords: false,\n          values: props.values\n        })\n      }\n\n      componentWillReceiveProps(props) {\n        this.UNSAFE_componentWillReceiveProps(props)\n      }\n\n      UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.values !== this.props.values) {\n          this.assignValues(nextProps.values)\n        }\n        if (nextProps.errors !== this.props.errors) {\n          const errors = nextProps.errors\n          if (typeof errors === 'object' && Object.keys(errors).length !== 0) {\n            this.assignErrors(errors)\n          }\n        }\n      }\n\n      render() {\n        return (\n          <WrappedForm\n            {...this.props}\n            {...this.state}\n            toggleAdvanced={() => this.toggleAdvanced()}\n          />\n        )\n      }\n\n      toggleAdvanced() {\n        this.setState(prevState => {\n          return Object.assign({}, prevState, {\n            displayAdvanced: !prevState.displayAdvanced\n          })\n        })\n      }\n\n      assignValues(values) {\n        this.setState(prevState => {\n          let updated = {}\n          Object.keys(values).forEach(key => {\n            if (prevState.fields[key]) {\n              updated[key] = Object.assign({}, prevState.fields[key], {\n                value: values[key],\n                dirty: false,\n                errors: []\n              })\n            }\n          })\n          return Object.assign({}, prevState, {\n            fields: Object.assign({}, prevState.fields, updated),\n            dirty: false\n          })\n        })\n      }\n\n      assignErrors(errors) {\n        this.setState(prevState => {\n          let updated = {}\n          Object.keys(errors).forEach(key => {\n            if (prevState.fields[key]) {\n              updated[key] = Object.assign({}, prevState.fields[key], {\n                errors: errors[key]\n              })\n            }\n          })\n          return Object.assign({}, prevState, {\n            fields: Object.assign({}, prevState.fields, updated)\n          })\n        })\n      }\n\n      configureFields(config = {}, defaultAccountNamePlaceholder, dateFormat) {\n        // it will at least have an accountName field\n        const configFields = (config.konnector && config.konnector.fields) || {}\n\n        // account name field added by the application\n        const accountNamePlaceholder =\n          configFields.accountName && configFields.accountName.placeholder\n        const accountNameField = {\n          type: 'text',\n          advanced: true,\n          isRequired: false,\n          placeholder: accountNamePlaceholder || defaultAccountNamePlaceholder\n        }\n\n        const fieldsFromConfig = Object.assign({}, configFields, {\n          accountName: accountNameField\n        })\n\n        // LEGACY: turn advancedFields to fields with advanced: true\n        if (fieldsFromConfig.advancedFields) {\n          for (let fieldName in fieldsFromConfig.advancedFields) {\n            fieldsFromConfig[fieldName] = Object.assign(\n              {},\n              fieldsFromConfig.advancedFields[fieldName],\n              { advanced: true }\n            )\n          }\n          delete fieldsFromConfig.advancedFields\n        }\n\n        let fields = {}\n\n        Object.keys(fieldsFromConfig).forEach(field => {\n          let defaut = fieldsFromConfig[field].default || ''\n          let pattern = fieldsFromConfig[field].pattern || ''\n          let maxLength = fieldsFromConfig[field].max || null\n          let minLength = fieldsFromConfig[field].min || null\n          let isRequired =\n            typeof fieldsFromConfig[field].isRequired === 'undefined'\n              ? true\n              : fieldsFromConfig[field].isRequired\n          let value =\n            config.values && config.values[field]\n              ? config.values[field]\n              : defaut\n          if (\n            fieldsFromConfig[field].type === 'date' &&\n            !hasDateInputSupport()\n          ) {\n            value = value && moment(value).format(dateFormat)\n          }\n          let options = fieldsFromConfig[field].options || []\n          fields[field] = Object.assign({}, fieldsFromConfig[field], {\n            value: value,\n            dirty: false,\n            errors: [],\n            pattern,\n            max: maxLength,\n            min: minLength,\n            isRequired,\n            onInput: event =>\n              this.handleChange(\n                field,\n                event.target ? event.target : { value: event }\n              ),\n            onChange: event =>\n              this.handleChange(\n                field,\n                event.target ? event.target : { value: event }\n              ),\n            onBlur: event =>\n              this.handleBlur(\n                field,\n                event.target ? event.target : { value: event }\n              )\n          })\n          if (typeof value === 'boolean') fields[field].checked = value\n          if (fields[field].type === 'dropdown') fields[field].options = options\n        })\n        // Set default values for advanced fields that will not be shown\n        // on the initial connection form\n        if (fields.calendar && !fields.calendar.default) {\n          fields.calendar.default = config.konnector.name\n        }\n\n        return fields\n      }\n\n      handleBlur(field, target) {\n        const { t } = this.context\n        const stateFields = this.state.fields\n        const isDate = stateFields[field].type === 'date'\n        const localeFormat = t('date.format', {\n          _: collectConfig.defaultDateFormat\n        })\n        const value = stateFields[field].value\n        const pattern = stateFields[field].pattern || ''\n        const patternRx = pattern && new RegExp(pattern)\n        const maxLength = stateFields[field].max\n        const minLength = stateFields[field].min\n        const errors = []\n        if (\n          maxLength &&\n          minLength &&\n          maxLength === minLength &&\n          value &&\n          value.length !== maxLength\n        ) {\n          errors.push(t('validation.exact_length', { length: maxLength }))\n        } else if (maxLength && value.length > maxLength) {\n          errors.push(t('validation.max_length', { length: maxLength }))\n        } else if (minLength && value.length < minLength) {\n          errors.push(t('validation.min_length', { length: minLength }))\n        } else if (patternRx && !patternRx.test(value)) {\n          errors.push(t('validation.pattern', { pattern }))\n        } else if (target.validationMessage) {\n          errors.push(target.validationMessage)\n        } else if (\n          isDate &&\n          !hasDateInputSupport() &&\n          !moment(value, localeFormat, true).isValid()\n        ) {\n          errors.push(target.validationMessage)\n        }\n\n        // compute if the form is valid\n        const invalidFields = [] // all except passwords\n        const invalidPasswords = []\n        Object.keys(stateFields).forEach(f => {\n          const isErrored =\n            (f === field && errors && errors.length) ||\n            (f !== field &&\n              stateFields[f].errors &&\n              stateFields[f].errors.length)\n          if (isErrored) {\n            // TODO use the next line instead when the stack will be\n            // able to encrypt many fields\n            // if (stateFields[f].type === 'password') {\n            if (f === 'password') {\n              invalidPasswords.push(f)\n            } else {\n              invalidFields.push(f)\n            }\n          }\n        })\n        const isValid =\n          invalidFields &&\n          invalidFields.length === 0 &&\n          invalidPasswords &&\n          invalidPasswords.length === 0\n        const isValidButPasswords = invalidFields && invalidFields.length === 0\n\n        this.setState(prevState => {\n          // check and update accountName placeholder\n          let accountNameUpdate = {}\n          const { login, identifier } = prevState.fields\n          const shouldChangeNamePlaceholder =\n            (login && field === 'login') ||\n            (!login && field === 'identifier') ||\n            (!login && !identifier && field === 'email')\n          if (shouldChangeNamePlaceholder) {\n            accountNameUpdate = {\n              placeholder:\n                target.value || t('account.form.placeholder.accountName')\n            }\n          }\n          return Object.assign({}, prevState, {\n            isValid,\n            isValidButPasswords,\n            fields: Object.assign({}, prevState.fields, {\n              [field]: Object.assign({}, prevState.fields[field], { errors }),\n              accountName: Object.assign(\n                {},\n                prevState.fields.accountName,\n                accountNameUpdate\n              )\n            })\n          })\n        })\n      }\n\n      handleChange(field, target) {\n        let stateUpdate\n        if (target.type && target.type === 'checkbox') {\n          stateUpdate = {\n            dirty: true,\n            value: target.checked,\n            checked: target.checked\n          }\n        } else {\n          stateUpdate = {\n            dirty: true,\n            value: target.value\n          }\n        }\n        this.setState(prevState => {\n          return Object.assign({}, prevState, {\n            dirty: true,\n            fields: Object.assign({}, prevState.fields, {\n              [field]: Object.assign({}, prevState.fields[field], stateUpdate)\n            })\n          })\n        })\n\n        // Check if all required inputs are filled\n        let unfilled = [] // all except passwords\n        let unfilledPasswords = []\n        const { fields } = this.state\n        for (field in fields) {\n          const isRequiredAndEmpty =\n            fields[field].isRequired &&\n            fields[field].type !== 'hidden' &&\n            !fields[field].value\n          if (isRequiredAndEmpty) {\n            // TODO use the next line instead when the stack will be\n            // able to encrypt many fields\n            // if (fields[field].type === 'password') {\n            if (field === 'password') {\n              unfilledPasswords.push(field)\n            } else {\n              unfilled.push(field)\n            }\n          }\n        }\n        this.setState({\n          allRequiredFieldsAreFilled:\n            unfilled &&\n            unfilledPasswords &&\n            unfilled.length === 0 &&\n            unfilledPasswords.length === 0,\n          allRequiredFilledButPasswords: unfilled && unfilled.length === 0,\n          values: this.getData()\n        })\n      }\n\n      getData() {\n        const data = {}\n        Object.keys(this.state.fields).forEach(field => {\n          data[field] = this.state.fields[field].value\n        })\n        return data\n      }\n    }\n\n    return StatefulForm\n  }\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-dashboard_f793a831d19c371bbf6382daf63185f0\",\n  \"use\": \"icon-dashboard_f793a831d19c371bbf6382daf63185f0-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-dashboard_f793a831d19c371bbf6382daf63185f0\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-480 -96)\\\">\\n    <g transform=\\\"translate(481 97)\\\">\\n      <path fill=\\\"#FFE2A1\\\" d=\\\"M23,46 C10.2974508,46 0,35.7025492 0,23 C0,10.2974508 10.2974508,0 23,0 C35.7025492,0 46,10.2974508 46,23 C46,35.7025492 35.7025492,46 23,46 Z M42,23 L38,23 C37.4477153,23 37,23.4477153 37,24 C37,24.5522847 37.4477153,25 38,25 L42,25 C42.5522847,25 43,24.5522847 43,24 C43,23.4477153 42.5522847,23 42,23 Z M40.1703157,14.806438 L36.4743157,16.336438 C35.9640256,16.5476782 35.7215978,17.1325941 35.932838,17.6428843 C36.1440782,18.1531744 36.7289941,18.3956022 37.2392843,18.184362 L40.9352843,16.654362 C41.4455744,16.4431218 41.6880022,15.8582059 41.476762,15.3479157 C41.2655218,14.8376256 40.6806059,14.5951978 40.1703157,14.806438 Z M29.345638,5.06291573 L27.815638,8.75891573 C27.6043978,9.26920585 27.8468256,9.85412177 28.3571157,10.065362 C28.8674059,10.2766022 29.4523218,10.0341744 29.663562,9.52388427 L31.193562,5.82788427 C31.4048022,5.31759415 31.1623744,4.73267823 30.6520843,4.521438 C30.1417941,4.31019777 29.5568782,4.55262561 29.345638,5.06291573 Z M22,4 L22,8 C22,8.55228475 22.4477153,9 23,9 C23.5522847,9 24,8.55228475 24,8 L24,4 C24,3.44771525 23.5522847,3 23,3 C22.4477153,3 22,3.44771525 22,4 Z M14.806438,5.82788427 L16.336438,9.52388427 C16.5476782,10.0341744 17.1325941,10.2766022 17.6428843,10.065362 C18.1531744,9.85412177 18.3956022,9.26920585 18.184362,8.75891573 L16.654362,5.06291573 C16.4431218,4.55262561 15.8582059,4.31019777 15.3479157,4.521438 C14.8376256,4.73267823 14.5951978,5.31759415 14.806438,5.82788427 Z M8.85829378,10.2685059 L11.6822938,13.1005059 C12.0722653,13.4915822 12.7054297,13.4924778 13.0965059,13.1025062 C13.4875822,12.7125347 13.4884778,12.0793703 13.0985062,11.6882941 L10.2745062,8.85629408 C9.88453469,8.46521781 9.25137034,8.46432224 8.86029408,8.85429378 C8.46921781,9.24426531 8.46832224,9.87742966 8.85829378,10.2685059 Z M5.06453896,16.6542888 L8.75853896,18.1842888 C9.26878866,18.3956267 9.85375095,18.1533107 10.0650888,17.643061 C10.2764267,17.1328113 10.0341107,16.547849 9.52386104,16.3365112 L5.82986104,14.8065112 C5.31961134,14.5951733 4.73464905,14.8374893 4.52331119,15.347739 C4.31197334,15.8579887 4.55428926,16.442951 5.06453896,16.6542888 Z M4,25 L8,25 C8.55228475,25 9,24.5522847 9,24 C9,23.4477153 8.55228475,23 8,23 L4,23 C3.44771525,23 3,23.4477153 3,24 C3,24.5522847 3.44771525,25 4,25 Z\\\" />\\n      <rect width=\\\"4\\\" height=\\\"8\\\" x=\\\"21\\\" y=\\\"32\\\" stroke=\\\"#FF9125\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n      <rect width=\\\"4\\\" height=\\\"8\\\" x=\\\"29\\\" y=\\\"32\\\" stroke=\\\"#FF9125\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n      <rect width=\\\"4\\\" height=\\\"8\\\" x=\\\"13\\\" y=\\\"32\\\" stroke=\\\"#FF9125\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n      <path stroke=\\\"#FF9125\\\" stroke-width=\\\"2\\\" d=\\\"M26 23C26 24.656 24.656 26 23 26 21.344 26 20 24.656 20 23 20 21.344 21.344 20 23 20 24.656 20 26 21.344 26 23L26 23zM25.121 20.879L35.021 10.981\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-movies_225a752f2f879e0cf33ef26e21dfa206\",\n  \"use\": \"icon-movies_225a752f2f879e0cf33ef26e21dfa206-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-movies_225a752f2f879e0cf33ef26e21dfa206\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-288 -480)\\\">\\n    <g transform=\\\"translate(288 479)\\\">\\n      <path fill=\\\"#F52D2D\\\" d=\\\"M7,36.9995616 C5.346,36.9995616 4,35.6535125 4,33.9994521 C4,32.3453916 5.346,30.9993425 7,30.9993425 L20.068,30.9993425 C21.4974448,32.2036382 22.3534141,28.6993803 20.9744184,27.1181384 C19.4998103,25.4272614 15.7565252,25.6483548 16.604,26.9991964 L7,26.9991964 C3.14,26.9991964 0,30.1393111 0,33.9994521 C0,37.8595931 3.14,40.9997078 7,40.9997078 L41,40.9997078 C42.102,40.9997078 43,41.8977406 43,42.9997808 C43,44.1038212 42.102,44.9998539 41,44.9998539 L21,44.9998539 C19.896,44.9998539 19,45.8958866 19,46.9999269 C19,48.1059673 19.896,49 21,49 L41,49 C44.308,49 47,46.3079017 47,42.9997808 C47,39.69166 44.308,36.9995616 41,36.9995616 L7,36.9995616 Z\\\" />\\n      <path fill=\\\"#FCBFBF\\\" d=\\\"M31,34.9994886 C21.6111593,34.9994886 14,27.3880513 14,17.9988676 C14,8.60968387 21.6111593,0.998246588 31,0.998246588 C40.3888407,0.998246588 48,8.60968387 48,17.9988676 C48,27.3880513 40.3888407,34.9994886 31,34.9994886 Z M31,13.9987215 C28.794,13.9987215 27,15.792787 27,17.9988676 C27,20.2049482 28.794,21.9990137 31,21.9990137 C33.206,21.9990137 35,20.2049482 35,17.9988676 C35,15.792787 33.206,13.9987215 31,13.9987215 Z\\\" />\\n      <path fill=\\\"#F52D2D\\\" d=\\\"M19.0566,13.0782 C19.1466,12.8242 19.3346,12.6182 19.5806,12.5042 C19.8246,12.3902 20.1046,12.3782 20.3566,12.4762 L25.3566,14.3862 C25.6346,14.4942 25.8486,14.7162 25.9466,14.9962 C26.0426,15.2782 26.0106,15.5862 25.8566,15.8382 C24.8766,17.4622 25.2306,19.1602 25.7026,20.2962 C25.8046,20.5442 25.8026,20.8222 25.6986,21.0702 C25.5946,21.3162 25.3946,21.5102 25.1466,21.6102 L20.4226,23.4742 C20.2946,23.5442 20.1486,23.5862 19.9986,23.5922 L19.9566,23.5922 C19.4946,23.5922 19.0846,23.2782 18.9726,22.8302 C17.5046,19.1442 18.2046,15.5002 19.0566,13.0782 Z M26.1886,5.9582 C26.2026,5.9562 26.2166,5.9522 26.2306,5.9522 C29.1306,4.8162 32.5226,4.8602 35.9206,6.0562 C36.1806,6.1482 36.3926,6.3442 36.5026,6.5942 C36.6146,6.8462 36.6186,7.1322 36.5126,7.3862 L34.6006,11.9622 C34.4426,12.3402 34.0766,12.5782 33.6786,12.5782 C33.6266,12.5782 33.5726,12.5742 33.5206,12.5642 C33.3826,12.5422 33.2546,12.4942 33.1426,12.4242 C31.7046,11.8702 30.1146,11.8842 28.7026,12.4682 C28.1926,12.6802 27.6086,12.4382 27.3966,11.9282 L25.5326,7.4402 C25.4586,7.3062 25.4146,7.1582 25.4086,7.0022 L25.4066,6.9802 C25.3866,6.4942 25.7166,6.0642 26.1886,5.9582 Z M41.5686,12.5302 C41.6986,12.4582 41.8446,12.4162 41.9986,12.4102 C42.4746,12.3722 42.9106,12.7062 43.0246,13.1682 C44.4946,16.8582 43.7966,20.5022 42.9426,22.9222 C42.8546,23.1782 42.6646,23.3842 42.4206,23.4982 C42.2866,23.5602 42.1426,23.5922 41.9986,23.5922 C41.8786,23.5922 41.7566,23.5702 41.6426,23.5262 L36.6426,21.6142 C36.3666,21.5082 36.1506,21.2862 36.0546,21.0042 C35.9586,20.7242 35.9906,20.4162 36.1426,20.1622 C37.1246,18.5382 36.7686,16.8422 36.2986,15.7042 C36.1946,15.4562 36.1966,15.1782 36.3006,14.9322 C36.4046,14.6862 36.6046,14.4902 36.8546,14.3922 L41.5686,12.5302 Z M35.8286,30.0262 C34.4106,30.5922 32.8806,30.8762 31.2766,30.8762 C29.5846,30.8762 27.8346,30.5622 26.0766,29.9442 C25.8226,29.8542 25.6146,29.6662 25.5026,29.4202 C25.3866,29.1762 25.3786,28.8942 25.4766,28.6422 L27.3866,23.6422 C27.4926,23.3682 27.7146,23.1502 27.9946,23.0542 C28.2746,22.9562 28.5846,22.9922 28.8366,23.1442 C30.1166,23.9162 31.6886,23.9622 33.2946,23.2982 C33.5426,23.1962 33.8206,23.1982 34.0666,23.3002 C34.3146,23.4062 34.5086,23.6062 34.6066,23.8562 L36.4746,28.5802 C36.5426,28.7062 36.5846,28.8522 36.5906,29.0002 C36.6106,29.4782 36.2906,29.9122 35.8286,30.0262 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-sinister_b9d57c144fc65639ef07608032ebd3d2\",\n  \"use\": \"icon-sinister_b9d57c144fc65639ef07608032ebd3d2-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-sinister_b9d57c144fc65639ef07608032ebd3d2\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-192 -576)\\\">\\n    <g transform=\\\"translate(193 577)\\\">\\n      <path fill=\\\"#FCBFBF\\\" d=\\\"M45.8126826,44.3485 L23.8946826,0.5085 C23.5546826,-0.1695 22.4446826,-0.1695 22.1066826,0.5085 L0.106682589,44.5085 C-0.049317411,44.8185 -0.033317411,45.1865 0.148682589,45.4805 C0.330682589,45.7765 0.652682589,45.9565 1.00068259,45.9565 L45.0006826,45.9565 L45.0206826,45.9565 C45.5706826,45.9565 46.0206826,45.5085 46.0206826,44.9565 C46.0206826,44.7265 45.9426826,44.5165 45.8126826,44.3485 L45.8126826,44.3485 Z\\\" />\\n      <path fill=\\\"#F52D2D\\\" d=\\\"M23.0006826,40.1725 C21.9426826,40.1725 21.0866826,39.3165 21.0866826,38.2605 C21.0866826,37.2065 21.9426826,36.3465 23.0006826,36.3465 C24.0546826,36.3465 24.9126826,37.2065 24.9126826,38.2605 C24.9126826,39.3165 24.0546826,40.1725 23.0006826,40.1725 Z M22.0006826,16.2605 C22.0006826,15.7085 22.4486826,15.2605 23.0006826,15.2605 C23.5506826,15.2605 24.0006826,15.7085 24.0006826,16.2605 L24.0006826,31.5645 C24.0006826,32.1165 23.5506826,32.5645 23.0006826,32.5645 C22.4486826,32.5645 22.0006826,32.1165 22.0006826,31.5645 L22.0006826,16.2605 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { compose, createStore, applyMiddleware } from 'redux'\nimport { cozyMiddleware } from 'redux-cozy-client'\nimport { createLogger } from 'redux-logger'\nimport konnectorsI18nMiddleware from '../lib/middlewares/konnectorsI18n'\nimport thunkMiddleware from 'redux-thunk'\n\nimport CollectStore from '../lib/CollectStore'\nimport getReducers from '../reducers'\n\nconst configureStore = (client, context, options = {}) => {\n  // Enable Redux dev tools\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE || compose\n\n  const reduxStore = createStore(\n    getReducers(),\n    composeEnhancers(\n      applyMiddleware.apply(this, [\n        cozyMiddleware(client),\n        konnectorsI18nMiddleware(options.lang),\n        thunkMiddleware,\n        createLogger()\n      ])\n    )\n  )\n\n  return Object.assign(new CollectStore(context, options), reduxStore)\n}\n\nexport default configureStore\n","import { combineReducers } from 'redux'\n\nimport { reducer } from 'redux-cozy-client'\nimport * as fromAccounts from '../ducks/accounts'\nimport * as fromKonnectors from '../ducks/konnectors'\nimport * as fromTriggers from '../ducks/triggers'\nimport connections, * as fromConnections from '../ducks/connections'\n\nexport default () =>\n  combineReducers({\n    connections,\n    cozy: reducer\n  })\n\n// selectors\nexport const getInstalledKonnectors = state =>\n  fromKonnectors.getInstalledKonnectors(state.cozy)\n\nexport const getConnectionsByKonnector = (state, konnectorSlug) =>\n  fromConnections.getConnectionsByKonnector(\n    state.connections,\n    konnectorSlug,\n    fromAccounts.getIds(state.cozy),\n    fromKonnectors.getSlugs(state.cozy)\n  )\n\nexport const getConnectionsQueue = state =>\n  fromConnections.getQueue(\n    state.connections,\n    fromKonnectors.getIndexedKonnectors(state.cozy)\n  )\n\nexport const getCreatedConnectionAccount = state =>\n  fromAccounts.getAccount(\n    state.cozy,\n    fromConnections.getCreatedAccount(state.connections)\n  )\n\nexport const getKonnectorTriggersCount = (state, konnector) =>\n  fromTriggers.getKonnectorTriggers(\n    state.cozy,\n    konnector,\n    fromAccounts.getIds(state.cozy)\n  ).length\n\nexport const getKonnectorsInMaintenance = () =>\n  fromKonnectors.fetchKonnectorsInMaintenance()\n\nexport const getTriggerByKonnectorAndAccount = (state, konnector, account) => {\n  const triggerId = fromConnections.getTriggerIdByKonnectorAndAccount(\n    state.connections,\n    konnector,\n    account,\n    fromAccounts.getIds(state.cozy)\n  )\n  return fromTriggers.getTrigger(state.cozy, triggerId)\n}\n\nexport const isConnectionDeleting = state =>\n  fromConnections.isConnectionDeleting(state.connections)\n","export const getAccountName = account => {\n  if (!account) return null\n  if (account.auth) {\n    return account.auth.accountName || getAccountLogin(account) || account._id\n  } else {\n    return account._id\n  }\n}\n\nexport const getAccountLogin = account => {\n  if (account && account.auth) {\n    return account.auth.login || account.auth.identifier || account.auth.email\n  }\n}\n\nexport const getRandomKeyString = () =>\n  Math.random()\n    .toString(36)\n    .substring(2, 15) +\n  Math.random()\n    .toString(36)\n    .substring(2, 15) +\n  Math.random()\n    .toString(36)\n    .substring(2, 15)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-fallback_60f886b284dff2e917621ab74988817a\",\n  \"use\": \"icon-fallback_60f886b284dff2e917621ab74988817a-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-fallback_60f886b284dff2e917621ab74988817a\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n    <path fill=\\\"#D1D5DB\\\" d=\\\"M8,0 L33.0857864,0 L33.0857864,-6.10622664e-15 C33.3510029,-7.09718437e-15 33.6053568,0.10535684 33.7928932,0.292893219 L43.7071068,10.2071068 L43.7071068,10.2071068 C43.8946432,10.3946432 44,10.6489971 44,10.9142136 L44,45 L44,45 C44,46.6568542 42.6568542,48 41,48 L8,48 L8,48 C6.34314575,48 5,46.6568542 5,45 L5,3 L5,3 C5,1.34314575 6.34314575,3.04359188e-16 8,0 Z\\\" />\\n    <path fill=\\\"#A3ACB8\\\" d=\\\"M32,2.57127653e-13 L32,12 L44,12 L44,10.9142136 L44,10.9142136 C44,10.6489971 43.8946432,10.3946432 43.7071068,10.2071068 L33.7928932,0.292893219 L33.7928932,0.292893219 C33.6053568,0.10535684 33.3510029,2.42102908e-14 33.0857864,6.97220059e-14 L32,2.57127653e-13 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-activity_d2228322ef4ea3bfe7fb4299c994975e\",\n  \"use\": \"icon-activity_d2228322ef4ea3bfe7fb4299c994975e-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-activity_d2228322ef4ea3bfe7fb4299c994975e\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-96 -96)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(97 97)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <g stroke=\\\"#95999D\\\" transform=\\\"translate(0 16)\\\">\\n        <path d=\\\"M0.0254,30 L46.0254,30\\\" />\\n        <polygon points=\\\"8.026 20 2.026 20 2.026 30 8.026 30\\\" />\\n        <polygon points=\\\"20.026 10 14.026 10 14.026 30 20.026 30\\\" />\\n        <polygon points=\\\"32.026 14 26.026 14 26.026 30 32.026 30\\\" />\\n        <polygon points=\\\"44.026 0 38.026 0 38.026 30 44.026 30\\\" />\\n      </g>\\n      <g stroke=\\\"currentColor\\\" transform=\\\"translate(3)\\\">\\n        <path d=\\\"M4.0254 22C4.0254 23.104 3.1314 24 2.0254 24 .9214 24 .0254 23.104.0254 22 .0254 20.894.9214 20 2.0254 20 3.1314 20 4.0254 20.894 4.0254 22L4.0254 22zM16.0254 12C16.0254 13.104 15.1314 14 14.0254 14 12.9214 14 12.0254 13.104 12.0254 12 12.0254 10.894 12.9214 10 14.0254 10 15.1314 10 16.0254 10.894 16.0254 12L16.0254 12zM28.0254 16C28.0254 17.104 27.1314 18 26.0254 18 24.9214 18 24.0254 17.104 24.0254 16 24.0254 14.894 24.9214 14 26.0254 14 27.1314 14 28.0254 14.894 28.0254 16L28.0254 16zM40.0254 2C40.0254 3.104 39.1314 4 38.0254 4 36.9214 4 36.0254 3.104 36.0254 2 36.0254.894 36.9214 0 38.0254 0 39.1314 0 40.0254.894 40.0254 2L40.0254 2zM3.5626 20.7208L12.4906 13.2788M15.916 12.6298L24.186 15.3858M36.7246 3.5176L27.3266 14.4796\\\" />\\n      </g>\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-consumption_f793a831d19c371bbf6382daf63185f0\",\n  \"use\": \"icon-consumption_f793a831d19c371bbf6382daf63185f0-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-consumption_f793a831d19c371bbf6382daf63185f0\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-480 -96)\\\">\\n    <g transform=\\\"translate(481 97)\\\">\\n      <path fill=\\\"#FFE2A1\\\" d=\\\"M23,46 C10.2974508,46 0,35.7025492 0,23 C0,10.2974508 10.2974508,0 23,0 C35.7025492,0 46,10.2974508 46,23 C46,35.7025492 35.7025492,46 23,46 Z M42,23 L38,23 C37.4477153,23 37,23.4477153 37,24 C37,24.5522847 37.4477153,25 38,25 L42,25 C42.5522847,25 43,24.5522847 43,24 C43,23.4477153 42.5522847,23 42,23 Z M40.1703157,14.806438 L36.4743157,16.336438 C35.9640256,16.5476782 35.7215978,17.1325941 35.932838,17.6428843 C36.1440782,18.1531744 36.7289941,18.3956022 37.2392843,18.184362 L40.9352843,16.654362 C41.4455744,16.4431218 41.6880022,15.8582059 41.476762,15.3479157 C41.2655218,14.8376256 40.6806059,14.5951978 40.1703157,14.806438 Z M29.345638,5.06291573 L27.815638,8.75891573 C27.6043978,9.26920585 27.8468256,9.85412177 28.3571157,10.065362 C28.8674059,10.2766022 29.4523218,10.0341744 29.663562,9.52388427 L31.193562,5.82788427 C31.4048022,5.31759415 31.1623744,4.73267823 30.6520843,4.521438 C30.1417941,4.31019777 29.5568782,4.55262561 29.345638,5.06291573 Z M22,4 L22,8 C22,8.55228475 22.4477153,9 23,9 C23.5522847,9 24,8.55228475 24,8 L24,4 C24,3.44771525 23.5522847,3 23,3 C22.4477153,3 22,3.44771525 22,4 Z M14.806438,5.82788427 L16.336438,9.52388427 C16.5476782,10.0341744 17.1325941,10.2766022 17.6428843,10.065362 C18.1531744,9.85412177 18.3956022,9.26920585 18.184362,8.75891573 L16.654362,5.06291573 C16.4431218,4.55262561 15.8582059,4.31019777 15.3479157,4.521438 C14.8376256,4.73267823 14.5951978,5.31759415 14.806438,5.82788427 Z M8.85829378,10.2685059 L11.6822938,13.1005059 C12.0722653,13.4915822 12.7054297,13.4924778 13.0965059,13.1025062 C13.4875822,12.7125347 13.4884778,12.0793703 13.0985062,11.6882941 L10.2745062,8.85629408 C9.88453469,8.46521781 9.25137034,8.46432224 8.86029408,8.85429378 C8.46921781,9.24426531 8.46832224,9.87742966 8.85829378,10.2685059 Z M5.06453896,16.6542888 L8.75853896,18.1842888 C9.26878866,18.3956267 9.85375095,18.1533107 10.0650888,17.643061 C10.2764267,17.1328113 10.0341107,16.547849 9.52386104,16.3365112 L5.82986104,14.8065112 C5.31961134,14.5951733 4.73464905,14.8374893 4.52331119,15.347739 C4.31197334,15.8579887 4.55428926,16.442951 5.06453896,16.6542888 Z M4,25 L8,25 C8.55228475,25 9,24.5522847 9,24 C9,23.4477153 8.55228475,23 8,23 L4,23 C3.44771525,23 3,23.4477153 3,24 C3,24.5522847 3.44771525,25 4,25 Z\\\" />\\n      <rect width=\\\"4\\\" height=\\\"8\\\" x=\\\"21\\\" y=\\\"32\\\" stroke=\\\"#FF9125\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n      <rect width=\\\"4\\\" height=\\\"8\\\" x=\\\"29\\\" y=\\\"32\\\" stroke=\\\"#FF9125\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n      <rect width=\\\"4\\\" height=\\\"8\\\" x=\\\"13\\\" y=\\\"32\\\" stroke=\\\"#FF9125\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n      <path stroke=\\\"#FF9125\\\" stroke-width=\\\"2\\\" d=\\\"M26 23C26 24.656 24.656 26 23 26 21.344 26 20 24.656 20 23 20 21.344 21.344 20 23 20 24.656 20 26 21.344 26 23L26 23zM25.121 20.879L35.021 10.981\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import styles from '../styles/accountLoginForm'\nimport fieldStyles from '../styles/field.styl'\n\nimport React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { Button } from 'cozy-ui/react/Button'\nimport Field, {\n  PasswordField,\n  DropdownField,\n  CheckboxField,\n  isHidden,\n  isAdvanced\n} from './Field'\nimport ReactMarkdownWrapper from './ReactMarkdownWrapper'\nimport { map, groupBy } from 'lodash'\nimport { probableLoginFieldNames } from '../lib/accounts'\nimport collectConfig from 'config/collect'\n\nconst renderers = {\n  // eslint-disable-next-line react/display-name\n  password: () => <PasswordField noAutoFill />,\n  // eslint-disable-next-line react/display-name\n  date: ({ t }) => (\n    <Field\n      type=\"date\"\n      placeholder={t('date.placeholder', {\n        _: collectConfig.defaultDateFormat.toLowerCase()\n      })}\n    />\n  ),\n  // eslint-disable-next-line react/display-name\n  checkbox: () => <CheckboxField />,\n  // eslint-disable-next-line react/display-name\n  dropdown: () => <DropdownField />,\n  // eslint-disable-next-line react/display-name\n  text: () => <Field />,\n  // eslint-disable-next-line react/display-name\n  email: () => <Field type=\"email\" />\n}\n\nconst hydrateFieldValue = {\n  checkbox: value => !!value\n}\n\nconst identity = x => x\n\nconst FieldDescription = props => {\n  const { field, konnectorSlug, t } = props\n  const hasLegacyDescription = field.hasDescription\n  const descriptionKey =\n    (hasLegacyDescription &&\n      `connector.${konnectorSlug}.description.field.${field.name}`) ||\n    (!!field.description && `${konnectorSlug}.${field.description}`)\n  if (!descriptionKey) return null\n  return <ReactMarkdownWrapper source={t(descriptionKey)} />\n}\n\nexport class AccountLoginForm extends React.Component {\n  state = {\n    submitEnabled: this.props.isOAuth || false\n  }\n\n  componentWillReceiveProps(props) {\n    this.UNSAFE_componentWillReceiveProps(props)\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps) {\n    const {\n      dirty,\n      editing,\n      isValid,\n      isValidButPasswords,\n      allRequiredFieldsAreFilled,\n      allRequiredFilledButPasswords,\n      forceEnabled,\n      isOAuth\n    } = newProps\n    // we don't take in account passwords in editing\n    // since they will be returned encrypted from the stack\n    const submitEnabled =\n      (editing &&\n        dirty &&\n        isValidButPasswords &&\n        allRequiredFilledButPasswords) ||\n      (!editing && isValid && allRequiredFieldsAreFilled) ||\n      forceEnabled ||\n      isOAuth\n    this.setState({\n      submitEnabled: submitEnabled\n    })\n  }\n  render() {\n    const {\n      t,\n      isOAuth,\n      oAuthTerminated,\n      fields,\n      error,\n      editing,\n      submitting,\n      onSubmit,\n      connectorSlug,\n      isSuccess,\n      disableSuccessTimeout,\n      isUnloading,\n      displayAdvanced,\n      toggleAdvanced\n    } = this.props\n    const { submitEnabled } = this.state\n\n    let alreadyFocused = false\n    // Handle advanced vs simple fields\n    const fieldSpecs = map(fields, (fieldSpec, name) => ({\n      ...fieldSpec,\n      name\n    }))\n    const visibleFields = fieldSpecs.filter(field => !isHidden(field))\n    const grouped = groupBy(\n      visibleFields,\n      field => (isAdvanced(field) ? 'advancedFields' : 'editableFields')\n    )\n    const editableFields = grouped.editableFields || []\n    const advancedFields = grouped.advancedFields || []\n    const hasEditableFields = !!editableFields.length\n\n    const canHandleEnterKey =\n      (!editing || hasEditableFields) &&\n      !isSuccess &&\n      !submitting &&\n      submitEnabled\n    const onEnterKey = canHandleEnterKey && onSubmit\n\n    const renderField = konnectorSlug => field => {\n      const { name, label, type, value, placeholder } = field\n      if (!renderers[type]) {\n        // eslint-disable-next-line no-console\n        console.warn('Unknown field type ' + type)\n        return null\n      }\n      const disabled = probableLoginFieldNames.includes(name) && editing\n\n      // Give focus only once\n      const giveFocus = !alreadyFocused && !disabled\n      if (giveFocus) alreadyFocused = giveFocus\n\n      const readonly =\n        submitting &&\n        !disableSuccessTimeout &&\n        (editing || !isOAuth || oAuthTerminated)\n\n      // Build common fields\n      const hydrate = hydrateFieldValue[name] || identity\n      const attributes = {\n        ...field, // TODO be more restrictive on what comes in\n        disabled: disabled || readonly,\n        invalid: !!error,\n        onEnterKey,\n        giveFocus,\n        label: t(`${konnectorSlug}.fields.${field.name}.label`, {\n          _: t(`account.form.label.${label || name}`)\n        }),\n        readonly: readonly,\n        value: isUnloading ? '' : hydrate(value)\n      }\n\n      if (placeholder) {\n        attributes.placeholder = placeholder\n      }\n\n      return (\n        <div className={fieldStyles['coz-field-wrapper']}>\n          <FieldDescription field={field} konnectorSlug={connectorSlug} t={t} />\n          {React.cloneElement(renderers[type](this.props), attributes)}\n        </div>\n      )\n    }\n\n    return (\n      // We use a <div> instead of a <form> to disable the \"use password for\" function of Chrome\n      <div className={styles['account-form-login']} role=\"form\">\n        {/* Error */}\n        {error && (\n          <p className=\"errors\">{t('account.message.error.bad_credentials')}</p>\n        )}\n\n        {/* Fields */}\n        {!!editableFields &&\n          !!editableFields.length && (\n            <fieldset className={styles['account-form-fieldset']}>\n              {editableFields.map(renderField(connectorSlug))}\n            </fieldset>\n          )}\n        {editing &&\n          !displayAdvanced &&\n          !!advancedFields.length && (\n            <button\n              type=\"button\"\n              className={styles['col-account-form-advanced-button']}\n              onClick={toggleAdvanced}\n            >\n              {t('account.form.button.advanced')}\n            </button>\n          )}\n\n        {editing &&\n          displayAdvanced &&\n          !!advancedFields &&\n          !!advancedFields.length && (\n            <fieldset className={styles['account-form-fieldset']}>\n              {advancedFields.map(renderField(connectorSlug))}\n            </fieldset>\n          )}\n\n        {/* Controls */}\n        <div className={styles['coz-form-controls']}>\n          {(!editing || hasEditableFields) &&\n            !isSuccess && (\n              <Button\n                className={styles['coz-btn']}\n                disabled={oAuthTerminated || submitting || !submitEnabled}\n                busy={\n                  submitting &&\n                  !disableSuccessTimeout &&\n                  (editing || !isOAuth || oAuthTerminated)\n                }\n                onClick={onSubmit}\n              >\n                {t(\n                  editing\n                    ? 'account.form.button.save'\n                    : 'account.form.button.connect'\n                )}\n              </Button>\n            )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default translate()(AccountLoginForm)\n","import styles from '../styles/konnectorHeaderIcon'\nimport React, { Component } from 'react'\n\nimport { AppIcon } from 'cozy-ui/react/AppIcon'\nimport { appIconProps } from 'lib/icons'\nimport { translate } from 'cozy-ui/react/I18n'\n\nexport class KonnectorHeaderIcon extends Component {\n  render() {\n    const { center, konnector, t } = this.props\n    return (\n      <div\n        className={\n          styles[`col-konnector-header-icon-wrapper${center ? '--center' : ''}`]\n        }\n      >\n        <AppIcon\n          alt={t('app.logo.alt', { name: konnector.name })}\n          app={konnector}\n          className={\n            styles[`col-konnector-header-icon${center ? '--center' : ''}`]\n          }\n          {...appIconProps}\n        />\n      </div>\n    )\n  }\n}\n\nexport default translate()(KonnectorHeaderIcon)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-waves_83fb178a704a7e966dec2464705848bc\",\n  \"use\": \"icon-waves_83fb178a704a7e966dec2464705848bc-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-waves_83fb178a704a7e966dec2464705848bc\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-192 -288)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(192 289)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <path stroke=\\\"#9AE6B3\\\" d=\\\"M40.6132,38.8984 C44.5672,34.7664 46.9992,29.1664 46.9992,23.0004 C46.9992,10.2964 36.7032,0.000400000001 23.9992,0.000400000001 C11.2972,0.000400000001 0.9992,10.2964 0.9992,23.0004 C0.9992,29.1664 3.4332,34.7664 7.3872,38.8984\\\" />\\n      <path stroke=\\\"#9AE6B3\\\" d=\\\"M11.8164,31.7266 C10.0504,29.2666 9.0004,26.2586 9.0004,23.0006 C9.0004,14.7166 15.7144,8.0006 24.0004,8.0006 C32.2824,8.0006 39.0004,14.7166 39.0004,23.0006 C39.0004,26.2586 37.9484,29.2666 36.1844,31.7266\\\" />\\n      <path stroke=\\\"#9AE6B3\\\" d=\\\"M17.0156,23.3066 C17.0116,23.2026 16.9996,23.1006 16.9996,23.0006 C16.9996,19.0846 20.1996,16.0006 23.9996,16.0006 C27.8076,16.0006 30.9996,19.0906 30.9996,23.0006 C30.9996,23.1006 30.9876,23.2026 30.9836,23.3066\\\" />\\n      <polygon fill=\\\"#35CE68\\\" stroke=\\\"#35CE68\\\" points=\\\"14 46 34 46 24 26\\\" />\\n      <path stroke=\\\"#35CE68\\\" d=\\\"M24,26 L24,22\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-konnector-header-icon-wrapper\":\"col-konnector-header-icon-wrapper--1oMyA\",\"col-konnector-header-icon-wrapper--center\":\"col-konnector-header-icon-wrapper--center--3aLBw\",\"col-konnector-header-icon\":\"col-konnector-header-icon--2Yxl_\",\"col-konnector-header-icon--center\":\"col-konnector-header-icon--center--3rGkD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-connection\":\"col-account-connection--3AgeF\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-videostream_225a752f2f879e0cf33ef26e21dfa206\",\n  \"use\": \"icon-videostream_225a752f2f879e0cf33ef26e21dfa206-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-videostream_225a752f2f879e0cf33ef26e21dfa206\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-288 -480)\\\">\\n    <g transform=\\\"translate(288 479)\\\">\\n      <path fill=\\\"#F52D2D\\\" d=\\\"M7,36.9995616 C5.346,36.9995616 4,35.6535125 4,33.9994521 C4,32.3453916 5.346,30.9993425 7,30.9993425 L20.068,30.9993425 C21.4974448,32.2036382 22.3534141,28.6993803 20.9744184,27.1181384 C19.4998103,25.4272614 15.7565252,25.6483548 16.604,26.9991964 L7,26.9991964 C3.14,26.9991964 0,30.1393111 0,33.9994521 C0,37.8595931 3.14,40.9997078 7,40.9997078 L41,40.9997078 C42.102,40.9997078 43,41.8977406 43,42.9997808 C43,44.1038212 42.102,44.9998539 41,44.9998539 L21,44.9998539 C19.896,44.9998539 19,45.8958866 19,46.9999269 C19,48.1059673 19.896,49 21,49 L41,49 C44.308,49 47,46.3079017 47,42.9997808 C47,39.69166 44.308,36.9995616 41,36.9995616 L7,36.9995616 Z\\\" />\\n      <path fill=\\\"#FCBFBF\\\" d=\\\"M31,34.9994886 C21.6111593,34.9994886 14,27.3880513 14,17.9988676 C14,8.60968387 21.6111593,0.998246588 31,0.998246588 C40.3888407,0.998246588 48,8.60968387 48,17.9988676 C48,27.3880513 40.3888407,34.9994886 31,34.9994886 Z M31,13.9987215 C28.794,13.9987215 27,15.792787 27,17.9988676 C27,20.2049482 28.794,21.9990137 31,21.9990137 C33.206,21.9990137 35,20.2049482 35,17.9988676 C35,15.792787 33.206,13.9987215 31,13.9987215 Z\\\" />\\n      <path fill=\\\"#F52D2D\\\" d=\\\"M19.0566,13.0782 C19.1466,12.8242 19.3346,12.6182 19.5806,12.5042 C19.8246,12.3902 20.1046,12.3782 20.3566,12.4762 L25.3566,14.3862 C25.6346,14.4942 25.8486,14.7162 25.9466,14.9962 C26.0426,15.2782 26.0106,15.5862 25.8566,15.8382 C24.8766,17.4622 25.2306,19.1602 25.7026,20.2962 C25.8046,20.5442 25.8026,20.8222 25.6986,21.0702 C25.5946,21.3162 25.3946,21.5102 25.1466,21.6102 L20.4226,23.4742 C20.2946,23.5442 20.1486,23.5862 19.9986,23.5922 L19.9566,23.5922 C19.4946,23.5922 19.0846,23.2782 18.9726,22.8302 C17.5046,19.1442 18.2046,15.5002 19.0566,13.0782 Z M26.1886,5.9582 C26.2026,5.9562 26.2166,5.9522 26.2306,5.9522 C29.1306,4.8162 32.5226,4.8602 35.9206,6.0562 C36.1806,6.1482 36.3926,6.3442 36.5026,6.5942 C36.6146,6.8462 36.6186,7.1322 36.5126,7.3862 L34.6006,11.9622 C34.4426,12.3402 34.0766,12.5782 33.6786,12.5782 C33.6266,12.5782 33.5726,12.5742 33.5206,12.5642 C33.3826,12.5422 33.2546,12.4942 33.1426,12.4242 C31.7046,11.8702 30.1146,11.8842 28.7026,12.4682 C28.1926,12.6802 27.6086,12.4382 27.3966,11.9282 L25.5326,7.4402 C25.4586,7.3062 25.4146,7.1582 25.4086,7.0022 L25.4066,6.9802 C25.3866,6.4942 25.7166,6.0642 26.1886,5.9582 Z M41.5686,12.5302 C41.6986,12.4582 41.8446,12.4162 41.9986,12.4102 C42.4746,12.3722 42.9106,12.7062 43.0246,13.1682 C44.4946,16.8582 43.7966,20.5022 42.9426,22.9222 C42.8546,23.1782 42.6646,23.3842 42.4206,23.4982 C42.2866,23.5602 42.1426,23.5922 41.9986,23.5922 C41.8786,23.5922 41.7566,23.5702 41.6426,23.5262 L36.6426,21.6142 C36.3666,21.5082 36.1506,21.2862 36.0546,21.0042 C35.9586,20.7242 35.9906,20.4162 36.1426,20.1622 C37.1246,18.5382 36.7686,16.8422 36.2986,15.7042 C36.1946,15.4562 36.1966,15.1782 36.3006,14.9322 C36.4046,14.6862 36.6046,14.4902 36.8546,14.3922 L41.5686,12.5302 Z M35.8286,30.0262 C34.4106,30.5922 32.8806,30.8762 31.2766,30.8762 C29.5846,30.8762 27.8346,30.5622 26.0766,29.9442 C25.8226,29.8542 25.6146,29.6662 25.5026,29.4202 C25.3866,29.1762 25.3786,28.8942 25.4766,28.6422 L27.3866,23.6422 C27.4926,23.3682 27.7146,23.1502 27.9946,23.0542 C28.2746,22.9562 28.5846,22.9922 28.8366,23.1442 C30.1166,23.9162 31.6886,23.9622 33.2946,23.2982 C33.5426,23.1962 33.8206,23.1982 34.0666,23.3002 C34.3146,23.4062 34.5086,23.6062 34.6066,23.8562 L36.4746,28.5802 C36.5426,28.7062 36.5846,28.8522 36.5906,29.0002 C36.6106,29.4782 36.2906,29.9122 35.8286,30.0262 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-weight_cbe0ad6470b8f47f370117c75e70f01f\",\n  \"use\": \"icon-weight_cbe0ad6470b8f47f370117c75e70f01f-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-weight_cbe0ad6470b8f47f370117c75e70f01f\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-288 -288)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(289 291)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <path stroke=\\\"#95999D\\\" d=\\\"M42,42 L4,42 C1.798,42 0,40.3565217 0,38.3478261 L0,3.65217391 C0,1.64165217 1.798,0 4,0 L42,0 C44.2,0 46,1.64165217 46,3.65217391 L46,38.3478261 C46,40.3565217 44.2,42 42,42 Z\\\" />\\n      <g stroke=\\\"currentColor\\\" transform=\\\"translate(15 6)\\\">\\n        <circle cx=\\\"8\\\" cy=\\\"8\\\" r=\\\"8\\\" />\\n        <path d=\\\"M1 12L15 12M7 32L9 32M8 12L11 5\\\" />\\n      </g>\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","var map = {\n\t\"./icon-activity.svg\": \"ffmE\",\n\t\"./icon-appointment.svg\": \"GqSd\",\n\t\"./icon-arrow-left.svg\": \"30Td\",\n\t\"./icon-bankAccounts.svg\": \"TxWu\",\n\t\"./icon-bankTransactions.svg\": \"2Yr2\",\n\t\"./icon-bill.svg\": \"7iWW\",\n\t\"./icon-bloodPressure.svg\": \"4zVC\",\n\t\"./icon-calendar.svg\": \"y1LY\",\n\t\"./icon-call-log.svg\": \"CpzW\",\n\t\"./icon-categories-active.svg\": \"nPAt\",\n\t\"./icon-categories.svg\": \"kqSk\",\n\t\"./icon-certificate.svg\": \"2Uj3\",\n\t\"./icon-check.svg\": \"NYQX\",\n\t\"./icon-commit.svg\": \"pcU9\",\n\t\"./icon-consumption.svg\": \"fi0+\",\n\t\"./icon-contact.svg\": \"KWOR\",\n\t\"./icon-contract.svg\": \"PXPp\",\n\t\"./icon-courseMaterial.svg\": \"REJr\",\n\t\"./icon-dashboard.svg\": \"arv2\",\n\t\"./icon-document.svg\": \"VhrW\",\n\t\"./icon-event.svg\": \"OgEr\",\n\t\"./icon-fallback.svg\": \"f8QR\",\n\t\"./icon-family.svg\": \"/HEB\",\n\t\"./icon-files-pen.svg\": \"2sw9\",\n\t\"./icon-forbidden.svg\": \"PUsB\",\n\t\"./icon-geolocation.svg\": \"Vwsq\",\n\t\"./icon-geopoint.svg\": \"tEly\",\n\t\"./icon-graduated.svg\": \"YhzV\",\n\t\"./icon-heartbeat.svg\": \"uE6Y\",\n\t\"./icon-home.svg\": \"Souy\",\n\t\"./icon-money.svg\": \"vjPt\",\n\t\"./icon-movies.svg\": \"bqY2\",\n\t\"./icon-new.svg\": \"J+7E\",\n\t\"./icon-phonecommunicationlog.svg\": \"ksYY\",\n\t\"./icon-pin-active.svg\": \"HGt1\",\n\t\"./icon-pin.svg\": \"S7vQ\",\n\t\"./icon-podcast.svg\": \"tLC1\",\n\t\"./icon-profile.svg\": \"7J9o\",\n\t\"./icon-refund.svg\": \"+Zor\",\n\t\"./icon-sinister.svg\": \"c8Vx\",\n\t\"./icon-sleepTime.svg\": \"KxmK\",\n\t\"./icon-stepsNumber.svg\": \"LIMy\",\n\t\"./icon-sync.svg\": \"3Oar\",\n\t\"./icon-temperature.svg\": \"NkDc\",\n\t\"./icon-travelDate.svg\": \"2Hrj\",\n\t\"./icon-tweet.svg\": \"Dred\",\n\t\"./icon-videostream.svg\": \"iEAv\",\n\t\"./icon-warning.svg\": \"Acww\",\n\t\"./icon-waves.svg\": \"gGE0\",\n\t\"./icon-weight.svg\": \"ie9e\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"iwqY\";","/* global cozy, PouchDB, pouchdbFind */\nimport {\n  startDoctypeSync,\n  syncDoctypeOk,\n  syncDoctypeError\n} from '../slices/synchronization'\n\nconst REPLICATION_INTERVAL = 30000\nexport const SYNC_BIDIRECTIONAL = 'SYNC_BIDIRECTIONAL'\nexport const SYNC_TO = 'SYNC_TO'\nexport const SYNC_FROM = 'SYNC_FROM'\n\nexport default class PouchdbAdapter {\n  constructor() {\n    PouchDB.plugin(pouchdbFind)\n    this.instances = {}\n    this.doctypes = []\n  }\n\n  registerDoctypes(doctypes) {\n    this.doctypes = doctypes\n  }\n\n  getDatabase(doctype) {\n    return cozy.client.offline.getDatabase(doctype) // For now we let cozy-client-js creates PouchDB instances\n  }\n\n  getReplicationBaseUrl() {\n    return cozy.client.authorize().then(credentials => {\n      const basic = credentials.token.toBasicAuth()\n      return `${cozy.client._url}/data/`.replace('//', `//${basic}`)\n    })\n  }\n\n  getSeqNumber(doctype) {\n    return this.getDatabase(doctype)\n      .info()\n      .then(result => result.update_seq)\n  }\n\n  async sync(dispatch, direction = SYNC_BIDIRECTIONAL) {\n    const baseUrl = await this.getReplicationBaseUrl()\n    for (let doctype of this.doctypes) {\n      const seqNumber = await this.getSeqNumber(doctype)\n      await dispatch(startDoctypeSync(doctype, seqNumber))\n      this.syncDoctype(doctype, `${baseUrl}${doctype}`, dispatch, direction)\n    }\n  }\n\n  syncDoctype(\n    doctype,\n    replicationUrl,\n    dispatch,\n    direction = SYNC_BIDIRECTIONAL\n  ) {\n    return new Promise((resolve, reject) => {\n      const db = this.getDatabase(doctype)\n\n      let syncHandler\n      if (direction === SYNC_TO) syncHandler = db.replicate.to(replicationUrl)\n      else if (direction === SYNC_FROM)\n        syncHandler = db.replicate.from(replicationUrl)\n      else syncHandler = db.sync(replicationUrl)\n\n      syncHandler\n        .on('complete', info => {\n          dispatch(syncDoctypeOk(doctype, info))\n          this.scheduleNextSync(doctype, replicationUrl, dispatch, direction)\n          resolve(info)\n        })\n        .on('error', err => {\n          if (err.error === 'code=400, message=Expired token') {\n            return cozy.client.authorize().then(({ client, token }) => {\n              cozy.client.auth\n                .refreshToken(cozy, client, token)\n                .then(newToken => cozy.client.saveCredentials(client, newToken))\n                .then(() => this.syncDoctype(doctype, replicationUrl))\n            })\n          } else if (err.status !== 404) {\n            // A 404 error on some doctypes is perfectly normal when there is no data\n            dispatch(syncDoctypeError(doctype, err))\n            this.scheduleNextSync(doctype, replicationUrl, dispatch)\n            reject(err)\n          }\n        })\n    })\n  }\n\n  scheduleNextSync(doctype, replicationUrl, dispatch, direction) {\n    setTimeout(() => {\n      this.syncDoctype(doctype, replicationUrl, dispatch, direction)\n    }, REPLICATION_INTERVAL)\n  }\n\n  async fetchDocuments(doctype) {\n    const resp = await this.getDatabase(doctype).allDocs({ include_docs: true })\n    return {\n      data: resp.rows\n        .filter(row => !row.doc.hasOwnProperty('views'))\n        .map(row => ({ ...row.doc, id: row.id, _type: doctype })),\n      meta: { count: resp.total_rows },\n      skip: resp.offset,\n      next: false\n    }\n  }\n\n  async queryDocuments(doctype, index, options) {\n    const queryOptions = {\n      ...options,\n      fields: [...options.fields, '_id'],\n      sort: options.sort\n        ? Object.keys(options.sort).map(k => ({ [k]: options.sort[k] }))\n        : undefined\n    }\n    const resp = await this.getDatabase(doctype).find(queryOptions)\n\n    return {\n      data: resp.docs.map(doc => ({ ...doc, id: doc._id, _type: doctype })),\n      meta: { count: resp.docs.length },\n      skip: 0,\n      next: false\n    }\n  }\n\n  async fetchDocument(doctype, id) {\n    const resp = await this.getDatabase(doctype).get(id, { revs_info: true }) // We need the revs_info option to get the _rev property\n    return { data: [{ ...resp, id: resp.id, _id: resp.id, _type: doctype }] }\n  }\n\n  async createDocument(doctype, doc) {\n    const resp = await this.getDatabase(doctype).post(doc)\n    return {\n      data: [\n        { ...doc, id: resp.id, _id: resp.id, _type: doctype, _rev: resp.rev }\n      ]\n    }\n  }\n\n  async updateDocument(doc) {\n    // TODO: _* properties are reserved by CouchDB, so we can't send the doc with its _type property...\n    const { _type, ...safeDoc } = doc\n    const resp = await this.getDatabase(_type).put(safeDoc)\n    return { data: [{ ...doc, _rev: resp.rev }] }\n  }\n\n  async deleteDocument(doc) {\n    await this.getDatabase(doc._type).remove(doc)\n    return { data: [doc] }\n  }\n\n  createIndex(doctype, fields) {\n    return this.getDatabase(doctype).createIndex({ index: { fields } })\n  }\n\n  fetchFileByPath() {\n    throw new Error('Not implemented')\n  }\n\n  createFile() {\n    throw new Error('Not implemented')\n  }\n\n  trashFile() {\n    throw new Error('Not implemented')\n  }\n\n  fetchReferencedFiles() {\n    throw new Error('Not implemented')\n  }\n\n  addReferencedFiles() {\n    throw new Error('Not implemented')\n  }\n\n  removeReferencedFiles() {\n    throw new Error('Not implemented')\n  }\n}\n","/* jobs lib ready to be added to cozy-client-js */\nimport * as realtime from './realtime'\n\nconst JOBS_DOCTYPE = 'io.cozy.jobs'\n\nfunction decode(job) {\n  // Retrieve message properties directly into job\n  return { ...job, ...job.message }\n}\n\nexport function subscribe(cozy, job) {\n  return realtime.subscribe(cozy, JOBS_DOCTYPE, job, decode)\n}\n\nexport function subscribeAll(cozy) {\n  return realtime.subscribeAll(cozy, JOBS_DOCTYPE, decode)\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-categories_74ed484eb43c0a02930e3ab2e6fdf0e9\",\n  \"use\": \"icon-categories_74ed484eb43c0a02930e3ab2e6fdf0e9-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-categories_74ed484eb43c0a02930e3ab2e6fdf0e9\\\">\\n    <g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <g id=\\\"icon-categories_74ed484eb43c0a02930e3ab2e6fdf0e9_icons/16/categories\\\" fill=\\\"#95999D\\\">\\n            <path d=\\\"M3.24317636,6.034 L0.671176359,4.842 C0.473176359,4.743 0.375176359,4.643 0.275176359,4.445 C0.0781763594,3.949 0.275176359,3.551 0.671176359,3.352 L7.79217636,0.075 C7.99017636,-0.025 8.18717636,-0.025 8.38617636,0.075 L15.5061764,3.352 C15.8031764,3.451 16.0001764,3.75 16.0001764,4.048 C16.0001764,4.346 15.8031764,4.643 15.5061764,4.743 L12.8361764,6.034 L12.2421764,6.332 L8.38617636,8.219 C8.15217636,8.36 7.89017636,8.325 7.69317636,8.219 C7.49517636,8.114 3.83617636,6.332 3.83617636,6.332 L3.24317636,6.034 Z M15.2724764,10.8411 C16.0524764,11.2401 15.9484764,12.1861 15.1874764,12.5971 L8.42147636,15.9001 C8.14947636,16.0331 7.83047636,16.0331 7.55747636,15.9001 L0.572476359,12.4901 C0.375476359,12.3911 0.275476359,12.2911 0.176476359,12.0931 C-0.0205236406,11.5961 0.176476359,11.1991 0.572476359,11.0001 L1.46247636,10.6031 L3.93447636,11.7951 L7.56147636,13.5251 C7.83347636,13.6541 8.14847636,13.6531 8.41847636,13.5201 L12.1434764,11.6951 L14.5164764,10.5041 L15.2724764,10.8411 Z M15.8026764,7.6234 C15.9996764,8.0204 15.8026764,8.5174 15.2086764,8.8154 L12.9346764,9.9074 L12.3406764,10.2064 L8.28267636,12.2434 C8.00467636,12.3834 7.67767636,12.3834 7.39967636,12.2434 L3.34167636,10.2064 L2.74767636,9.9074 L0.473676359,8.8154 C0.275676359,8.7154 0.176676359,8.6164 0.0776763594,8.4174 C-0.120323641,7.9214 0.0776763594,7.5234 0.473676359,7.3254 L1.75867636,6.7294 L3.93467636,7.7224 L7.56067636,9.4524 C7.83267636,9.5814 8.14867636,9.5804 8.41867636,9.4474 L12.5386764,7.4244 L14.1206764,6.6304 L15.4066764,7.2264 C15.6046764,7.3254 15.7036764,7.4244 15.8026764,7.6234 Z\\\" id=\\\"icon-categories_74ed484eb43c0a02930e3ab2e6fdf0e9_Combined-Shape\\\" />\\n        </g>\\n    </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-phonecommunicationlog_9447ffc2faa9d2c378e7b9c4314fae4d\",\n  \"use\": \"icon-phonecommunicationlog_9447ffc2faa9d2c378e7b9c4314fae4d-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-phonecommunicationlog_9447ffc2faa9d2c378e7b9c4314fae4d\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-96 -480)\\\">\\n    <g transform=\\\"translate(99 480)\\\">\\n      <path fill=\\\"#A9CBF9\\\" d=\\\"M5.9994,1.9998 C4.3454,1.9998 2.9994,3.3458 2.9994,4.9998 C2.9994,6.6538 4.3454,7.9998 5.9994,7.9998 L38.9919388,7.9998 C40.0990545,7.9998 40.9994,8.89401792 40.9994,9.99709162 L40.9994,46.0025084 C40.9994,47.1082602 40.100629,47.9998 38.9919388,47.9998 L5.9994,47.9998 C3.2434,47.9998 0.9994,45.7558 0.9994,42.9998 L0.9994,5.9998 C0.9994,5.8918 1.0174,5.7918 1.0474,5.6938 C1.0174,5.4658 0.9994,5.2358 0.9994,4.9998 C0.9994,2.2438 3.2434,-0.0002 5.9994,-0.0002 L39.9994,-0.0002 C40.5534,-0.0002 40.9994,0.4478 40.9994,0.9998 C40.9994,1.5518 40.5534,1.9998 39.9994,1.9998 L5.9994,1.9998 Z M6,4 L38,4 C38.552,4 39,4.448 39,5 C39,5.552 38.552,6 38,6 L6,6 C5.448,6 5,5.552 5,5 C5,4.448 5.448,4 6,4 Z\\\" />\\n      <path fill=\\\"#297EF1\\\" d=\\\"M18.8184,22.3204 C19.8044,21.3364 19.8064,19.7364 18.8204,18.7544 L16.1444,16.0764 C15.1584,15.0924 13.5584,15.0924 12.5744,16.0764 L11.1044,17.5444 C9.8344,18.8184 9.6364,20.8044 10.6304,22.3064 C14.8924,28.7544 20.5824,34.4444 27.0304,38.7044 C28.5284,39.6964 30.5224,39.5004 31.7924,38.2304 L33.2604,36.7624 C34.2464,35.7764 34.2464,34.1784 33.2604,33.1944 L30.5844,30.5184 C29.5984,29.5304 28.0004,29.5304 27.0164,30.5184 L26.1244,31.4084 C23.1884,29.0044 20.3344,26.1464 17.9264,23.2124 L18.8184,22.3204 L18.8184,22.3204 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","export { default as CozyProvider } from './CozyProvider'\nexport { default as CozyClient } from './CozyClient'\nexport { default as cozyConnect } from './connect'\nexport { default as cozyMiddleware } from './middleware'\nexport {\n  default as reducer,\n  makeActionCreator,\n  fetchApps,\n  fetchCollection,\n  fetchDocument,\n  fetchReferencedFiles,\n  fetchKonnectors,\n  fetchTriggers,\n  addReferencedFiles,\n  removeReferencedFiles,\n  applySelectorForAction,\n  enhancePropsForActions,\n  getCollection,\n  getDocument,\n  createDocument,\n  createTrigger,\n  launchTrigger,\n  updateDocument,\n  deleteDocument,\n  deleteTrigger,\n  createFile,\n  trashFile,\n  CREATE_DOCUMENT\n} from './reducer'\nexport {\n  fetchSharings,\n  fetchContacts,\n  getSharingDetails,\n  share,\n  unshare,\n  leave,\n  shareByLink,\n  revokeLink\n} from './slices/sharings'\nexport { startSync, isFirstSync, isSynced } from './slices/synchronization'\n\nexport { downloadArchive, downloadFile } from './helpers'\n","import React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport styles from '../styles/konnectorEdit'\n\nimport { Tab, Tabs, TabList, TabPanels, TabPanel } from 'cozy-ui/react/Tabs'\n\nimport AccountConnectionData from './AccountConnectionData'\nimport AccountLoginForm from './AccountLoginForm'\nimport AccountLogout from './AccountLogout'\nimport DescriptionContent from './DescriptionContent'\nimport KonnectorFolder from './KonnectorFolder'\nimport KonnectorMaintenance from './KonnectorMaintenance'\nimport KonnectorSync from './KonnectorSync'\n\nimport { getKonnectorMessage, isKonnectorLoginError } from '../lib/konnectors'\nimport { getAccountName } from '../lib/helpers'\nimport ErrorDescription from './ErrorDescriptions'\n\nimport warningSvg from '../assets/sprites/icon-warning.svg'\n\nexport const KonnectorEdit = props => {\n  const {\n    t,\n    account,\n    connector,\n    deleting,\n    disableSuccessTimeout,\n    displayAdvanced,\n    allRequiredFieldsAreFilled,\n    allRequiredFilledButPasswords,\n    isValid,\n    isValidButPasswords,\n    dirty,\n    driveUrl,\n    error,\n    fields,\n    isFetching,\n    isUnloading,\n    lastSuccess,\n    oAuthTerminated,\n    folders,\n    closeModal,\n    onDelete,\n    onForceConnection,\n    onSubmit,\n    submitting,\n    toggleAdvanced,\n    trigger,\n    maintenance,\n    lang\n  } = props\n\n  const warningIcon = (\n    <svg className={styles['item-status-icon']}>\n      <use xlinkHref={`#${warningSvg.id}`} />\n    </svg>\n  )\n  const hasLoginError = isKonnectorLoginError(error)\n  const hasErrorExceptLogin = !!error && !hasLoginError\n  // assign accountName placeholder\n  if (fields.accountName)\n    fields.accountName.placeholder = getAccountName(account)\n  if (account && account.oauth)\n    account.auth = Object.assign({}, account.auth, account.oauth)\n\n  return (\n    <div className={styles['col-account-edit-content']}>\n      {!maintenance &&\n        hasErrorExceptLogin &&\n        ErrorDescription({ t, error, connector })}\n\n      <Tabs\n        initialActiveTab={hasLoginError ? 'account' : 'sync'}\n        className={styles['col-account-edit-tabs']}\n      >\n        <TabList>\n          <Tab name=\"sync\" className={styles['col-account-edit-tab']}>\n            {t('account.config.tabs.sync')}\n            {hasErrorExceptLogin && warningIcon}\n          </Tab>\n          <Tab name=\"account\" className={styles['col-account-edit-tab']}>\n            {t('account.config.tabs.account')}\n            {hasLoginError && warningIcon}\n          </Tab>\n          <Tab name=\"data\" className={styles['col-account-edit-tab']}>\n            {t('account.config.tabs.data')}\n          </Tab>\n        </TabList>\n\n        <TabPanels>\n          <TabPanel name=\"sync\" className={styles['col-account-edit-tabpanel']}>\n            {maintenance &&\n              maintenance.longTerm && (\n                <KonnectorMaintenance\n                  maintenance={maintenance}\n                  lang={lang}\n                  konnectorName={connector.name}\n                />\n              )}\n            <KonnectorSync\n              frequency={connector.frequency || 'weekly'}\n              lastSuccessDate={lastSuccess}\n              maintenance={maintenance}\n              submitting={submitting}\n              onForceConnection={onForceConnection}\n              trigger={trigger}\n            />\n            {account &&\n              trigger &&\n              account.auth.folderPath &&\n              trigger.message.folder_to_save && (\n                <KonnectorFolder\n                  connector={connector}\n                  isFetching={isFetching}\n                  account={account}\n                  driveUrl={driveUrl}\n                  fields={fields}\n                  trigger={trigger}\n                  folders={folders}\n                  closeModal={closeModal}\n                />\n              )}\n          </TabPanel>\n\n          <TabPanel\n            name=\"account\"\n            className={styles['col-account-edit-tabpanel']}\n          >\n            <DescriptionContent\n              title={t('account.config.title', { name: connector.name })}\n              messages={[getKonnectorMessage(t, connector, 'terms')]}\n            />\n\n            {\n              <AccountLoginForm\n                connectorSlug={connector.slug}\n                disableSuccessTimeout={disableSuccessTimeout}\n                error={hasLoginError}\n                editing\n                fields={fields}\n                dirty={dirty}\n                displayAdvanced={displayAdvanced}\n                forceEnabled={!!error}\n                isOAuth={connector.oauth}\n                isUnloading={isUnloading}\n                oAuthTerminated={oAuthTerminated}\n                onSubmit={onSubmit}\n                submitting={submitting}\n                toggleAdvanced={toggleAdvanced}\n                isValid={isValid}\n                allRequiredFieldsAreFilled={allRequiredFieldsAreFilled}\n                isValidButPasswords={isValidButPasswords}\n                allRequiredFilledButPasswords={allRequiredFilledButPasswords}\n              />\n            }\n\n            {<AccountLogout deleting={deleting} onDelete={onDelete} />}\n          </TabPanel>\n\n          <TabPanel name=\"data\" className={styles['col-account-edit-tabpanel']}>\n            <AccountConnectionData connector={connector} />\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n    </div>\n  )\n}\n\nexport default translate()(KonnectorEdit)\n","import { cozyConnect } from 'redux-cozy-client'\n\nimport { fetchAccounts } from '../ducks/accounts'\nimport { fetchKonnectorJobs } from '../ducks/jobs'\nimport { fetchKonnectors } from '../ducks/konnectors'\nimport { fetchTriggers } from '../ducks/triggers'\n\nconst mapDocumentsToProps = () => ({\n  accounts: fetchAccounts(),\n  jobs: fetchKonnectorJobs(),\n  konnectors: fetchKonnectors(),\n  triggers: fetchTriggers()\n  // TODO: fetch registry\n  // registry: fetchRegistry()\n})\n\nconst appEntryPoint = (WrappedComponent, selectData) =>\n  cozyConnect(mapDocumentsToProps)(WrappedComponent, selectData)\n\nexport default appEntryPoint\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-categories-active_5f17f5e4f5aa00076d4c5a2bcf10cb44\",\n  \"use\": \"icon-categories-active_5f17f5e4f5aa00076d4c5a2bcf10cb44-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-categories-active_5f17f5e4f5aa00076d4c5a2bcf10cb44\\\">\\n    <g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <g id=\\\"icon-categories-active_5f17f5e4f5aa00076d4c5a2bcf10cb44_icons/16/categories\\\" fill=\\\"#297EF2\\\">\\n            <path d=\\\"M3.24317636,6.034 L0.671176359,4.842 C0.473176359,4.743 0.375176359,4.643 0.275176359,4.445 C0.0781763594,3.949 0.275176359,3.551 0.671176359,3.352 L7.79217636,0.075 C7.99017636,-0.025 8.18717636,-0.025 8.38617636,0.075 L15.5061764,3.352 C15.8031764,3.451 16.0001764,3.75 16.0001764,4.048 C16.0001764,4.346 15.8031764,4.643 15.5061764,4.743 L12.8361764,6.034 L12.2421764,6.332 L8.38617636,8.219 C8.15217636,8.36 7.89017636,8.325 7.69317636,8.219 C7.49517636,8.114 3.83617636,6.332 3.83617636,6.332 L3.24317636,6.034 Z M15.2724764,10.8411 C16.0524764,11.2401 15.9484764,12.1861 15.1874764,12.5971 L8.42147636,15.9001 C8.14947636,16.0331 7.83047636,16.0331 7.55747636,15.9001 L0.572476359,12.4901 C0.375476359,12.3911 0.275476359,12.2911 0.176476359,12.0931 C-0.0205236406,11.5961 0.176476359,11.1991 0.572476359,11.0001 L1.46247636,10.6031 L3.93447636,11.7951 L7.56147636,13.5251 C7.83347636,13.6541 8.14847636,13.6531 8.41847636,13.5201 L12.1434764,11.6951 L14.5164764,10.5041 L15.2724764,10.8411 Z M15.8026764,7.6234 C15.9996764,8.0204 15.8026764,8.5174 15.2086764,8.8154 L12.9346764,9.9074 L12.3406764,10.2064 L8.28267636,12.2434 C8.00467636,12.3834 7.67767636,12.3834 7.39967636,12.2434 L3.34167636,10.2064 L2.74767636,9.9074 L0.473676359,8.8154 C0.275676359,8.7154 0.176676359,8.6164 0.0776763594,8.4174 C-0.120323641,7.9214 0.0776763594,7.5234 0.473676359,7.3254 L1.75867636,6.7294 L3.93467636,7.7224 L7.56067636,9.4524 C7.83267636,9.5814 8.14867636,9.5804 8.41867636,9.4474 L12.5386764,7.4244 L14.1206764,6.6304 L15.4066764,7.2264 C15.6046764,7.3254 15.7036764,7.4244 15.8026764,7.6234 Z\\\" id=\\\"icon-categories-active_5f17f5e4f5aa00076d4c5a2bcf10cb44_Combined-Shape\\\" />\\n        </g>\\n    </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","var map = {\n\t\"./_lib/build_formatting_tokens_reg_exp/index\": \"kOWh\",\n\t\"./ar/build_distance_in_words_locale/index\": \"XxX6\",\n\t\"./ar/build_format_locale/index\": \"alis\",\n\t\"./ar/index\": \"EDRf\",\n\t\"./bg/build_distance_in_words_locale/index\": \"7K3h\",\n\t\"./bg/build_format_locale/index\": \"RrdL\",\n\t\"./bg/index\": \"isx8\",\n\t\"./ca/build_distance_in_words_locale/index\": \"wqqj\",\n\t\"./ca/build_format_locale/index\": \"qcV0\",\n\t\"./ca/index\": \"Vwa+\",\n\t\"./cs/build_distance_in_words_locale/index\": \"ZKDM\",\n\t\"./cs/build_format_locale/index\": \"ipyF\",\n\t\"./cs/index\": \"dvhP\",\n\t\"./da/build_distance_in_words_locale/index\": \"2Mgc\",\n\t\"./da/build_format_locale/index\": \"Gned\",\n\t\"./da/index\": \"7ur/\",\n\t\"./de/build_distance_in_words_locale/index\": \"5IWf\",\n\t\"./de/build_format_locale/index\": \"THCn\",\n\t\"./de/index\": \"bgw5\",\n\t\"./el/build_distance_in_words_locale/index\": \"o/GB\",\n\t\"./el/build_format_locale/index\": \"8T9h\",\n\t\"./el/index\": \"dH0v\",\n\t\"./en/build_distance_in_words_locale/index\": \"LZbM\",\n\t\"./en/build_format_locale/index\": \"6DAA\",\n\t\"./en/index\": \"Us+F\",\n\t\"./eo/build_distance_in_words_locale/index\": \"qrnn\",\n\t\"./eo/build_format_locale/index\": \"Bl15\",\n\t\"./eo/index\": \"UB7v\",\n\t\"./es/build_distance_in_words_locale/index\": \"GEfZ\",\n\t\"./es/build_format_locale/index\": \"O+zC\",\n\t\"./es/index\": \"/S0t\",\n\t\"./fi/build_distance_in_words_locale/index\": \"VHtQ\",\n\t\"./fi/build_format_locale/index\": \"Oydx\",\n\t\"./fi/index\": \"ndVD\",\n\t\"./fil/build_distance_in_words_locale/index\": \"uq4p\",\n\t\"./fil/build_format_locale/index\": \"d7hw\",\n\t\"./fil/index\": \"pNfm\",\n\t\"./fr/build_distance_in_words_locale/index\": \"IzMR\",\n\t\"./fr/build_format_locale/index\": \"I3Zg\",\n\t\"./fr/index\": \"LKA2\",\n\t\"./hr/build_distance_in_words_locale/index\": \"DPvn\",\n\t\"./hr/build_format_locale/index\": \"puw3\",\n\t\"./hr/index\": \"L9Jq\",\n\t\"./hu/build_distance_in_words_locale/index\": \"w2RQ\",\n\t\"./hu/build_format_locale/index\": \"/0iD\",\n\t\"./hu/index\": \"Nm+E\",\n\t\"./id/build_distance_in_words_locale/index\": \"JbvB\",\n\t\"./id/build_format_locale/index\": \"0wlw\",\n\t\"./id/index\": \"A6C3\",\n\t\"./is/build_distance_in_words_locale/index\": \"qzMC\",\n\t\"./is/build_format_locale/index\": \"S3yD\",\n\t\"./is/index\": \"N4bE\",\n\t\"./it/build_distance_in_words_locale/index\": \"MDEp\",\n\t\"./it/build_format_locale/index\": \"aUJd\",\n\t\"./it/index\": \"hmb4\",\n\t\"./ja/build_distance_in_words_locale/index\": \"nNvt\",\n\t\"./ja/build_format_locale/index\": \"buui\",\n\t\"./ja/index\": \"uAXs\",\n\t\"./ko/build_distance_in_words_locale/index\": \"oEw+\",\n\t\"./ko/build_format_locale/index\": \"9SQf\",\n\t\"./ko/index\": \"iW8+\",\n\t\"./mk/build_distance_in_words_locale/index\": \"nmwZ\",\n\t\"./mk/build_format_locale/index\": \"htxJ\",\n\t\"./mk/index\": \"GzBU\",\n\t\"./nb/build_distance_in_words_locale/index\": \"SL1f\",\n\t\"./nb/build_format_locale/index\": \"CJ5F\",\n\t\"./nb/index\": \"73vv\",\n\t\"./nl/build_distance_in_words_locale/index\": \"Uyu0\",\n\t\"./nl/build_format_locale/index\": \"doCD\",\n\t\"./nl/index\": \"hCQt\",\n\t\"./pl/build_distance_in_words_locale/index\": \"FUBD\",\n\t\"./pl/build_format_locale/index\": \"nOYf\",\n\t\"./pl/index\": \"B6yL\",\n\t\"./pt/build_distance_in_words_locale/index\": \"aTPA\",\n\t\"./pt/build_format_locale/index\": \"TTT0\",\n\t\"./pt/index\": \"gdks\",\n\t\"./ro/build_distance_in_words_locale/index\": \"gI+A\",\n\t\"./ro/build_format_locale/index\": \"njjO\",\n\t\"./ro/index\": \"r2yp\",\n\t\"./ru/build_distance_in_words_locale/index\": \"KmPx\",\n\t\"./ru/build_format_locale/index\": \"UUBw\",\n\t\"./ru/index\": \"nz/o\",\n\t\"./sk/build_distance_in_words_locale/index\": \"q2Bs\",\n\t\"./sk/build_format_locale/index\": \"9sxn\",\n\t\"./sk/index\": \"Wqan\",\n\t\"./sl/build_distance_in_words_locale/index\": \"mlv2\",\n\t\"./sl/build_format_locale/index\": \"vHkZ\",\n\t\"./sl/index\": \"KYSo\",\n\t\"./sv/build_distance_in_words_locale/index\": \"UNBN\",\n\t\"./sv/build_format_locale/index\": \"zTNB\",\n\t\"./sv/index\": \"hxgj\",\n\t\"./th/build_distance_in_words_locale/index\": \"XAGa\",\n\t\"./th/build_format_locale/index\": \"We2s\",\n\t\"./th/index\": \"Pk+z\",\n\t\"./tr/build_distance_in_words_locale/index\": \"aFZF\",\n\t\"./tr/build_format_locale/index\": \"jh7A\",\n\t\"./tr/index\": \"3ZWG\",\n\t\"./zh_cn/build_distance_in_words_locale/index\": \"KdB7\",\n\t\"./zh_cn/build_format_locale/index\": \"l4EP\",\n\t\"./zh_cn/index\": \"8tMq\",\n\t\"./zh_tw/build_distance_in_words_locale/index\": \"vyyr\",\n\t\"./zh_tw/build_format_locale/index\": \"uYH7\",\n\t\"./zh_tw/index\": \"QPlQ\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"nY3O\";","export const mapValues = (object, transform) => {\n  let result = {}\n  for (const key in object) {\n    result[key] = transform(object[key], key)\n  }\n  return result\n}\n\nexport const filterValues = (object, filter) => {\n  let result = {}\n  for (const key in object) {\n    if (filter(object[key], key)) {\n      result[key] = object[key]\n    }\n  }\n  return result\n}\n\nexport const removeObjectProperty = (obj, prop) => {\n  return Object.keys(obj).reduce((result, key) => {\n    if (key !== prop) {\n      result[key] = obj[key]\n    }\n    return result\n  }, {})\n}\n","// Returns an our of the day between two hours given in parameters\n// @param interval An array containing start hour as first index and end hour\n// in second index\n// @param randomize The function used to generate random values\n// @returns an object with two atributes : hours and minutes\nexport const randomDayTime = (\n  interval = [0, 1],\n  randomize = (min, max) => Math.random() * (max - min) + min\n) => {\n  if (!interval) throw new Error('Missing interval parameter')\n  if (!randomize) throw new Error('Missing randomize parameter')\n\n  if (!Array.isArray(interval)) throw new Error('interval must be an array')\n  if (interval.length !== 2) throw new Error('interval must contain two values')\n  if (typeof randomize !== 'function')\n    throw new Error('randomize must be a function')\n\n  const [start, end] = interval\n\n  if (start < 0 || end > 24) throw new Error('interval must be inside [0, 24]')\n\n  const r = randomize(start, end)\n  const hours = Math.floor(r)\n  const minutes = Math.floor((r - hours) * 60)\n\n  if (hours < 0 || hours > 23)\n    throw new Error('randomize function returns inconsistent hour value')\n  if (minutes < 0 || minutes > 59)\n    throw new Error('randomize function returns inconsistent minute value')\n\n  return { hours, minutes }\n}\n","import { combineReducers } from 'redux'\nimport { getTracker } from 'cozy-ui/react/helpers/tracker'\nimport { getDocument, createDocument, fetchCollection } from '../reducer'\n\nexport const FETCH_SHARINGS = 'FETCH_SHARINGS'\nconst RECEIVE_SHARINGS_DATA = 'RECEIVE_SHARINGS_DATA'\nconst RECEIVE_FETCH_SHARINGS_ERROR = 'RECEIVE_FETCH_SHARINGS_ERROR'\nconst CREATE_SHARING = 'CREATE_SHARING'\nconst RECEIVE_NEW_SHARING = 'RECEIVE_NEW_SHARING'\nconst CREATE_SHARING_LINK = 'CREATE_SHARING_LINK'\nconst RECEIVE_NEW_SHARING_LINK = 'RECEIVE_NEW_SHARING_LINK'\nconst REVOKE_SHARING_LINK = 'REVOKE_SHARING_LINK'\nconst RECEIVE_SHARING_LINK_REVOKE = 'RECEIVE_SHARING_LINK_REVOKE'\nconst REVOKE_SHARING = 'REVOKE_SHARING'\nconst RECEIVE_SHARING_REVOKE = 'RECEIVE_SHARING_REVOKE'\nconst RECEIVE_ERROR = 'RECEIVE_ERROR'\n\nconst removeRecipient = (recipients, recipientId) => {\n  const idx = recipients.findIndex(r => r.recipient.id === recipientId)\n  return [...recipients.slice(0, idx), ...recipients.slice(idx + 1)]\n}\n\nconst documents = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVE_SHARINGS_DATA:\n      return action.response.sharings\n    case RECEIVE_NEW_SHARING:\n      return [...state, action.response]\n    case RECEIVE_SHARING_REVOKE: {\n      const idx = state.findIndex(\n        s => s.attributes.sharing_id === action.sharingId\n      )\n      if (idx === -1) return state\n      const sharing = state[idx]\n      const loneRecipient =\n        sharing.attributes.recipients === undefined || // for recipient-side revocation\n        sharing.attributes.recipients.length === 1\n      const newState = loneRecipient\n        ? { ...sharing, attributes: { ...sharing.attributes, revoked: true } }\n        : {\n            ...sharing,\n            attributes: {\n              ...sharing.attributes,\n              recipients: removeRecipient(\n                sharing.attributes.recipients,\n                action.recipientId\n              )\n            }\n          }\n      return [...state.slice(0, idx), newState, ...state.slice(idx + 1)]\n    }\n    default:\n      return state\n  }\n}\n\nconst doctypePermsetInitialState = {\n  fetchStatus: 'loading',\n  byMe: [],\n  byLink: [],\n  withMe: []\n}\n\nconst permissions = (state = {}, action) => {\n  let idx\n  switch (action.type) {\n    case FETCH_SHARINGS:\n      if (state[action.doctype]) {\n        return {\n          ...state,\n          [action.doctype]: { ...state[action.doctype], fetchStatus: 'loading' }\n        }\n      }\n      return { ...state, [action.doctype]: doctypePermsetInitialState }\n    case RECEIVE_SHARINGS_DATA:\n      return {\n        ...state,\n        [action.doctype]: {\n          fetchStatus: 'loaded',\n          ...action.response.permissions\n        }\n      }\n    case RECEIVE_FETCH_SHARINGS_ERROR:\n      return { ...state, [action.doctype]: { fetchStatus: 'error' } }\n    case RECEIVE_NEW_SHARING:\n      return {\n        ...state,\n        [action.doctype]: {\n          ...state[action.doctype],\n          byMe: [\n            ...state[action.doctype].byMe,\n            {\n              attributes: {\n                permissions: {\n                  rule0: { type: action.doctype, values: [action.id] }\n                },\n                source_id: action.response.attributes.sharing_id,\n                type: 'io.cozy.sharings'\n              }\n            }\n          ]\n        }\n      }\n    case RECEIVE_NEW_SHARING_LINK:\n      return {\n        ...state,\n        [action.doctype]: {\n          ...state[action.doctype],\n          byLink: [...state[action.doctype].byLink, action.response]\n        }\n      }\n    case REVOKE_SHARING_LINK:\n      idx = state[action.doctype].byLink.findIndex(\n        p => action.permission._id === p._id\n      )\n      if (idx === -1) return state\n      return {\n        ...state,\n        [action.doctype]: {\n          ...state[action.doctype],\n          byLink: [\n            ...state[action.doctype].byLink.slice(0, idx),\n            ...state[action.doctype].byLink.slice(idx + 1)\n          ]\n        }\n      }\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({ documents, permissions })\n\n// actions\nexport const fetchSharings = (doctype, id = null, options = {}) => ({\n  types: [FETCH_SHARINGS, RECEIVE_SHARINGS_DATA, RECEIVE_FETCH_SHARINGS_ERROR],\n  doctype,\n  id,\n  options,\n  promise: client => client.fetchSharings(doctype)\n})\n\nexport const share = (\n  document,\n  recipients,\n  sharingType,\n  sharingDesc\n) => async dispatch => {\n  const recipientIds = await Promise.all(\n    recipients.map(\n      recipient =>\n        recipient.id ||\n        dispatch(createContact(recipient)).then(c => c.data[0].id)\n    )\n  )\n  trackSharingByEmail(document)\n  return dispatch(\n    createSharing(document, recipientIds, sharingType, sharingDesc)\n  )\n}\n\nexport const unshare = (document, recipient) => async (dispatch, getState) => {\n  const sharing = getSharingForRecipient(getState(), document, recipient)\n  const loneRecipient = sharing.attributes.recipients.length === 1\n  return dispatch({\n    types: [REVOKE_SHARING, RECEIVE_SHARING_REVOKE, RECEIVE_ERROR],\n    doctype: document._type,\n    id: document._id,\n    sharingId: sharing.attributes.sharing_id,\n    recipientId: recipient._id,\n    promise: client =>\n      loneRecipient\n        ? client.revokeSharing(sharing.attributes.sharing_id)\n        : client.revokeSharingForClient(\n            sharing.attributes.sharing_id,\n            sharing.attributes.recipients.find(\n              r => r.recipient.id === recipient._id\n            ).Client.client_id\n          )\n  })\n}\n\nexport const leave = document => async (dispatch, getState) => {\n  const sharings = getDocumentActiveSharings(\n    getState(),\n    document._type,\n    document._id\n  )\n  const sharing = sharings.find(s => s.attributes.owner === false)\n  return dispatch({\n    types: [REVOKE_SHARING, RECEIVE_SHARING_REVOKE, RECEIVE_ERROR],\n    doctype: document._type,\n    id: document._id,\n    sharingId: sharing.attributes.sharing_id,\n    promise: client => client.revokeSharing(sharing.attributes.sharing_id)\n  })\n}\n\nexport const shareByLink = document => {\n  trackSharingByLink(document)\n  return createSharingLink(document)\n}\n\nexport const revokeLink = document => async (dispatch, getState) => {\n  const perm = getSharingLinkPermission(\n    getState(),\n    document._type,\n    document._id\n  )\n  return dispatch({\n    types: [REVOKE_SHARING_LINK, RECEIVE_SHARING_LINK_REVOKE, RECEIVE_ERROR],\n    doctype: document._type,\n    id: document._id,\n    permission: perm,\n    promise: client => client.revokeSharingLink(perm)\n  })\n}\n\nconst createSharing = (\n  document,\n  contactIds,\n  sharingType = 'master-slave',\n  description = ''\n) => ({\n  types: [CREATE_SHARING, RECEIVE_NEW_SHARING, RECEIVE_ERROR],\n  doctype: document._type,\n  id: document._id,\n  promise: client =>\n    client.createSharing(\n      getPermissionsFor(document),\n      contactIds,\n      sharingType,\n      description\n    )\n})\n\nconst createSharingLink = document => ({\n  types: [CREATE_SHARING_LINK, RECEIVE_NEW_SHARING_LINK, RECEIVE_ERROR],\n  doctype: document._type,\n  id: document._id,\n  promise: client => client.createSharingLink(getPermissionsFor(document, true))\n})\n\n// TODO: this is a poor man's migration in order to normalize contacts\n// and should be removed after a few weeks in prod\n// Note for future-self: If you have no idea of what it means, please, erase this code.\n// Note for time-travelers: please travel a little more back in time in order to advise us\n// to get contacts right the first time\nexport const fetchContacts = () => {\n  const action = fetchCollection('contacts', 'io.cozy.contacts')\n  action.promise = async client => {\n    const response = await client.fetchCollection(\n      'contacts',\n      'io.cozy.contacts'\n    )\n    const data = await Promise.all(\n      response.data.map(contact => {\n        return typeof contact.email !== 'string'\n          ? contact\n          : client\n              .updateDocument({\n                ...contact,\n                email: [\n                  {\n                    address: contact.email,\n                    primary: true\n                  }\n                ]\n              })\n              .then(resp => resp.data[0])\n      })\n    )\n\n    return { ...response, data }\n  }\n  return action\n}\n\nconst createContact = ({ email }) =>\n  createDocument('io.cozy.contacts', {\n    email: [{ address: email, primary: true }]\n  })\n\nconst getPermissionsFor = (document, publicLink = false) => {\n  const { _id, _type } = document\n  const verbs = publicLink ? ['GET'] : ['ALL']\n  // TODO: this works for albums, but it needs to be generalized and integrated\n  // with cozy-client ; some sort of doctype \"schema\" will be needed here\n  return isFile(document)\n    ? {\n        files: {\n          type: 'io.cozy.files',\n          verbs,\n          values: [_id]\n        }\n      }\n    : {\n        collection: {\n          type: _type,\n          verbs,\n          values: [_id]\n        },\n        files: {\n          type: 'io.cozy.files',\n          verbs,\n          values: [`${_type}/${_id}`],\n          selector: 'referenced_by'\n        }\n      }\n}\n\n// selectors\nconst getSharing = (state, id) =>\n  state.cozy.sharings.documents.find(s => s.attributes.sharing_id === id)\nconst getContact = (state, id) => getDocument(state, 'io.cozy.contacts', id)\nconst getDoctypePermissions = (state, doctype) => {\n  if (state.cozy.sharings.permissions[doctype]) {\n    return state.cozy.sharings.permissions[doctype]\n  }\n  return doctypePermsetInitialState\n}\n\nconst getSharingLink = (state, doctype, id) => {\n  const perm = getSharingLinkPermission(state, doctype, id)\n  return perm\n    ? buildSharingLink(id, doctype, perm.attributes.codes.email)\n    : null\n}\n\nconst getSharingLinkPermission = (state, doctype, id) => {\n  const perms = getDoctypePermissions(state, doctype)\n  const type = isFile({ _type: doctype }) ? 'files' : 'collection'\n  return perms.byLink.find(\n    p => p.attributes.permissions[type].values.indexOf(id) !== -1\n  )\n}\n\nconst getSharingForRecipient = (state, document, recipient) => {\n  const sharings = getDocumentActiveSharings(\n    state,\n    document._type,\n    document._id\n  )\n  return sharings.find(s =>\n    s.attributes.recipients.find(r => r.recipient.id === recipient._id)\n  )\n}\n\nconst getDocumentActiveSharings = (state, doctype, id) => {\n  const perms = getDoctypePermissions(state, doctype)\n  return [\n    ...perms.byMe.filter(\n      perm => perm.attributes.permissions['rule0'].values.indexOf(id) !== -1\n    ),\n    ...perms.withMe.filter(\n      perm => perm.attributes.permissions['rule0'].values.indexOf(id) !== -1\n    )\n  ]\n    .map(p => getSharing(state, p.attributes.source_id))\n    .filter(s => !s.attributes.revoked)\n}\n\nexport const getSharings = (state, doctype) => {\n  const perms = getDoctypePermissions(state, doctype)\n  const type = doctype === 'io.cozy.files' ? 'files' : 'collection'\n  return {\n    byMe: perms.byMe.map(p => p.attributes.permissions['rule0'].values[0]),\n    withMe: perms.withMe.map(p => p.attributes.permissions['rule0'].values[0]),\n    byLink: perms.byLink.map(p => p.attributes.permissions[type].values[0])\n  }\n}\n\nexport const getSharingStatus = (state, doctype, id) => {\n  const sharings = getDocumentActiveSharings(state, doctype, id)\n  return {\n    shared: sharings.length !== 0,\n    owner:\n      sharings.length === 0 || sharings.some(s => s.attributes.owner === true),\n    sharingType: sharings.some(\n      s => s.attributes.sharing_type === 'master-master'\n    )\n      ? 'master-master'\n      : 'master-slave',\n    sharings\n  }\n}\n\nexport const getSharingDetails = (state, doctype, id) => {\n  const { shared, owner, sharingType, sharings } = getSharingStatus(\n    state,\n    doctype,\n    id\n  )\n  const sharingLink = getSharingLink(state, doctype, id)\n  return {\n    shared,\n    owner,\n    sharingType,\n    sharingLink,\n    sharer:\n      shared && !owner\n        ? { name: 'John Doe', url: sharings[0].attributes.sharer.url }\n        : null,\n    readOnly: !owner && sharingType === 'master-slave',\n    recipients: shared && owner ? getSharingRecipients(state, sharings) : [],\n    byMe: shared && owner === true,\n    withMe: shared && !owner,\n    byLink: !!sharingLink\n  }\n}\n\nconst getSharingRecipients = (state, sharings) =>\n  sharings\n    .filter(sharing => sharing.attributes.recipients)\n    .map(sharing =>\n      sharing.attributes.recipients.map(info => ({\n        contact: getContact(state, info.recipient.id),\n        status: info.status,\n        type: sharing.attributes.sharing_type\n      }))\n    )\n    .reduce((a, b) => a.concat(b), [])\n\nconst buildSharingLink = (id, doctype, sharecode) =>\n  `${window.location.origin}/public?sharecode=${sharecode}&id=${id}${\n    doctype === 'file' ? '&directdownload' : ''\n  }`\n\n// helpers\nconst isFile = ({ _type, type }) =>\n  _type === 'io.cozy.files' || type === 'directory' || type === 'file'\n\nconst track = (document, action) => {\n  const tracker = getTracker()\n  if (!tracker) {\n    return\n  }\n  tracker.push([\n    'trackEvent',\n    isFile(document) ? 'Drive' : 'Photos',\n    action,\n    `${action}${isFile(document) ? 'File' : 'Album'}`\n  ])\n}\nconst trackSharingByLink = document => track(document, 'shareByLink')\nconst trackSharingByEmail = document => track(document, 'shareByEmail')\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-commit_dab1551baf52e9c8921f860b47c9a629\",\n  \"use\": \"icon-commit_dab1551baf52e9c8921f860b47c9a629-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-commit_dab1551baf52e9c8921f860b47c9a629\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-384 -96)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(385 101)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <g stroke=\\\"#95999D\\\">\\n        <path d=\\\"M28.0254 5C28.0254 5.554 27.5774 6 27.0254 6 26.4734 6 26.0254 5.554 26.0254 5 26.0254 4.45 26.4734 4 27.0254 4 27.5774 4 28.0254 4.45 28.0254 5L28.0254 5zM34.0254 5C34.0254 5.554 33.5774 6 33.0254 6 32.4734 6 32.0254 5.554 32.0254 5 32.0254 4.45 32.4734 4 33.0254 4 33.5774 4 34.0254 4.45 34.0254 5L34.0254 5zM40.0254 5C40.0254 5.554 39.5774 6 39.0254 6 38.4734 6 38.0254 5.554 38.0254 5 38.0254 4.45 38.4734 4 39.0254 4 39.5774 4 40.0254 4.45 40.0254 5L40.0254 5z\\\" />\\n        <polygon points=\\\"46.026 38 .026 38 .026 0 46.026 0\\\" />\\n        <path d=\\\"M0.0254,10 L46.0254,10\\\" />\\n      </g>\\n      <g stroke=\\\"currentColor\\\" transform=\\\"translate(12 16)\\\">\\n        <polyline points=\\\".025 0 5.025 5 .025 10\\\" />\\n        <path d=\\\"M12.0254,6 L20.0254,6\\\" />\\n      </g>\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import * as fromCozyClient from 'redux-cozy-client'\n\nexport const DOCTYPE = 'io.cozy.triggers'\nconst HOURLY_FREQUENCY = 'hourly'\nconst DAILY_FREQUENCY = 'daily'\nconst WEEKLY_FREQUENCY = 'weekly'\nconst MONTHLY_FREQUENCY = 'monthly'\nconst VALID_FREQUENCIES = [\n  HOURLY_FREQUENCY,\n  DAILY_FREQUENCY,\n  WEEKLY_FREQUENCY,\n  MONTHLY_FREQUENCY\n]\nconst DEFAULT_FREQUENCY = WEEKLY_FREQUENCY\n\nconst triggersCollectionKey = 'triggers'\n\n// CRUD action creators\n\nexport const fetchTriggers = () =>\n  fromCozyClient.fetchTriggers(triggersCollectionKey, 'konnector')\n\nexport const createKonnectorTrigger = (\n  konnector,\n  account,\n  folder,\n  options = {}\n) =>\n  fromCozyClient.createTrigger(\n    buildKonnectorTrigger(konnector, account, folder, options),\n    {\n      updateCollections: [triggersCollectionKey]\n    }\n  )\n\nexport const launchTrigger = trigger => fromCozyClient.launchTrigger(trigger)\n\n// Helpers\n\nconst parseFrequency = frequency =>\n  frequency && VALID_FREQUENCIES.includes(frequency)\n    ? frequency\n    : DEFAULT_FREQUENCY\n\nexport const buildTriggerFrequencyOptions = (konnector, options) => {\n  const { startDate, hours, minutes } = options\n\n  const frequencyOptions = {\n    minutes,\n    frequency: parseFrequency(konnector.frequency)\n  }\n\n  if (frequencyOptions.frequency === DAILY_FREQUENCY) {\n    return {\n      ...frequencyOptions,\n      hours\n    }\n  }\n\n  if (frequencyOptions.frequency === WEEKLY_FREQUENCY) {\n    return {\n      ...frequencyOptions,\n      hours,\n      dayOfWeek: startDate.getDay()\n    }\n  }\n\n  if (frequencyOptions.frequency === MONTHLY_FREQUENCY) {\n    return {\n      ...frequencyOptions,\n      hours,\n      dayOfMonth: startDate.getDate()\n    }\n  }\n\n  return frequencyOptions\n}\n\nfunction isInteger(value) {\n  return (\n    typeof value === 'number' &&\n    Math.floor(value) === value &&\n    parseInt(value, 10) === value\n  )\n}\n\nexport function buildKonnectorTrigger(\n  konnector,\n  account,\n  folder,\n  options = {}\n) {\n  const {\n    dayOfMonth,\n    dayOfWeek,\n    hours,\n    minutes\n  } = buildTriggerFrequencyOptions(konnector, options)\n\n  let workerArguments = {\n    konnector: konnector.slug || konnector.attributes.slug,\n    account: account._id\n  }\n\n  if (folder) {\n    workerArguments['folder_to_save'] = folder._id\n  }\n\n  return {\n    _type: DOCTYPE,\n    attributes: {\n      type: '@cron',\n      arguments: `0 ${isInteger(minutes) ? minutes : 0} ${\n        isInteger(hours) ? hours : '*'\n      } ${isInteger(dayOfMonth) ? dayOfMonth : '*'} * ${\n        isInteger(dayOfWeek) ? dayOfWeek : '*'\n      }`,\n      worker: 'konnector',\n      worker_arguments: workerArguments\n    }\n  }\n}\n\n// selectors\nexport const getKonnectorTriggers = (\n  state,\n  konnector,\n  existingAccountIds = []\n) => {\n  return (\n    (!!state.documents[DOCTYPE] &&\n      Object.values(state.documents[DOCTYPE]).filter(trigger => {\n        return (\n          trigger.worker === 'konnector' &&\n          trigger.message &&\n          trigger.message.konnector === konnector.slug &&\n          trigger.message.account &&\n          existingAccountIds.includes(trigger.message.account)\n        )\n      })) ||\n    []\n  )\n}\n\nexport const getTrigger = (state, id) =>\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  state.documents[DOCTYPE][id]\n","import styles from '../styles/KonnectorSync'\n\nimport React from 'react'\nimport classNames from 'classnames'\nimport DateFns from 'date-fns'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport DescriptionContent from './DescriptionContent'\n\nfunction getDateLabel({ date, t, f }) {\n  return f(DateFns.parse(date), t('account.message.synced.date_format'))\n}\n\nconst months = [\n  'Jan',\n  'Feb',\n  'Mar',\n  'Apr',\n  'May',\n  'Jun',\n  'Jul',\n  'Aug',\n  'Sep',\n  'Oct',\n  'Nov',\n  'Dec'\n]\nconst dows = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n\nconst humanCron = cronSpec => {\n  try {\n    const [, minute, hour, , month, dayOfWeek] = cronSpec.split(' ')\n    const timePart =\n      hour !== '*' && minute !== '*'\n        ? `at ${hour}:${minute}`\n        : hour !== '*'\n          ? `${hour}h`\n          : `Any hour on ${minute}minute`\n    const monthPart = month !== '*' ? `during ${months[month]}` : ''\n    const dowPart = dayOfWeek !== '*' ? `on ${dows[dayOfWeek]}` : ''\n    return [timePart, monthPart, dowPart].join(' ')\n  } catch (e) {\n    return JSON.stringify(e)\n  }\n}\n\nexport const KonnectorSync = ({\n  t,\n  f,\n  frequency,\n  lastSuccessDate,\n  maintenance,\n  submitting,\n  onForceConnection,\n  trigger\n}) => {\n  const lastSyncMessage =\n    (submitting && t('account.message.synced.syncing')) ||\n    (!lastSuccessDate && t('account.message.synced.unknown')) ||\n    (lastSuccessDate && getDateLabel({ date: lastSuccessDate, t, f })) ||\n    null\n  return (\n    <div title={`Scheduled execution : ${humanCron(trigger.arguments)}`}>\n      {\n        <DescriptionContent\n          title={t('account.message.synced.title')}\n          messages={[\n            lastSyncMessage\n              ? t('account.message.synced.last_sync', { date: lastSyncMessage })\n              : '',\n            t('account.message.synced.cron', {\n              frequency: t(`account.message.synced.cron_${frequency}`)\n            })\n          ]}\n        />\n      }\n      {!maintenance && (\n        <button\n          className={\n            submitting\n              ? classNames(\n                  styles['account-forceConnection'],\n                  styles['submitting']\n                )\n              : classNames(styles['account-forceConnection'])\n          }\n          disabled={submitting}\n          aria-busy={submitting}\n          onClick={onForceConnection}\n        >\n          {t('account.forceConnection')}\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default translate()(KonnectorSync)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"account-forceConnection\":\"account-forceConnection--YXGal\",\"submitting\":\"submitting--2n5le\",\"spin\":\"spin--3YVqr\"};","import DateFns from 'date-fns'\nconst DOCTYPE = 'io.cozy.jobs'\n\n// CRUD\n\nexport const fetchKonnectorJobs = () => {}\n\n// selectors\n\nexport const getTriggerLastJob = (state, trigger) => {\n  // state is state.cozy\n  if (!state.documents || !state.documents[DOCTYPE] || !trigger) return null\n  return Object.values(state.documents[DOCTYPE]).reduce(\n    (lastestJob, currentJob) => {\n      if (currentJob.trigger_id !== trigger._id) return lastestJob\n      if (!lastestJob) return currentJob\n      return DateFns.isAfter(currentJob.started_at, lastestJob.started_at)\n        ? currentJob\n        : lastestJob\n    },\n    null\n  )\n}\n\nexport const isJobRunning = (state, job) =>\n  !!job && ['queued', 'running'].includes(job.state)\n","const START_SYNC = 'START_SYNC'\nconst START_DOCTYPE_SYNC = 'START_DOCTYPE_SYNC'\nconst SYNC_DOCTYPE_OK = 'SYNC_DOCTYPE_OK'\nconst SYNC_DOCTYPE_ERROR = 'SYNC_DOCTYPE_ERROR'\n\nconst doctypeSyncInitialState = {\n  syncStatus: 'pending',\n  lastSync: null,\n  seqNumber: 0\n}\n\nconst doctypeSync = (state = doctypeSyncInitialState, action) => {\n  switch (action.type) {\n    case START_DOCTYPE_SYNC:\n      return {\n        ...state,\n        syncStatus: 'syncing',\n        seqNumber: action.seqNumber\n      }\n    case SYNC_DOCTYPE_OK:\n      return {\n        ...state,\n        syncStatus: 'done',\n        lastSync: Date.now()\n      }\n    case SYNC_DOCTYPE_ERROR:\n      return {\n        ...state,\n        syncStatus: 'error',\n        lastSync: Date.now()\n      }\n    default:\n      return state\n  }\n}\n\nconst synchronization = (state = {}, action) => {\n  switch (action.type) {\n    case START_DOCTYPE_SYNC:\n    case SYNC_DOCTYPE_OK:\n    case SYNC_DOCTYPE_ERROR:\n      return {\n        ...state,\n        [action.doctype]: doctypeSync(state[action.doctype], action)\n      }\n    default:\n      return state\n  }\n}\n\nexport default synchronization\n\nexport const startSync = () => async dispatch => {\n  return dispatch({\n    type: START_SYNC,\n    promise: client => client.startSync(dispatch)\n  })\n}\n\nexport const startDoctypeSync = (doctype, seqNumber = 0) => ({\n  type: START_DOCTYPE_SYNC,\n  doctype,\n  seqNumber\n})\n\nexport const syncDoctypeOk = (doctype, infos) => ({\n  type: SYNC_DOCTYPE_OK,\n  doctype,\n  infos\n})\n\nexport const syncDoctypeError = (doctype, error) => ({\n  type: SYNC_DOCTYPE_ERROR,\n  doctype,\n  error\n})\n\nexport const isFirstSync = state => {\n  const seqNumbers = Object.keys(state.cozy.synchronization).map(\n    doctype => state.cozy.synchronization[doctype].seqNumber\n  )\n  return seqNumbers.every(number => number === 0)\n}\n\nexport const isSynced = state => {\n  const timestamps = Object.keys(state.cozy.synchronization).map(\n    doctype => state.cozy.synchronization[doctype].lastSync\n  )\n  return timestamps.every(ts => ts !== null)\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-geopoint_4cfe48fdbe5a18a3609bcf948fbccde6\",\n  \"use\": \"icon-geopoint_4cfe48fdbe5a18a3609bcf948fbccde6-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-geopoint_4cfe48fdbe5a18a3609bcf948fbccde6\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-192 -480)\\\">\\n    <g transform=\\\"translate(193 481)\\\">\\n      <path fill=\\\"#FCBFBF\\\" d=\\\"M46,23 C46,35.704 35.702,46 23,46 C10.296,46 0,35.704 0,23 C0,10.3 10.296,0 23,0 C35.702,0 46,10.3 46,23 L46,23 Z\\\" />\\n      <polygon fill=\\\"#F62C2C\\\" points=\\\"20 38 20 26 8 26 33 13\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-podcast_83fb178a704a7e966dec2464705848bc\",\n  \"use\": \"icon-podcast_83fb178a704a7e966dec2464705848bc-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-podcast_83fb178a704a7e966dec2464705848bc\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-192 -288)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(192 289)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <path stroke=\\\"#9AE6B3\\\" d=\\\"M40.6132,38.8984 C44.5672,34.7664 46.9992,29.1664 46.9992,23.0004 C46.9992,10.2964 36.7032,0.000400000001 23.9992,0.000400000001 C11.2972,0.000400000001 0.9992,10.2964 0.9992,23.0004 C0.9992,29.1664 3.4332,34.7664 7.3872,38.8984\\\" />\\n      <path stroke=\\\"#9AE6B3\\\" d=\\\"M11.8164,31.7266 C10.0504,29.2666 9.0004,26.2586 9.0004,23.0006 C9.0004,14.7166 15.7144,8.0006 24.0004,8.0006 C32.2824,8.0006 39.0004,14.7166 39.0004,23.0006 C39.0004,26.2586 37.9484,29.2666 36.1844,31.7266\\\" />\\n      <path stroke=\\\"#9AE6B3\\\" d=\\\"M17.0156,23.3066 C17.0116,23.2026 16.9996,23.1006 16.9996,23.0006 C16.9996,19.0846 20.1996,16.0006 23.9996,16.0006 C27.8076,16.0006 30.9996,19.0906 30.9996,23.0006 C30.9996,23.1006 30.9876,23.2026 30.9836,23.3066\\\" />\\n      <polygon fill=\\\"#35CE68\\\" stroke=\\\"#35CE68\\\" points=\\\"14 46 34 46 24 26\\\" />\\n      <path stroke=\\\"#35CE68\\\" d=\\\"M24,26 L24,22\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-heartbeat_4b6bbb69e9fc1e7f32fb4edbce634b97\",\n  \"use\": \"icon-heartbeat_4b6bbb69e9fc1e7f32fb4edbce634b97-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-heartbeat_4b6bbb69e9fc1e7f32fb4edbce634b97\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-192 -96)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(193 97)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <polyline stroke=\\\"currentColor\\\" points=\\\"0 9 12 9 15 5 19 10.996 24 .996 28 15 31 9 46 9\\\" transform=\\\"translate(0 18)\\\" />\\n      <g stroke=\\\"#95999D\\\" transform=\\\"translate(2)\\\">\\n        <path d=\\\"M39.5098 22.996C41.0298 19.788 41.9998 16.45 41.9998 13.148 41.9998-2.238 23.3678-3.422 20.9998 11.964 18.6338-3.422-.0002-2.238-.0002 14.33-.0002 17.33.6958 20.24 1.8218 22.996M6.461 30.996C12.633 39.246 21.001 44.788 21.001 44.788 21.001 44.788 28.513 38.966 34.553 30.996\\\" />\\n      </g>\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import * as fromCozyClient from 'redux-cozy-client'\n\nexport const DOCTYPE = 'io.cozy.konnectors'\nconst konnectorsCollectionKey = 'konnectors'\n\n// CRUD\n\nexport const fetchKonnectors = () =>\n  fromCozyClient.fetchKonnectors(konnectorsCollectionKey)\n\n// TODO: Fetch the registry\nexport const fetchKonnectorsInMaintenance = () =>\n  require('../../config/maintenance')\n\n// Action creators\nexport const receiveInstalledKonnector = konnector => {\n  const normalized = {\n    ...konnector,\n    ...konnector.attributes,\n    id: `${DOCTYPE}/${konnector.slug}`,\n    _type: DOCTYPE\n  }\n\n  return {\n    doctype: DOCTYPE,\n    type: 'RECEIVE_NEW_DOCUMENT',\n    response: { data: [normalized] },\n    updateCollections: ['konnectors']\n  }\n}\n\n// Selectors\nexport const getKonnector = (state, slug) =>\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  state.documents[DOCTYPE][`${DOCTYPE}/${slug}`]\n\nexport const getKonnectorsByCategory = (state, category) =>\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  Object.keys(state.documents[DOCTYPE]).reduce((konnectors, slug) => {\n    return state.documents[DOCTYPE][slug].category === category\n      ? konnectors.concat([state.documents[DOCTYPE][slug]])\n      : konnectors\n  }, [])\n\nexport const getInstalledKonnectors = state =>\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  Object.values(state.documents[DOCTYPE])\n\nexport const getIndexedKonnectors = state =>\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  Object.keys(state.documents[DOCTYPE]).reduce((indexed, key) => {\n    const konnector = state.documents[DOCTYPE][key]\n    indexed[konnector.slug] = konnector\n    return indexed\n  }, {})\n\nexport const getSlugs = state =>\n  !!state &&\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  Object.values(state.documents[DOCTYPE]).map(konnector => konnector.slug)\n","module.exports = \"/img/connecting-data-in-progress.svg\";","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-money_be3c019834fc5d9e32b5a9c511b8d326\",\n  \"use\": \"icon-money_be3c019834fc5d9e32b5a9c511b8d326-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-money_be3c019834fc5d9e32b5a9c511b8d326\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-96 -384)\\\">\\n    <g transform=\\\"translate(96 384.75)\\\">\\n      <path fill=\\\"#FF9126\\\" d=\\\"M9.001,26.252 L1.001,26.252 C0.449,26.252 0.001,26.7 0.001,27.252 L0.001,42.252 C0.001,42.802 0.449,43.252 1.001,43.252 L9.001,43.252 C9.551,43.252 10.001,42.802 10.001,42.252 L10.001,27.252 C10.001,26.7 9.551,26.252 9.001,26.252\\\" />\\n      <path fill=\\\"#FFE2A1\\\" d=\\\"M47.708,34.543 C45.36,32.197 43.334,31.543 40.684,32.303 L34.668,34.299 C34.722,34.613 34.75,34.931 34.75,35.251 C34.75,36.531 34.334,37.737 33.582,38.641 C32.704,39.693 31.466,40.251 30,40.251 L20,40.251 C19.448,40.251 19,39.803 19,39.251 C19,38.699 19.448,38.251 20,38.251 L30,38.251 C30.864,38.251 31.552,37.951 32.044,37.361 C32.494,36.823 32.75,36.055 32.75,35.251 C32.75,34.137 32.17,32.251 30,32.251 L24.406,32.251 L24,32.251 C23.736,32.251 23.482,32.147 23.294,31.959 C22.376,31.041 19.586,28.251 15,28.251 L12,28.251 C11.448,28.251 11,28.699 11,29.251 L11,40.251 C11,40.681 11.276,41.065 11.684,41.199 C14.806,42.241 17.248,43.127 19.206,43.841 C23.062,45.243 25.22,46.001 27.144,46.001 C29.438,46.001 31.4,44.923 35.498,42.583 C38.21,41.031 41.922,38.909 47.448,36.147 C47.736,36.001 47.936,35.729 47.988,35.411 C48.038,35.095 47.934,34.771 47.708,34.543\\\" />\\n      <path fill=\\\"#FF9126\\\" d=\\\"M34.001,14.252 C30.141,14.252 27.001,11.112 27.001,7.252 C27.001,3.39 30.141,0.252 34.001,0.252 C37.861,0.252 41.001,3.39 41.001,7.252 C41.001,11.112 37.861,14.252 34.001,14.252 Z M25.001,28.252 C21.141,28.252 18.001,25.112 18.001,21.252 C18.001,17.39 21.141,14.252 25.001,14.252 C28.861,14.252 32.001,17.39 32.001,21.252 C32.001,25.112 28.861,28.252 25.001,28.252 Z\\\" />\\n      <path fill=\\\"#FFE2A1\\\" d=\\\"M33.001,5.252 C33.001,4.7 33.449,4.252 34.001,4.252 C34.551,4.252 35.001,4.7 35.001,5.252 L35.001,9.252 C35.001,9.802 34.551,10.252 34.001,10.252 C33.449,10.252 33.001,9.802 33.001,9.252 L33.001,5.252 Z M24.001,19.252 C24.001,18.7 24.449,18.252 25.001,18.252 C25.551,18.252 26.001,18.7 26.001,19.252 L26.001,23.252 C26.001,23.802 25.551,24.252 25.001,24.252 C24.449,24.252 24.001,23.802 24.001,23.252 L24.001,19.252 Z\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","const cozyMiddleware = client => ({ dispatch }) => {\n  return next => action => {\n    const { promise, type, types, ...rest } = action\n    if (!promise) {\n      return next(action)\n    }\n\n    if (!type && !types) {\n      return promise(client).then(action => dispatch(action))\n    }\n\n    if (type) {\n      return promise(client).then(response => {\n        next({ ...rest, response, type })\n        return response\n      })\n    }\n\n    const [REQUEST, SUCCESS, FAILURE] = types\n    next({ ...rest, type: REQUEST })\n\n    return promise(client)\n      .then(\n        response => {\n          next({ ...rest, response, type: SUCCESS })\n          return response\n        },\n        error => {\n          console.log(error) // eslint-disable-line no-console\n          next({ ...rest, error, type: FAILURE })\n        }\n      )\n      .catch(error => {\n        console.error('MIDDLEWARE ERROR:', error) // eslint-disable-line no-console\n        next({ ...rest, error, type: FAILURE })\n      })\n  }\n}\n\nexport default cozyMiddleware\n","/* global cozy */\nimport styles from '../styles/accountConnection'\n\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport collectConfig from 'config/collect'\nimport {\n  deleteConnection,\n  getConnectionError,\n  isConnectionConnected,\n  isConnectionDeleting,\n  isConnectionEnqueued,\n  launchTriggerAndQueue\n} from '../ducks/connections'\nimport { fetchAccount } from '../ducks/accounts'\n\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport KonnectorInstall from '../components/KonnectorInstall'\nimport KonnectorEdit from '../components/KonnectorEdit'\nimport { popupCenter, waitForClosedPopup } from '../lib/popup'\nimport { getRandomKeyString } from '../lib/helpers'\nimport statefulForm from '../lib/statefulForm'\n\nimport moment from 'moment'\n\nconst sanitizeDate = (date, localeFormat) => {\n  const sanitizedFormat = 'YYYY-MM-DD'\n  const isAlreadySanitized = moment(date, sanitizedFormat, true).isValid()\n  if (isAlreadySanitized) return date\n  const momentDate = moment(date, localeFormat, true)\n  if (!momentDate.isValid()) throw new Error('Invalid date')\n  return momentDate.format(sanitizedFormat)\n}\n\nconst sanitizeDates = (values, fields, localeFormat) => {\n  const sanitizedValues = { ...values }\n  Object.keys(fields).forEach(key => {\n    if (fields[key].type !== 'date') return\n    sanitizedValues[key] = sanitizeDate(values[key], localeFormat)\n  })\n  return sanitizedValues\n}\n\nclass AccountConnection extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.store = this.context.store\n\n    if (this.props.error) this.handleError({ message: this.props.error })\n\n    this.state = {\n      account: this.props.existingAccount,\n      editing: !!this.props.existingAccount,\n      isFetching: false,\n      maintenance:\n        this.props.maintenance &&\n        this.props.maintenance[this.props.konnector.slug],\n      lang: this.context.lang\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    this.UNSAFE_componentWillReceiveProps(props)\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const { existingAccount } = nextProps\n\n    const accountHasJustBeenCreated =\n      !this.props.existingAccount && !!existingAccount\n\n    if (accountHasJustBeenCreated) {\n      this.setState({\n        account: existingAccount\n      })\n    }\n  }\n\n  connectAccount(auth) {\n    return this.runConnection({ auth }).catch(error => this.handleError(error))\n  }\n\n  connectAccountOAuth(accountType, values, scope) {\n    this.setState({\n      submitting: true,\n      oAuthError: null,\n      oAuthTerminated: false\n    })\n\n    const cozyUrl = `${window.location.protocol}//${\n      document.querySelector('[role=application]').dataset.cozyDomain\n    }`\n\n    // We use localStorage to store the account related data\n    const OAuthState = { accountType }\n    const OAuthStateKey = getRandomKeyString()\n    localStorage.setItem(OAuthStateKey, JSON.stringify(OAuthState))\n    const newTab = popupCenter(\n      `${cozyUrl}/accounts/${accountType}/start?scope=${scope}&state=${OAuthStateKey}&nonce=${Date.now()}`,\n      `${accountType}_oauth`,\n      800,\n      800\n    )\n    return waitForClosedPopup(newTab, accountType)\n      .then(accountID => {\n        return this.terminateOAuth(accountID, values)\n      })\n      .catch(error => {\n        this.setState({ submitting: false, oAuthError: error.message })\n      })\n  }\n\n  terminateOAuth(accountID, accountValues) {\n    this.setState({\n      oAuthTerminated: true\n    })\n\n    this.props\n      .fetchAccount(accountID)\n      .then(account => this.store.updateAccount(account, accountValues))\n      .then(account => {\n        const { konnector } = this.props\n        this.setState({ account: account })\n        return this.runConnection(account).then(() => {\n          this.setState({\n            connector: konnector,\n            submitting: false\n          })\n        })\n      })\n      .catch(error => this.handleError(error))\n  }\n\n  runConnection(account) {\n    this.setState({ submitting: true, connectionError: null })\n\n    return this.store\n      .connectAccount(\n        this.props.konnector,\n        account,\n        this.props.disableSuccessTimeout\n      )\n      .then(connection => {\n        this.setState({ submitting: false })\n        if (connection.account) {\n          this.setState({\n            account: connection.account\n          })\n        }\n\n        if (connection.error) {\n          return Promise.reject(connection.error)\n        } else {\n          return Promise.resolve(connection)\n        }\n      })\n  }\n\n  updateAccount(account, values) {\n    account.auth = Object.assign({}, account.auth, values)\n\n    this.setState({ submitting: true })\n\n    return this.store\n      .updateAccount(account, values)\n      .then(account => {\n        this.setState({ account: account })\n        return this.store\n          .runAccount(\n            this.props.trigger,\n            this.props.konnector,\n            account,\n            this.props.disableSuccessTimeout\n          )\n          .then(() => {\n            this.setState({\n              submitting: false\n            })\n          })\n      })\n      .catch(error => this.handleError(error))\n  }\n\n  deleteConnection() {\n    return this.props\n      .deleteConnection()\n      .then(() => this.handleDeleteSuccess())\n      .catch(error => this.handleError(error))\n  }\n\n  handleDeleteSuccess() {\n    this.setState({\n      submitting: false\n    })\n\n    if (typeof this.props.alertDeleteSuccess === 'function') {\n      this.props.alertDeleteSuccess([\n        { message: 'account.message.success.delete' }\n      ])\n    }\n  }\n\n  handleError(error) {\n    // eslint-disable-next-line no-console\n    console.error(error)\n\n    this.setState({\n      submitting: false,\n      connectionError: error.message\n    })\n  }\n\n  // @param isUpdate : used to force updating values not related to OAuth\n  onSubmit = () => {\n    const { fields, values, konnector, t } = this.props\n    const { account } = this.state\n    let valuesToSubmit = { ...values }\n\n    // namePath defined by the user is concatened with the folderPath\n    if (valuesToSubmit.folderPath) {\n      if (!valuesToSubmit.namePath) {\n        valuesToSubmit.namePath =\n          valuesToSubmit.accountName ||\n          valuesToSubmit.identifier ||\n          valuesToSubmit.login ||\n          valuesToSubmit.email ||\n          konnector.name\n      }\n      valuesToSubmit.namePath = valuesToSubmit.namePath.replace(\n        /[&/\\\\#,+()$@~%.'\":*?<>{}]/g,\n        '_'\n      )\n      valuesToSubmit.folderPath = `${valuesToSubmit.folderPath}/${\n        valuesToSubmit.namePath\n      }`\n    }\n\n    valuesToSubmit = sanitizeDates(\n      valuesToSubmit,\n      fields,\n      t('date.format', { _: collectConfig.defaultDateFormat })\n    )\n\n    // Update the path if the name path is the account name\n    const folderId =\n      this.props.trigger && this.props.trigger.message.folder_to_save\n    const accountName = account && account.auth && account.auth.accountName\n    if (\n      accountName &&\n      accountName.replace(/[&/\\\\#,+()$@~%.'\":*?<>{}]/g, '_') ===\n        account.auth.namePath &&\n      accountName !== valuesToSubmit.accountName\n    ) {\n      cozy.client.files.updateAttributesById(folderId, {\n        name: valuesToSubmit.accountName\n      })\n      valuesToSubmit.namePath = valuesToSubmit.accountName.replace(\n        /[&/\\\\#,+()$@~%.'\":*?<>{}]/g,\n        '_'\n      )\n    }\n\n    // Update account\n    if (account) {\n      return this.updateAccount(account, valuesToSubmit)\n    }\n\n    return konnector && konnector.oauth\n      ? this.connectAccountOAuth(\n          konnector.oauth.account_type || konnector.slug,\n          valuesToSubmit,\n          konnector.oauth.scope\n        )\n      : this.connectAccount(valuesToSubmit)\n  }\n\n  cancel() {\n    this.props.onCancel()\n  }\n\n  buildSuccessMessages(konnector) {\n    const { t } = this.context\n    const messages = [\n      t('account.message.success.connect', {\n        name: konnector.name\n      })\n    ]\n\n    if (\n      konnector.additionnalSuccessMessage &&\n      konnector.additionnalSuccessMessage.message\n    ) {\n      messages.push(t(konnector.additionnalSuccessMessage.message))\n    }\n\n    return messages\n  }\n\n  render() {\n    const {\n      createdAccount,\n      disableSuccessTimeout,\n      displayAccountsCount,\n      isUnloading,\n      allRequiredFieldsAreFilled,\n      allRequiredFilledButPasswords,\n      displayAdvanced,\n      handleConnectionSuccess,\n      toggleAdvanced,\n      dirty,\n      isValid,\n      isValidButPasswords,\n      fields,\n      deleting,\n      editing,\n      konnector,\n      lastSuccess,\n      error,\n      forceConnection,\n      isRunning,\n      onDone,\n      queued,\n      t,\n      trigger,\n      success,\n      closeModal,\n      successButtonLabel\n    } = this.props\n    const {\n      account,\n      connectionError,\n      oAuthError,\n      oAuthTerminated,\n      submitting,\n      isFetching,\n      folders,\n      maintenance,\n      lang\n    } = this.state\n    const { driveUrl } = this.store\n    const successMessages =\n      success || queued ? this.buildSuccessMessages(konnector) : []\n    return (\n      <div className={styles['col-account-connection']}>\n        {editing ? ( // Properly load the edit view or the initial config view\n          <KonnectorEdit\n            isFetching={isFetching}\n            account={account}\n            connector={konnector}\n            deleting={deleting}\n            disableSuccessTimeout={disableSuccessTimeout}\n            displayAdvanced={displayAdvanced}\n            driveUrl={driveUrl}\n            error={error || oAuthError || connectionError}\n            folders={folders}\n            fields={fields}\n            isUnloading={isUnloading}\n            lastSuccess={lastSuccess}\n            oAuthTerminated={oAuthTerminated}\n            onDelete={() => this.deleteConnection()}\n            onForceConnection={forceConnection}\n            onSubmit={this.onSubmit}\n            submitting={submitting || isRunning}\n            toggleAdvanced={toggleAdvanced}\n            allRequiredFieldsAreFilled={allRequiredFieldsAreFilled}\n            isValid={isValid}\n            allRequiredFilledButPasswords={allRequiredFilledButPasswords}\n            isValidButPasswords={isValidButPasswords}\n            trigger={trigger}\n            closeModal={closeModal}\n            dirty={dirty}\n            maintenance={maintenance}\n            lang={lang}\n          />\n        ) : (\n          <KonnectorInstall\n            displayAccountsCount={displayAccountsCount}\n            isFetching={isFetching}\n            account={createdAccount}\n            connector={konnector}\n            handleConnectionSuccess={handleConnectionSuccess}\n            isValid={isValid}\n            dirty={dirty}\n            disableSuccessTimeout={disableSuccessTimeout}\n            error={error || oAuthError || connectionError}\n            fields={fields}\n            queued={queued}\n            isUnloading={isUnloading}\n            oAuthTerminated={oAuthTerminated}\n            onDone={onDone}\n            onCancel={() => this.cancel()}\n            onSubmit={() => this.onSubmit()}\n            submitting={submitting || isRunning}\n            success={success || queued}\n            successMessage={t('account.success.title.connect')}\n            successButtonLabel={successButtonLabel}\n            successMessages={successMessages}\n            trigger={trigger}\n            allRequiredFieldsAreFilled={allRequiredFieldsAreFilled}\n            displayAdvanced={displayAdvanced}\n            toggleAdvanced={toggleAdvanced}\n            maintenance={maintenance}\n            lang={lang}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  success: isConnectionConnected(state.connections, ownProps.trigger),\n  deleting: isConnectionDeleting(state.connections, ownProps.trigger),\n  error: getConnectionError(state.connections, ownProps.trigger),\n  queued: isConnectionEnqueued(state.connections, ownProps.trigger)\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { konnector, trigger } = ownProps\n  return {\n    fetchAccount: accountId =>\n      dispatch(fetchAccount(accountId)).then(response => response.data[0]),\n    forceConnection: () =>\n      dispatch(\n        launchTriggerAndQueue(trigger, !!konnector && konnector.loginDelay)\n      ),\n    deleteConnection: () => dispatch(deleteConnection(trigger))\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(statefulForm()(withRouter(translate()(AccountConnection))))\n","import styles from '../styles/field.styl'\n\nimport React, { Component, cloneElement } from 'react'\nimport ReactDOM from 'react-dom'\nimport classNames from 'classnames'\nimport { translate } from 'cozy-ui/react/I18n'\nimport Input from 'cozy-ui/react/Input'\nimport statefulComponent from '../lib/statefulComponent'\n\nconst Field = props => {\n  let inputs\n  if (props.children && props.children.length !== 0) {\n    inputs = React.Children.toArray(props.children).map(child =>\n      cloneElement(\n        child,\n        Object.assign(props, {\n          selected: props.value,\n          className: styles['coz-field-input']\n        })\n      )\n    )\n  } else {\n    const {\n      type,\n      placeholder,\n      value,\n      onChange,\n      onBlur,\n      onInput,\n      disabled,\n      name,\n      noAutoFill,\n      isRequired\n    } = props\n    const autoFill = noAutoFill\n      ? type === 'password'\n        ? 'new-password'\n        : 'off'\n      : 'on'\n    inputs = (\n      <Input\n        aria-disabled={disabled}\n        type={type}\n        size=\"medium\"\n        fullwidth\n        placeholder={placeholder}\n        disabled={disabled}\n        isRequired={isRequired}\n        value={value}\n        name={name}\n        onChange={onChange}\n        onBlur={onBlur}\n        onInput={onInput}\n        autoComplete={autoFill}\n      />\n    )\n  }\n  const { giveFocus } = props\n  return props.type === 'hidden' ? (\n    inputs\n  ) : (\n    <FieldWrapper giveFocus={props.type !== 'hidden' && giveFocus} {...props}>\n      {inputs}\n    </FieldWrapper>\n  )\n}\n\nexport default Field\n\nclass FieldWrapperComponent extends Component {\n  componentDidMount() {\n    if (this.props.giveFocus) {\n      // eslint-disable-next-line react/no-find-dom-node\n      const thisNode = ReactDOM.findDOMNode(this)\n      const inputNode = thisNode.querySelector('input')\n      if (inputNode && typeof inputNode.focus === 'function') {\n        inputNode.focus()\n      }\n    }\n  }\n\n  handleKeyUp = ev => {\n    const key = ev.which || ev.keyCode\n    if (key === 13) this.props.onEnterKey()\n  }\n\n  render() {\n    const { label, invalid, errors, children, type, isRequired, t } = this.props\n    const hasErrored = (errors && errors.length !== 0) || invalid\n\n    return (\n      <div\n        className={classNames(\n          styles['coz-field'],\n          hasErrored && isRequired && styles['coz-field--error']\n        )}\n        onKeyUp={type !== 'folder' && this.props.onEnterKey && this.handleKeyUp}\n      >\n        {label && (\n          <label>\n            {label}\n            {!isRequired && (\n              <span className={styles['coz-field--optional']}>\n                {t('account.config.optional')}\n              </span>\n            )}\n          </label>\n        )}\n        {children}\n        {errors &&\n          errors.length !== 0 &&\n          errors.map((err, i) => (\n            <p key={i} className={styles['coz-field-error']}>\n              {err}\n            </p>\n          ))}\n      </div>\n    )\n  }\n}\n\nexport const FieldWrapper = translate()(FieldWrapperComponent)\n\nexport const PasswordField = translate()(\n  statefulComponent(\n    {\n      visible: false\n    },\n    setState => ({\n      toggleVisibility: () => {\n        setState(state => ({ visible: !state.visible }))\n      }\n    })\n  )(props => {\n    const {\n      t,\n      placeholder,\n      value,\n      onChange,\n      onBlur,\n      onInput,\n      toggleVisibility,\n      visible,\n      name,\n      giveFocus,\n      noAutoFill\n    } = props\n    const autoFill = noAutoFill ? (visible ? 'off' : 'new-password') : 'on'\n    return (\n      <FieldWrapper giveFocus={props.type !== 'hidden' && giveFocus} {...props}>\n        <button\n          type=\"button\"\n          title={\n            visible\n              ? t('field.password.visibility.title.hide')\n              : t('field.password.visibility.title.show')\n          }\n          className={styles['password-visibility']}\n          onClick={() => toggleVisibility()}\n        >\n          {visible\n            ? t('field.password.visibility.hide')\n            : t('field.password.visibility.show')}\n        </button>\n        <Input\n          type={visible ? 'text' : 'password'}\n          size=\"medium\"\n          fullwidth\n          placeholder={placeholder}\n          value={value}\n          name={name}\n          onChange={onChange}\n          onInput={onInput}\n          onBlur={onBlur}\n          autoComplete={autoFill}\n        />\n      </FieldWrapper>\n    )\n  })\n)\n\nexport const DropdownField = translate()(props => {\n  const { value, options, onChange, onInput } = props\n  let valueInOptions = options && options.indexOf(value) !== -1\n  let dropdownFieldOptions = valueInOptions ? options : [value].concat(options)\n\n  return (\n    <FieldWrapper {...props}>\n      <select\n        className={classNames(\n          styles['c-select--medium'],\n          styles['c-select--fullwidth']\n        )}\n        value={value}\n        onChange={onChange}\n        onInput={onInput}\n      >\n        {dropdownFieldOptions.map((optionValue, index) => (\n          <option\n            key={index}\n            value={\n              (optionValue && optionValue.value) ||\n              (props.default && props.default.value)\n            }\n            selected={optionValue && optionValue.value === { value }}\n          >\n            {(optionValue && optionValue.name) ||\n              (props.default && props.default.name)}\n          </option>\n        ))}\n      </select>\n    </FieldWrapper>\n  )\n})\n\nexport const CheckboxField = translate()(props => {\n  const { value, onChange, onInput, label, errors } = props\n  let input = (\n    <input\n      type=\"checkbox\"\n      className={styles['coz-field-input-checkbox']}\n      value={value}\n      checked={value}\n      onChange={onChange}\n      onInput={onInput}\n    />\n  )\n\n  const hasErrored = errors && errors.length > 0\n\n  return (\n    <div\n      className={classNames(\n        styles['coz-field'],\n        hasErrored && styles['coz-field--error']\n      )}\n    >\n      {label && (\n        <label>\n          {input} {label}\n        </label>\n      )}\n      {errors &&\n        errors.length !== 0 &&\n        errors.map((err, i) => (\n          <p key={i} className={styles['coz-field-error']}>\n            {err}\n          </p>\n        ))}\n    </div>\n  )\n})\n\nexport const isHidden = field =>\n  (field.type && field.type === 'hidden') || field.hidden\nexport const isAdvanced = field => !!field.advanced\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-calendar_2c0cc387ea824e04179115d65f1f02d7\",\n  \"use\": \"icon-calendar_2c0cc387ea824e04179115d65f1f02d7-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-calendar_2c0cc387ea824e04179115d65f1f02d7\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-288 -96)\\\">\\n    <g stroke-width=\\\"2\\\" transform=\\\"translate(289 97)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n      <g stroke=\\\"#95999D\\\">\\n        <polyline points=\\\"8 4 0 4 0 46 46 46 46 4 38 4\\\" />\\n        <polygon points=\\\"14 8 8 8 8 0 14 0\\\" />\\n        <polygon points=\\\"38 8 32 8 32 0 38 0\\\" />\\n        <path d=\\\"M14 4L32 4M0 14L46 14\\\" />\\n      </g>\\n      <g stroke=\\\"currentColor\\\" transform=\\\"translate(4 18)\\\">\\n        <path d=\\\"M8 0L8 24M18 0L18 24M28 0L28 24M0 4L38 4M0 12L38 12M0 20L38 20\\\" />\\n      </g>\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol"],"sourceRoot":""}