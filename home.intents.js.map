{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/styles/intents.styl?bc17","webpack:///./src/components/services/CreateAccountService.jsx","webpack:///./src/containers/IntentService.jsx","webpack:///./src/targets/intents/index.jsx","webpack:///./src/containers/IntentHandler.jsx","webpack:///./src/components/intents/CreateAccountIntent.jsx"],"names":["CreateAccountService","props","context","endCreation","onSuccess","account","t","konnector","values","fields","advancedFields","folderPath","name","setState","startCreation","state","React","Component","mapStateToProps","ownProps","createdAccount","getCreatedConnectionAccount","trigger","getTriggerByKonnectorAndAccount","isCreating","isCreatingConnection","connections","isRunning","isConnectionRunning","mapDispatchToProps","dispatch","startConnectionCreation","endConnectionCreation","connect","translate","IntentService","receiveKonnector","data","service","compose","installedKonnector","cancel","error","appData","onCancel","message","reason","terminate","receiveInstalledKonnector","slug","getKonnector","cozy","lang","document","documentElement","getAttribute","window","addEventListener","root","querySelector","dataset","client","CozyClient","cozyURL","cozyDomain","token","cozyToken","store","configureStore","render","require","IntentHandler","isInitializing","createIntentService","then","catch","accounts","konnectors","triggers","find","includes","collection","fetchStatus","getData","appEntryPoint","CreateAccountIntent","isSuccess","fetchUrls","onTerminate","handleConnectionSuccess"],"mappings":"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","file":"home.intents.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"intents\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"vendors\",\"app~intents\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spin\":\"spin--1tM1P\"};","import React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport AccountConnection from '../../containers/AccountConnection'\n\nimport { connect } from 'react-redux'\n\nimport {\n  endConnectionCreation,\n  isConnectionRunning,\n  isCreatingConnection,\n  startConnectionCreation\n} from '../../ducks/connections'\nimport {\n  getCreatedConnectionAccount,\n  getTriggerByKonnectorAndAccount\n} from '../../reducers'\n\nclass CreateAccountService extends React.Component {\n  constructor(props, context) {\n    super(props, context)\n    const { t, konnector } = props\n    const values = {}\n\n    if (\n      (konnector.fields &&\n        konnector.fields.advancedFields &&\n        konnector.fields.advancedFields.folderPath) ||\n      (konnector.fields && konnector.folderPath)\n    ) {\n      values.folderPath = t('account.config.default_folder', {\n        name: konnector.name\n      })\n    }\n\n    this.setState({ values: values })\n\n    this.props.startCreation(this.props.konnector)\n  }\n\n  onSuccess = account => {\n    this.props.endCreation()\n    this.props.onSuccess(account)\n  }\n\n  render() {\n    const { konnector, t } = this.props\n    const { values } = this.state\n    return (\n      <div className=\"coz-service-content\">\n        <AccountConnection\n          connector={konnector}\n          onDone={this.onSuccess}\n          successButtonLabel={t('intent.service.success.button.label')}\n          values={values}\n          {...this.props}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  // infos from route parameters\n  const { konnector } = ownProps\n  const createdAccount = getCreatedConnectionAccount(state)\n  const trigger = getTriggerByKonnectorAndAccount(\n    state,\n    konnector,\n    createdAccount\n  )\n  return {\n    createdAccount,\n    isCreating: isCreatingConnection(state.connections),\n    isRunning: isConnectionRunning(state.connections, trigger),\n    trigger\n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  startCreation: () => dispatch(startConnectionCreation(ownProps.konnector)),\n  endCreation: () => dispatch(endConnectionCreation())\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(translate()(CreateAccountService))\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport CreateAccountIntent from '../components/intents/CreateAccountIntent'\nimport { getKonnector, receiveInstalledKonnector } from '../ducks/konnectors'\n\nclass IntentService extends Component {\n  handleInstallationSuccess(konnector) {\n    this.props.receiveKonnector(konnector)\n  }\n\n  async componentDidMount() {\n    const { data, konnector, receiveKonnector, service } = this.props\n    if (service && !konnector) {\n      const installedKonnector = await service.compose(\n        'INSTALL',\n        'io.cozy.apps',\n        data\n      )\n\n      // if installedKonnector is null, it means the installation have been\n      // cancelled\n      if (!installedKonnector) {\n        return service.cancel()\n      }\n\n      receiveKonnector(installedKonnector)\n    }\n  }\n\n  onError(error) {\n    this.setState({\n      error: error\n    })\n  }\n\n  render() {\n    const { appData, konnector, onCancel, service } = this.props\n    const { error } = this.state\n    const { t } = this.context\n\n    return (\n      <div className=\"coz-service\">\n        {error && (\n          <div className=\"coz-error coz-service-error\">\n            <p>{t(error.message)}</p>\n            {error.reason && (\n              <p>{t('intent.service.error.cause', { error: error.reason })}</p>\n            )}\n          </div>\n        )}\n        {!error &&\n          konnector && (\n            <CreateAccountIntent\n              appData={appData}\n              konnector={konnector}\n              onCancel={onCancel}\n              onTerminate={service.terminate}\n            />\n          )}\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  receiveKonnector: konnector => dispatch(receiveInstalledKonnector(konnector))\n})\n\nconst mapStateToProps = (state, ownProps) => {\n  const { data } = ownProps\n  const { slug } = data\n  return {\n    konnector: slug && getKonnector(state.cozy, slug)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(IntentService)\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\n\nimport { I18n } from 'cozy-ui/react/I18n'\nimport configureStore from 'store/configureStore'\nimport { CozyClient, CozyProvider } from 'redux-cozy-client'\n\nimport IntentHandler from 'containers/IntentHandler'\n\nimport 'styles/intents.styl'\n\nconst lang = document.documentElement.getAttribute('lang') || 'en'\nconst context = window.context || 'cozy'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const root = document.querySelector('[role=application]')\n  const appData = root.dataset\n\n  const client = new CozyClient({\n    cozyURL: `//${appData.cozyDomain}`,\n    token: appData.cozyToken\n  })\n\n  // store\n  const store = configureStore(client, context, { lang })\n\n  render(\n    <CozyProvider store={store} client={client}>\n      <I18n\n        lang={lang}\n        dictRequire={lang => require(`locales/${lang}`)}\n        context={context}\n      >\n        <HashRouter>\n          <IntentHandler appData={appData} />\n        </HashRouter>\n      </I18n>\n    </CozyProvider>,\n    document.querySelector('[role=application]')\n  )\n})\n","import React, { Component } from 'react'\n\nimport appEntryPoint from '../components/appEntryPoint'\n\nimport IntentService from './IntentService'\nimport Spinner from 'cozy-ui/react/Spinner'\n\nclass IntentHandler extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.store = context.store\n\n    this.state = {\n      isInitializing: true\n    }\n\n    this.store\n      .createIntentService()\n      .then(service => {\n        this.setState({\n          isInitializing: false,\n          service: service\n        })\n      })\n      .catch(error => {\n        this.setState({\n          isInitializing: false,\n          error: {\n            message: 'intent.service.error.initialization',\n            reason: error.message\n          }\n        })\n      })\n  }\n\n  terminate(account) {\n    const { service } = this.state\n    service.terminate(account)\n  }\n\n  cancel() {\n    const { service } = this.state\n    service.cancel()\n  }\n\n  handleError(error) {\n    this.setState({\n      error: {\n        message: 'intent.service.error.creation',\n        reason: error.message\n      }\n    })\n\n    throw error\n  }\n\n  render() {\n    // const { data } = this.props\n    const { appData, accounts, konnectors, triggers } = this.props\n    const { error, service } = this.state\n\n    const { t } = this.context\n\n    let { isInitializing } = this.state\n\n    isInitializing =\n      isInitializing ||\n      [accounts, konnectors, triggers].find(collection =>\n        ['pending', 'loading'].includes(collection.fetchStatus)\n      )\n\n    return (\n      <div className=\"coz-service\">\n        {isInitializing && (\n          <div className=\"coz-service-loading\">\n            <Spinner size=\"xxlarge\" />\n          </div>\n        )}\n        {error && (\n          <div className=\"coz-error coz-service-error\">\n            <p>{t(error.message)}</p>\n            <p>{t('intent.service.error.cause', { error: error.reason })}</p>\n          </div>\n        )}\n        {!isInitializing &&\n          !error && (\n            // Here we should render a component based on the intent action.\n            // For now, our action is only CREATE on io.cozy.accounts. So here\n            // we should render a component named CreateAccountService.\n            // IntentService is just here for legacy reason and should\n            // disappear.\n            // In the future we may test the intent action and render a\n            // specific component for every action.\n            <IntentService\n              appData={appData}\n              data={service.getData()}\n              onTerminate={account => this.terminate(account)}\n              onCancel={() => this.cancel()}\n              service={service}\n            />\n          )}\n      </div>\n    )\n  }\n}\n\nexport default appEntryPoint(IntentHandler)\n","import React, { Component } from 'react'\n\nimport CreateAccountService from 'components/services/CreateAccountService'\nimport KonnectorHeaderIcon from 'components/KonnectorHeaderIcon'\n\nclass CreateAccountIntent extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.store = this.context.store\n    this.state = { isSuccess: false }\n    this.store.fetchUrls()\n  }\n\n  handleConnectionSuccess = () => {\n    this.setState({ isSuccess: true })\n  }\n\n  render() {\n    const { konnector, onCancel, onTerminate } = this.props\n    const { isSuccess } = this.state\n    return (\n      <div className=\"col-create-account-intent\">\n        {!isSuccess && <KonnectorHeaderIcon konnector={konnector} center />}\n        {konnector && (\n          <CreateAccountService\n            konnector={konnector}\n            onCancel={() => onCancel()}\n            onSuccess={onTerminate}\n            closeModal={() => onCancel()}\n            handleConnectionSuccess={this.handleConnectionSuccess}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default CreateAccountIntent\n"],"sourceRoot":""}